var nm=Object.defineProperty;var sm=(e,t,r)=>t in e?nm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ba=(e,t,r)=>(sm(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function am(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bc={exports:{}},ea={},Nc={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=Symbol.for("react.element"),im=Symbol.for("react.portal"),lm=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),dm=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.memo"),pm=Symbol.for("react.lazy"),Xl=Symbol.iterator;function gm(e){return e===null||typeof e!="object"?null:(e=Xl&&e[Xl]||e["@@iterator"],typeof e=="function"?e:null)}var jc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kc=Object.assign,Sc={};function Or(e,t,r){this.props=e,this.context=t,this.refs=Sc,this.updater=r||jc}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cc(){}Cc.prototype=Or.prototype;function Ki(e,t,r){this.props=e,this.context=t,this.refs=Sc,this.updater=r||jc}var qi=Ki.prototype=new Cc;qi.constructor=Ki;kc(qi,Or.prototype);qi.isPureReactComponent=!0;var Jl=Array.isArray,Ec=Object.prototype.hasOwnProperty,Qi={current:null},_c={key:!0,ref:!0,__self:!0,__source:!0};function Pc(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ec.call(t,n)&&!_c.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:On,type:e,key:i,ref:l,props:a,_owner:Qi.current}}function xm(e,t){return{$$typeof:On,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yi(e){return typeof e=="object"&&e!==null&&e.$$typeof===On}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var eo=/\/+/g;function Na(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function us(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case On:case im:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Na(l,0):n,Jl(a)?(r="",e!=null&&(r=e.replace(eo,"$&/")+"/"),us(a,t,r,"",function(u){return u})):a!=null&&(Yi(a)&&(a=xm(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(eo,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Jl(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Na(i,o);l+=us(i,t,r,c,a)}else if(c=gm(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Na(i,o++),l+=us(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Gn(e,t,r){if(e==null)return e;var n=[],a=0;return us(e,n,"","",function(i){return t.call(r,i,a++)}),n}function vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},ds={transition:null},wm={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ds,ReactCurrentOwner:Qi};function Ac(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Gn,forEach:function(e,t,r){Gn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gn(e,function(){t++}),t},toArray:function(e){return Gn(e,function(t){return t})||[]},only:function(e){if(!Yi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Or;V.Fragment=lm;V.Profiler=cm;V.PureComponent=Ki;V.StrictMode=om;V.Suspense=fm;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wm;V.act=Ac;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kc({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Qi.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ec.call(t,c)&&!_c.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:On,type:e.type,key:a,ref:i,props:n,_owner:l}};V.createContext=function(e){return e={$$typeof:dm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:um,_context:e},e.Consumer=e};V.createElement=Pc;V.createFactory=function(e){var t=Pc.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:mm,render:e}};V.isValidElement=Yi;V.lazy=function(e){return{$$typeof:pm,_payload:{_status:-1,_result:e},_init:vm}};V.memo=function(e,t){return{$$typeof:hm,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ds.transition;ds.transition={};try{e()}finally{ds.transition=t}};V.unstable_act=Ac;V.useCallback=function(e,t){return je.current.useCallback(e,t)};V.useContext=function(e){return je.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return je.current.useDeferredValue(e)};V.useEffect=function(e,t){return je.current.useEffect(e,t)};V.useId=function(){return je.current.useId()};V.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return je.current.useMemo(e,t)};V.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};V.useRef=function(e){return je.current.useRef(e)};V.useState=function(e){return je.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return je.current.useTransition()};V.version="18.3.1";Nc.exports=V;var m=Nc.exports;const Rc=am(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=m,Nm=Symbol.for("react.element"),jm=Symbol.for("react.fragment"),km=Object.prototype.hasOwnProperty,Sm=bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cm={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)km.call(t,n)&&!Cm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Nm,type:e,key:i,ref:l,props:a,_owner:Sm.current}}ea.Fragment=jm;ea.jsx=Mc;ea.jsxs=Mc;bc.exports=ea;var s=bc.exports,Xa={},Tc={exports:{}},Le={},Ic={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var I=P.length;P.push(F);e:for(;0<I;){var U=I-1>>>1,O=P[U];if(0<a(O,F))P[U]=F,P[I]=O,I=U;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var F=P[0],I=P.pop();if(I!==F){P[0]=I;e:for(var U=0,O=P.length,B=O>>>1;U<B;){var q=2*(U+1)-1,ge=P[q],We=q+1,ot=P[We];if(0>a(ge,I))We<O&&0>a(ot,ge)?(P[U]=ot,P[We]=I,U=We):(P[U]=ge,P[q]=I,U=q);else if(We<O&&0>a(ot,I))P[U]=ot,P[We]=I,U=We;else break e}}return F}function a(P,F){var I=P.sortIndex-F.sortIndex;return I!==0?I:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,p=null,f=3,v=!1,y=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=P)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function b(P){if(C=!1,x(P),!y)if(r(c)!==null)y=!0,S(E);else{var F=r(u);F!==null&&k(b,F.startTime-P)}}function E(P,F){y=!1,C&&(C=!1,g(D),D=-1),v=!0;var I=f;try{for(x(F),p=r(c);p!==null&&(!(p.expirationTime>F)||P&&!z());){var U=p.callback;if(typeof U=="function"){p.callback=null,f=p.priorityLevel;var O=U(p.expirationTime<=F);F=e.unstable_now(),typeof O=="function"?p.callback=O:p===r(c)&&n(c),x(F)}else n(c);p=r(c)}if(p!==null)var B=!0;else{var q=r(u);q!==null&&k(b,q.startTime-F),B=!1}return B}finally{p=null,f=I,v=!1}}var _=!1,A=null,D=-1,w=5,T=-1;function z(){return!(e.unstable_now()-T<w)}function L(){if(A!==null){var P=e.unstable_now();T=P;var F=!0;try{F=A(!0,P)}finally{F?N():(_=!1,A=null)}}else _=!1}var N;if(typeof d=="function")N=function(){d(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,j=R.port2;R.port1.onmessage=L,N=function(){j.postMessage(null)}}else N=function(){M(L,0)};function S(P){A=P,_||(_=!0,N())}function k(P,F){D=M(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,S(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var I=f;f=F;try{return P()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=f;f=P;try{return F()}finally{f=I}},e.unstable_scheduleCallback=function(P,F,I){var U=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?U+I:U):I=U,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=I+O,P={id:h++,callback:F,priorityLevel:P,startTime:I,expirationTime:O,sortIndex:-1},I>U?(P.sortIndex=I,t(u,P),r(c)===null&&P===r(u)&&(C?(g(D),D=-1):C=!0,k(b,I-U))):(P.sortIndex=O,t(c,P),y||v||(y=!0,S(E))),P},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(P){var F=f;return function(){var I=f;f=F;try{return P.apply(this,arguments)}finally{f=I}}}})(Lc);Ic.exports=Lc;var Em=Ic.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=m,Ie=Em;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fc=new Set,yn={};function lr(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(yn[e]=t,e=0;e<t.length;e++)Fc.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=Object.prototype.hasOwnProperty,Pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,to={},ro={};function Am(e){return Ja.call(ro,e)?!0:Ja.call(to,e)?!1:Pm.test(e)?ro[e]=!0:(to[e]=!0,!1)}function Rm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mm(e,t,r,n){if(t===null||typeof t>"u"||Rm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zi=/[\-:]([a-z])/g;function Xi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zi,Xi);he[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zi,Xi);he[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zi,Xi);he[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ji(e,t,r,n){var a=he.hasOwnProperty(t)?he[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mm(t,r,a,n)&&(r=null),n||a===null?Am(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nt=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kn=Symbol.for("react.element"),ur=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),ei=Symbol.for("react.profiler"),Dc=Symbol.for("react.provider"),$c=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),ti=Symbol.for("react.suspense"),ri=Symbol.for("react.suspense_list"),rl=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Oc=Symbol.for("react.offscreen"),no=Symbol.iterator;function Gr(e){return e===null||typeof e!="object"?null:(e=no&&e[no]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,ja;function rn(e){if(ja===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ja=t&&t[1]||""}return`
`+ja+e}var ka=!1;function Sa(e,t){if(!e||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rn(e):""}function Tm(e){switch(e.tag){case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 2:case 15:return e=Sa(e.type,!1),e;case 11:return e=Sa(e.type.render,!1),e;case 1:return e=Sa(e.type,!0),e;default:return""}}function ni(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case ur:return"Portal";case ei:return"Profiler";case el:return"StrictMode";case ti:return"Suspense";case ri:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $c:return(e.displayName||"Context")+".Consumer";case Dc:return(e._context.displayName||"Context")+".Provider";case tl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rl:return t=e.displayName||null,t!==null?t:ni(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return ni(e(t))}catch{}}return null}function Im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ni(t);case 8:return t===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lm(e){var t=zc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qn(e){e._valueTracker||(e._valueTracker=Lm(e))}function Uc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function si(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function so(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ut(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bc(e,t){t=t.checked,t!=null&&Ji(e,"checked",t,!1)}function ai(e,t){Bc(e,t);var r=Ut(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ii(e,t.type,r):t.hasOwnProperty("defaultValue")&&ii(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ao(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ii(e,t,r){(t!=="number"||Es(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nn=Array.isArray;function jr(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ut(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function li(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function io(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(nn(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ut(r)}}function Hc(e,t){var r=Ut(t.value),n=Ut(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qn,Vc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fm=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(e){Fm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),on[t]=on[e]})});function Gc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||on.hasOwnProperty(e)&&on[e]?(""+t).trim():t+"px"}function Kc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Gc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Dm=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(e,t){if(t){if(Dm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function ui(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mi=null,kr=null,Sr=null;function oo(e){if(e=Bn(e)){if(typeof mi!="function")throw Error($(280));var t=e.stateNode;t&&(t=aa(t),mi(e.stateNode,e.type,t))}}function qc(e){kr?Sr?Sr.push(e):Sr=[e]:kr=e}function Qc(){if(kr){var e=kr,t=Sr;if(Sr=kr=null,oo(e),t)for(e=0;e<t.length;e++)oo(t[e])}}function Yc(e,t){return e(t)}function Zc(){}var Ca=!1;function Xc(e,t,r){if(Ca)return e(t,r);Ca=!0;try{return Yc(e,t,r)}finally{Ca=!1,(kr!==null||Sr!==null)&&(Zc(),Qc())}}function wn(e,t){var r=e.stateNode;if(r===null)return null;var n=aa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var fi=!1;if(gt)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){fi=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{fi=!1}function $m(e,t,r,n,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var cn=!1,_s=null,Ps=!1,hi=null,Om={onError:function(e){cn=!0,_s=e}};function zm(e,t,r,n,a,i,l,o,c){cn=!1,_s=null,$m.apply(Om,arguments)}function Um(e,t,r,n,a,i,l,o,c){if(zm.apply(this,arguments),cn){if(cn){var u=_s;cn=!1,_s=null}else throw Error($(198));Ps||(Ps=!0,hi=u)}}function or(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function co(e){if(or(e)!==e)throw Error($(188))}function Bm(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return co(a),e;if(i===n)return co(a),t;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function eu(e){return e=Bm(e),e!==null?tu(e):null}function tu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tu(e);if(t!==null)return t;e=e.sibling}return null}var ru=Ie.unstable_scheduleCallback,uo=Ie.unstable_cancelCallback,Hm=Ie.unstable_shouldYield,Wm=Ie.unstable_requestPaint,ie=Ie.unstable_now,Vm=Ie.unstable_getCurrentPriorityLevel,sl=Ie.unstable_ImmediatePriority,nu=Ie.unstable_UserBlockingPriority,As=Ie.unstable_NormalPriority,Gm=Ie.unstable_LowPriority,su=Ie.unstable_IdlePriority,ta=null,at=null;function Km(e){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Ym,qm=Math.log,Qm=Math.LN2;function Ym(e){return e>>>=0,e===0?32:31-(qm(e)/Qm|0)|0}var Yn=64,Zn=4194304;function sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=sn(o):(i&=l,i!==0&&(n=sn(i)))}else l=r&~a,l!==0?n=sn(l):i!==0&&(n=sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ze(t),a=1<<r,n|=e[r],t&=~a;return n}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ze(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=Zm(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function pi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function au(){var e=Yn;return Yn<<=1,!(Yn&4194240)&&(Yn=64),e}function Ea(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=r}function Jm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ze(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function al(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ze(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Q=0;function iu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lu,il,ou,cu,uu,gi=!1,Xn=[],Mt=null,Tt=null,It=null,bn=new Map,Nn=new Map,Et=[],ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mo(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(t.pointerId)}}function qr(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Bn(t),t!==null&&il(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tf(e,t,r,n,a){switch(t){case"focusin":return Mt=qr(Mt,e,t,r,n,a),!0;case"dragenter":return Tt=qr(Tt,e,t,r,n,a),!0;case"mouseover":return It=qr(It,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return bn.set(i,qr(bn.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Nn.set(i,qr(Nn.get(i)||null,e,t,r,n,a)),!0}return!1}function du(e){var t=Zt(e.target);if(t!==null){var r=or(t);if(r!==null){if(t=r.tag,t===13){if(t=Jc(r),t!==null){e.blockedOn=t,uu(e.priority,function(){ou(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);di=n,r.target.dispatchEvent(n),di=null}else return t=Bn(r),t!==null&&il(t),e.blockedOn=r,!1;t.shift()}return!0}function fo(e,t,r){ms(e)&&r.delete(t)}function rf(){gi=!1,Mt!==null&&ms(Mt)&&(Mt=null),Tt!==null&&ms(Tt)&&(Tt=null),It!==null&&ms(It)&&(It=null),bn.forEach(fo),Nn.forEach(fo)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,gi||(gi=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,rf)))}function jn(e){function t(a){return Qr(a,e)}if(0<Xn.length){Qr(Xn[0],e);for(var r=1;r<Xn.length;r++){var n=Xn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mt!==null&&Qr(Mt,e),Tt!==null&&Qr(Tt,e),It!==null&&Qr(It,e),bn.forEach(t),Nn.forEach(t),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)du(r),r.blockedOn===null&&Et.shift()}var Cr=Nt.ReactCurrentBatchConfig,Ms=!0;function nf(e,t,r,n){var a=Q,i=Cr.transition;Cr.transition=null;try{Q=1,ll(e,t,r,n)}finally{Q=a,Cr.transition=i}}function sf(e,t,r,n){var a=Q,i=Cr.transition;Cr.transition=null;try{Q=4,ll(e,t,r,n)}finally{Q=a,Cr.transition=i}}function ll(e,t,r,n){if(Ms){var a=xi(e,t,r,n);if(a===null)Da(e,t,n,Ts,r),mo(e,n);else if(tf(a,e,t,r,n))n.stopPropagation();else if(mo(e,n),t&4&&-1<ef.indexOf(e)){for(;a!==null;){var i=Bn(a);if(i!==null&&lu(i),i=xi(e,t,r,n),i===null&&Da(e,t,n,Ts,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Da(e,t,n,null,r)}}var Ts=null;function xi(e,t,r,n){if(Ts=null,e=nl(n),e=Zt(e),e!==null)if(t=or(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ts=e,null}function mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case sl:return 1;case nu:return 4;case As:case Gm:return 16;case su:return 536870912;default:return 16}default:return 16}}var Pt=null,ol=null,fs=null;function fu(){if(fs)return fs;var e,t=ol,r=t.length,n,a="value"in Pt?Pt.value:Pt.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return fs=a.slice(e,1<n?1-n:void 0)}function hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function ho(){return!1}function Fe(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jn:ho,this.isPropagationStopped=ho,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=Fe(zr),Un=se({},zr,{view:0,detail:0}),af=Fe(Un),_a,Pa,Yr,ra=se({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(_a=e.screenX-Yr.screenX,Pa=e.screenY-Yr.screenY):Pa=_a=0,Yr=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:Pa}}),po=Fe(ra),lf=se({},ra,{dataTransfer:0}),of=Fe(lf),cf=se({},Un,{relatedTarget:0}),Aa=Fe(cf),uf=se({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),df=Fe(uf),mf=se({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=Fe(mf),hf=se({},zr,{data:0}),go=Fe(hf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xf[e])?!!t[e]:!1}function ul(){return yf}var vf=se({},Un,{key:function(e){if(e.key){var t=pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wf=Fe(vf),bf=se({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Fe(bf),Nf=se({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),jf=Fe(Nf),kf=se({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sf=Fe(kf),Cf=se({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ef=Fe(Cf),_f=[9,13,27,32],dl=gt&&"CompositionEvent"in window,un=null;gt&&"documentMode"in document&&(un=document.documentMode);var Pf=gt&&"TextEvent"in window&&!un,hu=gt&&(!dl||un&&8<un&&11>=un),yo=String.fromCharCode(32),vo=!1;function pu(e,t){switch(e){case"keyup":return _f.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function Af(e,t){switch(e){case"compositionend":return gu(t);case"keypress":return t.which!==32?null:(vo=!0,yo);case"textInput":return e=t.data,e===yo&&vo?null:e;default:return null}}function Rf(e,t){if(mr)return e==="compositionend"||!dl&&pu(e,t)?(e=fu(),fs=ol=Pt=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hu&&t.locale!=="ko"?null:t.data;default:return null}}var Mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mf[e.type]:t==="textarea"}function xu(e,t,r,n){qc(n),t=Is(t,"onChange"),0<t.length&&(r=new cl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dn=null,kn=null;function Tf(e){_u(e,0)}function na(e){var t=pr(e);if(Uc(t))return e}function If(e,t){if(e==="change")return t}var yu=!1;if(gt){var Ra;if(gt){var Ma="oninput"in document;if(!Ma){var bo=document.createElement("div");bo.setAttribute("oninput","return;"),Ma=typeof bo.oninput=="function"}Ra=Ma}else Ra=!1;yu=Ra&&(!document.documentMode||9<document.documentMode)}function No(){dn&&(dn.detachEvent("onpropertychange",vu),kn=dn=null)}function vu(e){if(e.propertyName==="value"&&na(kn)){var t=[];xu(t,kn,e,nl(e)),Xc(Tf,t)}}function Lf(e,t,r){e==="focusin"?(No(),dn=t,kn=r,dn.attachEvent("onpropertychange",vu)):e==="focusout"&&No()}function Ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return na(kn)}function Df(e,t){if(e==="click")return na(t)}function $f(e,t){if(e==="input"||e==="change")return na(t)}function Of(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Je=typeof Object.is=="function"?Object.is:Of;function Sn(e,t){if(Je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ja.call(t,a)||!Je(e[a],t[a]))return!1}return!0}function jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ko(e,t){var r=jo(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jo(r)}}function wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bu(){for(var e=window,t=Es();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Es(e.document)}return t}function ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zf(e){var t=bu(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wu(r.ownerDocument.documentElement,r)){if(n!==null&&ml(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ko(r,i);var l=ko(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uf=gt&&"documentMode"in document&&11>=document.documentMode,fr=null,yi=null,mn=null,vi=!1;function So(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vi||fr==null||fr!==Es(n)||(n=fr,"selectionStart"in n&&ml(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mn&&Sn(mn,n)||(mn=n,n=Is(yi,"onSelect"),0<n.length&&(t=new cl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fr)))}function es(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hr={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Ta={},Nu={};gt&&(Nu=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function sa(e){if(Ta[e])return Ta[e];if(!hr[e])return e;var t=hr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Nu)return Ta[e]=t[r];return e}var ju=sa("animationend"),ku=sa("animationiteration"),Su=sa("animationstart"),Cu=sa("transitionend"),Eu=new Map,Co="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){Eu.set(e,t),lr(t,[e])}for(var Ia=0;Ia<Co.length;Ia++){var La=Co[Ia],Bf=La.toLowerCase(),Hf=La[0].toUpperCase()+La.slice(1);Vt(Bf,"on"+Hf)}Vt(ju,"onAnimationEnd");Vt(ku,"onAnimationIteration");Vt(Su,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(Cu,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var an="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new Set("cancel close invalid load scroll toggle".split(" ").concat(an));function Eo(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Um(n,t,void 0,e),e.currentTarget=null}function _u(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Eo(a,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Eo(a,o,u),i=c}}}if(Ps)throw e=hi,Ps=!1,hi=null,e}function X(e,t){var r=t[ki];r===void 0&&(r=t[ki]=new Set);var n=e+"__bubble";r.has(n)||(Pu(t,e,2,!1),r.add(n))}function Fa(e,t,r){var n=0;t&&(n|=4),Pu(r,e,n,t)}var ts="_reactListening"+Math.random().toString(36).slice(2);function Cn(e){if(!e[ts]){e[ts]=!0,Fc.forEach(function(r){r!=="selectionchange"&&(Wf.has(r)||Fa(r,!1,e),Fa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ts]||(t[ts]=!0,Fa("selectionchange",!1,t))}}function Pu(e,t,r,n){switch(mu(t)){case 1:var a=nf;break;case 4:a=sf;break;default:a=ll}r=a.bind(null,t,r,e),a=void 0,!fi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Da(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Zt(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Xc(function(){var u=i,h=nl(r),p=[];e:{var f=Eu.get(e);if(f!==void 0){var v=cl,y=e;switch(e){case"keypress":if(hs(r)===0)break e;case"keydown":case"keyup":v=wf;break;case"focusin":y="focus",v=Aa;break;case"focusout":y="blur",v=Aa;break;case"beforeblur":case"afterblur":v=Aa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jf;break;case ju:case ku:case Su:v=df;break;case Cu:v=Sf;break;case"scroll":v=af;break;case"wheel":v=Ef;break;case"copy":case"cut":case"paste":v=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=xo}var C=(t&4)!==0,M=!C&&e==="scroll",g=C?f!==null?f+"Capture":null:f;C=[];for(var d=u,x;d!==null;){x=d;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=wn(d,g),b!=null&&C.push(En(d,b,x)))),M)break;d=d.return}0<C.length&&(f=new v(f,y,null,r,h),p.push({event:f,listeners:C}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==di&&(y=r.relatedTarget||r.fromElement)&&(Zt(y)||y[xt]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?Zt(y):null,y!==null&&(M=or(y),y!==M||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(C=po,b="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(C=xo,b="onPointerLeave",g="onPointerEnter",d="pointer"),M=v==null?f:pr(v),x=y==null?f:pr(y),f=new C(b,d+"leave",v,r,h),f.target=M,f.relatedTarget=x,b=null,Zt(h)===u&&(C=new C(g,d+"enter",y,r,h),C.target=x,C.relatedTarget=M,b=C),M=b,v&&y)t:{for(C=v,g=y,d=0,x=C;x;x=cr(x))d++;for(x=0,b=g;b;b=cr(b))x++;for(;0<d-x;)C=cr(C),d--;for(;0<x-d;)g=cr(g),x--;for(;d--;){if(C===g||g!==null&&C===g.alternate)break t;C=cr(C),g=cr(g)}C=null}else C=null;v!==null&&_o(p,f,v,C,!1),y!==null&&M!==null&&_o(p,M,y,C,!0)}}e:{if(f=u?pr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=If;else if(wo(f))if(yu)E=$f;else{E=Ff;var _=Lf}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Df);if(E&&(E=E(e,u))){xu(p,E,r,h);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&ii(f,"number",f.value)}switch(_=u?pr(u):window,e){case"focusin":(wo(_)||_.contentEditable==="true")&&(fr=_,yi=u,mn=null);break;case"focusout":mn=yi=fr=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,So(p,r,h);break;case"selectionchange":if(Uf)break;case"keydown":case"keyup":So(p,r,h)}var A;if(dl)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else mr?pu(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(hu&&r.locale!=="ko"&&(mr||D!=="onCompositionStart"?D==="onCompositionEnd"&&mr&&(A=fu()):(Pt=h,ol="value"in Pt?Pt.value:Pt.textContent,mr=!0)),_=Is(u,D),0<_.length&&(D=new go(D,e,null,r,h),p.push({event:D,listeners:_}),A?D.data=A:(A=gu(r),A!==null&&(D.data=A)))),(A=Pf?Af(e,r):Rf(e,r))&&(u=Is(u,"onBeforeInput"),0<u.length&&(h=new go("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=A))}_u(p,t)})}function En(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Is(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=wn(e,r),i!=null&&n.unshift(En(e,i,a)),i=wn(e,t),i!=null&&n.push(En(e,i,a))),e=e.return}return n}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _o(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=wn(r,i),c!=null&&l.unshift(En(r,c,o))):a||(c=wn(r,i),c!=null&&l.push(En(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Vf=/\r\n?/g,Gf=/\u0000|\uFFFD/g;function Po(e){return(typeof e=="string"?e:""+e).replace(Vf,`
`).replace(Gf,"")}function rs(e,t,r){if(t=Po(t),Po(e)!==t&&r)throw Error($(425))}function Ls(){}var wi=null,bi=null;function Ni(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ji=typeof setTimeout=="function"?setTimeout:void 0,Kf=typeof clearTimeout=="function"?clearTimeout:void 0,Ao=typeof Promise=="function"?Promise:void 0,qf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ao<"u"?function(e){return Ao.resolve(null).then(e).catch(Qf)}:ji;function Qf(e){setTimeout(function(){throw e})}function $a(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),jn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);jn(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ro(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),st="__reactFiber$"+Ur,_n="__reactProps$"+Ur,xt="__reactContainer$"+Ur,ki="__reactEvents$"+Ur,Yf="__reactListeners$"+Ur,Zf="__reactHandles$"+Ur;function Zt(e){var t=e[st];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xt]||r[st]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ro(e);e!==null;){if(r=e[st])return r;e=Ro(e)}return t}e=r,r=e.parentNode}return null}function Bn(e){return e=e[st]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function aa(e){return e[_n]||null}var Si=[],gr=-1;function Gt(e){return{current:e}}function J(e){0>gr||(e.current=Si[gr],Si[gr]=null,gr--)}function Z(e,t){gr++,Si[gr]=e.current,e.current=t}var Bt={},we=Gt(Bt),Ee=Gt(!1),rr=Bt;function Mr(e,t){var r=e.type.contextTypes;if(!r)return Bt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _e(e){return e=e.childContextTypes,e!=null}function Fs(){J(Ee),J(we)}function Mo(e,t,r){if(we.current!==Bt)throw Error($(168));Z(we,t),Z(Ee,r)}function Au(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error($(108,Im(e)||"Unknown",a));return se({},r,n)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,rr=we.current,Z(we,e),Z(Ee,Ee.current),!0}function To(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Au(e,t,rr),n.__reactInternalMemoizedMergedChildContext=e,J(Ee),J(we),Z(we,e)):J(Ee),Z(Ee,r)}var ut=null,ia=!1,Oa=!1;function Ru(e){ut===null?ut=[e]:ut.push(e)}function Xf(e){ia=!0,Ru(e)}function Kt(){if(!Oa&&ut!==null){Oa=!0;var e=0,t=Q;try{var r=ut;for(Q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ut=null,ia=!1}catch(a){throw ut!==null&&(ut=ut.slice(e+1)),ru(sl,Kt),a}finally{Q=t,Oa=!1}}return null}var xr=[],yr=0,$s=null,Os=0,$e=[],Oe=0,nr=null,dt=1,mt="";function qt(e,t){xr[yr++]=Os,xr[yr++]=$s,$s=e,Os=t}function Mu(e,t,r){$e[Oe++]=dt,$e[Oe++]=mt,$e[Oe++]=nr,nr=e;var n=dt;e=mt;var a=32-Ze(n)-1;n&=~(1<<a),r+=1;var i=32-Ze(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,dt=1<<32-Ze(t)+a|r<<a|n,mt=i+e}else dt=1<<i|r<<a|n,mt=e}function fl(e){e.return!==null&&(qt(e,1),Mu(e,1,0))}function hl(e){for(;e===$s;)$s=xr[--yr],xr[yr]=null,Os=xr[--yr],xr[yr]=null;for(;e===nr;)nr=$e[--Oe],$e[Oe]=null,mt=$e[--Oe],$e[Oe]=null,dt=$e[--Oe],$e[Oe]=null}var Te=null,Re=null,ee=!1,qe=null;function Tu(e,t){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Io(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Te=e,Re=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Te=e,Re=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=nr!==null?{id:dt,overflow:mt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Te=e,Re=null,!0):!1;default:return!1}}function Ci(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ei(e){if(ee){var t=Re;if(t){var r=t;if(!Io(e,t)){if(Ci(e))throw Error($(418));t=Lt(r.nextSibling);var n=Te;t&&Io(e,t)?Tu(n,r):(e.flags=e.flags&-4097|2,ee=!1,Te=e)}}else{if(Ci(e))throw Error($(418));e.flags=e.flags&-4097|2,ee=!1,Te=e}}}function Lo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function ns(e){if(e!==Te)return!1;if(!ee)return Lo(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ni(e.type,e.memoizedProps)),t&&(t=Re)){if(Ci(e))throw Iu(),Error($(418));for(;t;)Tu(e,t),t=Lt(t.nextSibling)}if(Lo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Re=Lt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Re=null}}else Re=Te?Lt(e.stateNode.nextSibling):null;return!0}function Iu(){for(var e=Re;e;)e=Lt(e.nextSibling)}function Tr(){Re=Te=null,ee=!1}function pl(e){qe===null?qe=[e]:qe.push(e)}var Jf=Nt.ReactCurrentBatchConfig;function Zr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function ss(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fo(e){var t=e._init;return t(e._payload)}function Lu(e){function t(g,d){if(e){var x=g.deletions;x===null?(g.deletions=[d],g.flags|=16):x.push(d)}}function r(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function n(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function a(g,d){return g=Ot(g,d),g.index=0,g.sibling=null,g}function i(g,d,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<d?(g.flags|=2,d):x):(g.flags|=2,d)):(g.flags|=1048576,d)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,d,x,b){return d===null||d.tag!==6?(d=Ga(x,g.mode,b),d.return=g,d):(d=a(d,x),d.return=g,d)}function c(g,d,x,b){var E=x.type;return E===dr?h(g,d,x.props.children,b,x.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===St&&Fo(E)===d.type)?(b=a(d,x.props),b.ref=Zr(g,d,x),b.return=g,b):(b=bs(x.type,x.key,x.props,null,g.mode,b),b.ref=Zr(g,d,x),b.return=g,b)}function u(g,d,x,b){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Ka(x,g.mode,b),d.return=g,d):(d=a(d,x.children||[]),d.return=g,d)}function h(g,d,x,b,E){return d===null||d.tag!==7?(d=tr(x,g.mode,b,E),d.return=g,d):(d=a(d,x),d.return=g,d)}function p(g,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ga(""+d,g.mode,x),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Kn:return x=bs(d.type,d.key,d.props,null,g.mode,x),x.ref=Zr(g,null,d),x.return=g,x;case ur:return d=Ka(d,g.mode,x),d.return=g,d;case St:var b=d._init;return p(g,b(d._payload),x)}if(nn(d)||Gr(d))return d=tr(d,g.mode,x,null),d.return=g,d;ss(g,d)}return null}function f(g,d,x,b){var E=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:o(g,d,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kn:return x.key===E?c(g,d,x,b):null;case ur:return x.key===E?u(g,d,x,b):null;case St:return E=x._init,f(g,d,E(x._payload),b)}if(nn(x)||Gr(x))return E!==null?null:h(g,d,x,b,null);ss(g,x)}return null}function v(g,d,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,o(d,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kn:return g=g.get(b.key===null?x:b.key)||null,c(d,g,b,E);case ur:return g=g.get(b.key===null?x:b.key)||null,u(d,g,b,E);case St:var _=b._init;return v(g,d,x,_(b._payload),E)}if(nn(b)||Gr(b))return g=g.get(x)||null,h(d,g,b,E,null);ss(d,b)}return null}function y(g,d,x,b){for(var E=null,_=null,A=d,D=d=0,w=null;A!==null&&D<x.length;D++){A.index>D?(w=A,A=null):w=A.sibling;var T=f(g,A,x[D],b);if(T===null){A===null&&(A=w);break}e&&A&&T.alternate===null&&t(g,A),d=i(T,d,D),_===null?E=T:_.sibling=T,_=T,A=w}if(D===x.length)return r(g,A),ee&&qt(g,D),E;if(A===null){for(;D<x.length;D++)A=p(g,x[D],b),A!==null&&(d=i(A,d,D),_===null?E=A:_.sibling=A,_=A);return ee&&qt(g,D),E}for(A=n(g,A);D<x.length;D++)w=v(A,g,D,x[D],b),w!==null&&(e&&w.alternate!==null&&A.delete(w.key===null?D:w.key),d=i(w,d,D),_===null?E=w:_.sibling=w,_=w);return e&&A.forEach(function(z){return t(g,z)}),ee&&qt(g,D),E}function C(g,d,x,b){var E=Gr(x);if(typeof E!="function")throw Error($(150));if(x=E.call(x),x==null)throw Error($(151));for(var _=E=null,A=d,D=d=0,w=null,T=x.next();A!==null&&!T.done;D++,T=x.next()){A.index>D?(w=A,A=null):w=A.sibling;var z=f(g,A,T.value,b);if(z===null){A===null&&(A=w);break}e&&A&&z.alternate===null&&t(g,A),d=i(z,d,D),_===null?E=z:_.sibling=z,_=z,A=w}if(T.done)return r(g,A),ee&&qt(g,D),E;if(A===null){for(;!T.done;D++,T=x.next())T=p(g,T.value,b),T!==null&&(d=i(T,d,D),_===null?E=T:_.sibling=T,_=T);return ee&&qt(g,D),E}for(A=n(g,A);!T.done;D++,T=x.next())T=v(A,g,D,T.value,b),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?D:T.key),d=i(T,d,D),_===null?E=T:_.sibling=T,_=T);return e&&A.forEach(function(L){return t(g,L)}),ee&&qt(g,D),E}function M(g,d,x,b){if(typeof x=="object"&&x!==null&&x.type===dr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Kn:e:{for(var E=x.key,_=d;_!==null;){if(_.key===E){if(E=x.type,E===dr){if(_.tag===7){r(g,_.sibling),d=a(_,x.props.children),d.return=g,g=d;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===St&&Fo(E)===_.type){r(g,_.sibling),d=a(_,x.props),d.ref=Zr(g,_,x),d.return=g,g=d;break e}r(g,_);break}else t(g,_);_=_.sibling}x.type===dr?(d=tr(x.props.children,g.mode,b,x.key),d.return=g,g=d):(b=bs(x.type,x.key,x.props,null,g.mode,b),b.ref=Zr(g,d,x),b.return=g,g=b)}return l(g);case ur:e:{for(_=x.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){r(g,d.sibling),d=a(d,x.children||[]),d.return=g,g=d;break e}else{r(g,d);break}else t(g,d);d=d.sibling}d=Ka(x,g.mode,b),d.return=g,g=d}return l(g);case St:return _=x._init,M(g,d,_(x._payload),b)}if(nn(x))return y(g,d,x,b);if(Gr(x))return C(g,d,x,b);ss(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(r(g,d.sibling),d=a(d,x),d.return=g,g=d):(r(g,d),d=Ga(x,g.mode,b),d.return=g,g=d),l(g)):r(g,d)}return M}var Ir=Lu(!0),Fu=Lu(!1),zs=Gt(null),Us=null,vr=null,gl=null;function xl(){gl=vr=Us=null}function yl(e){var t=zs.current;J(zs),e._currentValue=t}function _i(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Er(e,t){Us=e,gl=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(gl!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(Us===null)throw Error($(308));vr=e,Us.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Xt=null;function vl(e){Xt===null?Xt=[e]:Xt.push(e)}function Du(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,vl(t)):(r.next=a.next,a.next=r),t.interleaved=r,yt(e,n)}function yt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ct=!1;function wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,yt(e,r)}return a=n.interleaved,a===null?(t.next=t,vl(n)):(t.next=a.next,a.next=t),n.interleaved=t,yt(e,r)}function ps(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,al(e,r)}}function Do(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bs(e,t,r,n){var a=e.updateQueue;Ct=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=a.baseState;l=0,h=u=c=null,o=i;do{var f=o.lane,v=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,C=o;switch(f=t,v=r,C.tag){case 1:if(y=C.payload,typeof y=="function"){p=y.call(v,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=C.payload,f=typeof y=="function"?y.call(v,p,f):y,f==null)break e;p=se({},p,f);break e;case 2:Ct=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=v,c=p):h=h.next=v,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(h===null&&(c=p),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ar|=l,e.lanes=l,e.memoizedState=p}}function $o(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error($(191,a));a.call(n)}}}var Hn={},it=Gt(Hn),Pn=Gt(Hn),An=Gt(Hn);function Jt(e){if(e===Hn)throw Error($(174));return e}function bl(e,t){switch(Z(An,t),Z(Pn,e),Z(it,Hn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oi(t,e)}J(it),Z(it,t)}function Lr(){J(it),J(Pn),J(An)}function Ou(e){Jt(An.current);var t=Jt(it.current),r=oi(t,e.type);t!==r&&(Z(Pn,e),Z(it,r))}function Nl(e){Pn.current===e&&(J(it),J(Pn))}var re=Gt(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=[];function jl(){for(var e=0;e<za.length;e++)za[e]._workInProgressVersionPrimary=null;za.length=0}var gs=Nt.ReactCurrentDispatcher,Ua=Nt.ReactCurrentBatchConfig,sr=0,ne=null,oe=null,ue=null,Ws=!1,fn=!1,Rn=0,eh=0;function xe(){throw Error($(321))}function kl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Je(e[r],t[r]))return!1;return!0}function Sl(e,t,r,n,a,i){if(sr=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gs.current=e===null||e.memoizedState===null?sh:ah,e=r(n,a),fn){i=0;do{if(fn=!1,Rn=0,25<=i)throw Error($(301));i+=1,ue=oe=null,t.updateQueue=null,gs.current=ih,e=r(n,a)}while(fn)}if(gs.current=Vs,t=oe!==null&&oe.next!==null,sr=0,ue=oe=ne=null,Ws=!1,t)throw Error($(300));return e}function Cl(){var e=Rn!==0;return Rn=0,e}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ne.memoizedState=ue=e:ue=ue.next=e,ue}function He(){if(oe===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ue===null?ne.memoizedState:ue.next;if(t!==null)ue=t,oe=e;else{if(e===null)throw Error($(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?ne.memoizedState=ue=e:ue=ue.next=e}return ue}function Mn(e,t){return typeof t=="function"?t(e):t}function Ba(e){var t=He(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=oe,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((sr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,l=n):c=c.next=p,ne.lanes|=h,ar|=h}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,Je(n,t.memoizedState)||(Ce=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ne.lanes|=i,ar|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ha(e){var t=He(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Je(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function zu(){}function Uu(e,t){var r=ne,n=He(),a=t(),i=!Je(n.memoizedState,a);if(i&&(n.memoizedState=a,Ce=!0),n=n.queue,El(Wu.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Tn(9,Hu.bind(null,r,n,a,t),void 0,null),de===null)throw Error($(349));sr&30||Bu(r,t,a)}return a}function Bu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hu(e,t,r,n){t.value=r,t.getSnapshot=n,Vu(t)&&Gu(e)}function Wu(e,t,r){return r(function(){Vu(t)&&Gu(e)})}function Vu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Je(e,r)}catch{return!0}}function Gu(e){var t=yt(e,1);t!==null&&Xe(t,e,1,-1)}function Oo(e){var t=nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t.queue=e,e=e.dispatch=nh.bind(null,ne,e),[t.memoizedState,e]}function Tn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ku(){return He().memoizedState}function xs(e,t,r,n){var a=nt();ne.flags|=e,a.memoizedState=Tn(1|t,r,void 0,n===void 0?null:n)}function la(e,t,r,n){var a=He();n=n===void 0?null:n;var i=void 0;if(oe!==null){var l=oe.memoizedState;if(i=l.destroy,n!==null&&kl(n,l.deps)){a.memoizedState=Tn(t,r,i,n);return}}ne.flags|=e,a.memoizedState=Tn(1|t,r,i,n)}function zo(e,t){return xs(8390656,8,e,t)}function El(e,t){return la(2048,8,e,t)}function qu(e,t){return la(4,2,e,t)}function Qu(e,t){return la(4,4,e,t)}function Yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zu(e,t,r){return r=r!=null?r.concat([e]):null,la(4,4,Yu.bind(null,t,e),r)}function _l(){}function Xu(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ju(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ed(e,t,r){return sr&21?(Je(r,t)||(r=au(),ne.lanes|=r,ar|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=r)}function th(e,t){var r=Q;Q=r!==0&&4>r?r:4,e(!0);var n=Ua.transition;Ua.transition={};try{e(!1),t()}finally{Q=r,Ua.transition=n}}function td(){return He().memoizedState}function rh(e,t,r){var n=$t(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rd(e))nd(t,r);else if(r=Du(e,t,r,n),r!==null){var a=Ne();Xe(r,e,n,a),sd(r,t,n)}}function nh(e,t,r){var n=$t(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rd(e))nd(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Je(o,l)){var c=t.interleaved;c===null?(a.next=a,vl(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Du(e,t,a,n),r!==null&&(a=Ne(),Xe(r,e,n,a),sd(r,t,n))}}function rd(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function nd(e,t){fn=Ws=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,al(e,r)}}var Vs={readContext:Be,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},sh={readContext:Be,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:zo,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xs(4194308,4,Yu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var r=nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=nt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rh.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:Oo,useDebugValue:_l,useDeferredValue:function(e){return nt().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=th.bind(null,e[1]),nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,a=nt();if(ee){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),de===null)throw Error($(349));sr&30||Bu(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,zo(Wu.bind(null,n,i,e),[e]),n.flags|=2048,Tn(9,Hu.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=nt(),t=de.identifierPrefix;if(ee){var r=mt,n=dt;r=(n&~(1<<32-Ze(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ah={readContext:Be,useCallback:Xu,useContext:Be,useEffect:El,useImperativeHandle:Zu,useInsertionEffect:qu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Ba,useRef:Ku,useState:function(){return Ba(Mn)},useDebugValue:_l,useDeferredValue:function(e){var t=He();return ed(t,oe.memoizedState,e)},useTransition:function(){var e=Ba(Mn)[0],t=He().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Uu,useId:td,unstable_isNewReconciler:!1},ih={readContext:Be,useCallback:Xu,useContext:Be,useEffect:El,useImperativeHandle:Zu,useInsertionEffect:qu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Ha,useRef:Ku,useState:function(){return Ha(Mn)},useDebugValue:_l,useDeferredValue:function(e){var t=He();return oe===null?t.memoizedState=e:ed(t,oe.memoizedState,e)},useTransition:function(){var e=Ha(Mn)[0],t=He().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Uu,useId:td,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pi(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var oa={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ne(),a=$t(e),i=ft(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,a),t!==null&&(Xe(t,e,a,n),ps(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ne(),a=$t(e),i=ft(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,a),t!==null&&(Xe(t,e,a,n),ps(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ne(),n=$t(e),a=ft(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ft(e,a,n),t!==null&&(Xe(t,e,n,r),ps(t,e,n))}};function Uo(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Sn(r,n)||!Sn(a,i):!0}function ad(e,t,r){var n=!1,a=Bt,i=t.contextType;return typeof i=="object"&&i!==null?i=Be(i):(a=_e(t)?rr:we.current,n=t.contextTypes,i=(n=n!=null)?Mr(e,a):Bt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bo(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function Ai(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},wl(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Be(i):(i=_e(t)?rr:we.current,a.context=Mr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pi(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&oa.enqueueReplaceState(a,a.state,null),Bs(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var r="",n=t;do r+=Tm(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Wa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ri(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lh=typeof WeakMap=="function"?WeakMap:Map;function id(e,t,r){r=ft(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ks||(Ks=!0,Ui=n),Ri(e,t)},r}function ld(e,t,r){r=ft(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ri(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ri(e,t),typeof n!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Ho(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lh;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=bh.bind(null,e,t,r),t.then(e,e))}function Wo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vo(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ft(-1,1),t.tag=2,Ft(r,t,1))),r.lanes|=1),e)}var oh=Nt.ReactCurrentOwner,Ce=!1;function be(e,t,r,n){t.child=e===null?Fu(t,null,r,n):Ir(t,e.child,r,n)}function Go(e,t,r,n,a){r=r.render;var i=t.ref;return Er(t,a),n=Sl(e,t,r,n,i,a),r=Cl(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vt(e,t,a)):(ee&&r&&fl(t),t.flags|=1,be(e,t,n,a),t.child)}function Ko(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Fl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,od(e,t,i,n,a)):(e=bs(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Sn,r(l,n)&&e.ref===t.ref)return vt(e,t,a)}return t.flags|=1,e=Ot(i,n),e.ref=t.ref,e.return=t,t.child=e}function od(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Sn(i,n)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,vt(e,t,a)}return Mi(e,t,r,n,a)}function cd(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(br,Ae),Ae|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(br,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(br,Ae),Ae|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Z(br,Ae),Ae|=n;return be(e,t,a,r),t.child}function ud(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mi(e,t,r,n,a){var i=_e(r)?rr:we.current;return i=Mr(t,i),Er(t,a),r=Sl(e,t,r,n,i,a),n=Cl(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vt(e,t,a)):(ee&&n&&fl(t),t.flags|=1,be(e,t,r,a),t.child)}function qo(e,t,r,n,a){if(_e(r)){var i=!0;Ds(t)}else i=!1;if(Er(t,a),t.stateNode===null)ys(e,t),ad(t,r,n),Ai(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Be(u):(u=_e(r)?rr:we.current,u=Mr(t,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Bo(t,l,n,u),Ct=!1;var f=t.memoizedState;l.state=f,Bs(t,n,l,a),c=t.memoizedState,o!==n||f!==c||Ee.current||Ct?(typeof h=="function"&&(Pi(t,r,h,n),c=t.memoizedState),(o=Ct||Uo(t,r,o,n,f,c,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,$u(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ge(t.type,o),l.props=u,p=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Be(c):(c=_e(r)?rr:we.current,c=Mr(t,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||f!==c)&&Bo(t,l,n,c),Ct=!1,f=t.memoizedState,l.state=f,Bs(t,n,l,a);var y=t.memoizedState;o!==p||f!==y||Ee.current||Ct?(typeof v=="function"&&(Pi(t,r,v,n),y=t.memoizedState),(u=Ct||Uo(t,r,u,n,f,y,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),l.props=n,l.state=y,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ti(e,t,r,n,i,a)}function Ti(e,t,r,n,a,i){ud(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&To(t,r,!1),vt(e,t,i);n=t.stateNode,oh.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Ir(t,e.child,null,i),t.child=Ir(t,null,o,i)):be(e,t,o,i),t.memoizedState=n.state,a&&To(t,r,!0),t.child}function dd(e){var t=e.stateNode;t.pendingContext?Mo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(e,t.context,!1),bl(e,t.containerInfo)}function Qo(e,t,r,n,a){return Tr(),pl(a),t.flags|=256,be(e,t,r,n),t.child}var Ii={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function md(e,t,r){var n=t.pendingProps,a=re.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Z(re,a&1),e===null)return Ei(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=da(l,n,0,null),e=tr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(r),t.memoizedState=Ii,e):Pl(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return ch(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ot(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ot(o,i):(i=tr(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Li(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Ii,n}return i=e.child,e=i.sibling,n=Ot(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Pl(e,t){return t=da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,r,n){return n!==null&&pl(n),Ir(t,e.child,null,r),e=Pl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ch(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Wa(Error($(422))),as(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=da({mode:"visible",children:n.children},a,0,null),i=tr(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ir(t,e.child,null,l),t.child.memoizedState=Li(l),t.memoizedState=Ii,i);if(!(t.mode&1))return as(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error($(419)),n=Wa(i,n,void 0),as(e,t,l,n)}if(o=(l&e.childLanes)!==0,Ce||o){if(n=de,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,yt(e,a),Xe(n,e,a,-1))}return Ll(),n=Wa(Error($(421))),as(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Nh.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Re=Lt(a.nextSibling),Te=t,ee=!0,qe=null,e!==null&&($e[Oe++]=dt,$e[Oe++]=mt,$e[Oe++]=nr,dt=e.id,mt=e.overflow,nr=t),t=Pl(t,n.children),t.flags|=4096,t)}function Yo(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_i(e.return,t,r)}function Va(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function fd(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(be(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yo(e,r,t);else if(e.tag===19)Yo(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Z(re,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Hs(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Va(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Hs(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Va(t,!0,r,null,i);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Ot(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ot(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uh(e,t,r){switch(t.tag){case 3:dd(t),Tr();break;case 5:Ou(t);break;case 1:_e(t.type)&&Ds(t);break;case 4:bl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Z(zs,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Z(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?md(e,t,r):(Z(re,re.current&1),e=vt(e,t,r),e!==null?e.sibling:null);Z(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fd(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Z(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,cd(e,t,r)}return vt(e,t,r)}var hd,Fi,pd,gd;hd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fi=function(){};pd=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Jt(it.current);var i=null;switch(r){case"input":a=si(e,a),n=si(e,n),i=[];break;case"select":a=se({},a,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":a=li(e,a),n=li(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ls)}ci(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&X("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};gd=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xr(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dh(e,t,r){var n=t.pendingProps;switch(hl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return _e(t.type)&&Fs(),ye(t),null;case 3:return n=t.stateNode,Lr(),J(Ee),J(we),jl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qe!==null&&(Wi(qe),qe=null))),Fi(e,t),ye(t),null;case 5:Nl(t);var a=Jt(An.current);if(r=t.type,e!==null&&t.stateNode!=null)pd(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return ye(t),null}if(e=Jt(it.current),ns(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[st]=t,n[_n]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(a=0;a<an.length;a++)X(an[a],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":so(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":io(n,i),X("invalid",n)}ci(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&rs(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&rs(n.textContent,o,e),a=["children",""+o]):yn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&X("scroll",n)}switch(r){case"input":qn(n),ao(n,i,!0);break;case"textarea":qn(n),lo(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ls)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[st]=t,e[_n]=n,hd(e,t,!1,!1),t.stateNode=e;e:{switch(l=ui(r,n),r){case"dialog":X("cancel",e),X("close",e),a=n;break;case"iframe":case"object":case"embed":X("load",e),a=n;break;case"video":case"audio":for(a=0;a<an.length;a++)X(an[a],e);a=n;break;case"source":X("error",e),a=n;break;case"img":case"image":case"link":X("error",e),X("load",e),a=n;break;case"details":X("toggle",e),a=n;break;case"input":so(e,n),a=si(e,n),X("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=se({},n,{value:void 0}),X("invalid",e);break;case"textarea":io(e,n),a=li(e,n),X("invalid",e);break;default:a=n}ci(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Kc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vc(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&vn(e,c):typeof c=="number"&&vn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&X("scroll",e):c!=null&&Ji(e,i,c,l))}switch(r){case"input":qn(e),ao(e,n,!1);break;case"textarea":qn(e),lo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ut(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?jr(e,!!n.multiple,i,!1):n.defaultValue!=null&&jr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ls)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)gd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=Jt(An.current),Jt(it.current),ns(t)){if(n=t.stateNode,r=t.memoizedProps,n[st]=t,(i=n.nodeValue!==r)&&(e=Te,e!==null))switch(e.tag){case 3:rs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[st]=t,t.stateNode=n}return ye(t),null;case 13:if(J(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Re!==null&&t.mode&1&&!(t.flags&128))Iu(),Tr(),t.flags|=98560,i=!1;else if(i=ns(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[st]=t}else Tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),i=!1}else qe!==null&&(Wi(qe),qe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?ce===0&&(ce=3):Ll())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Lr(),Fi(e,t),e===null&&Cn(t.stateNode.containerInfo),ye(t),null;case 10:return yl(t.type._context),ye(t),null;case 17:return _e(t.type)&&Fs(),ye(t),null;case 19:if(J(re),i=t.memoizedState,i===null)return ye(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Xr(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Hs(e),l!==null){for(t.flags|=128,Xr(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>Dr&&(t.flags|=128,n=!0,Xr(i,!1),t.lanes=4194304)}else{if(!n)if(e=Hs(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ee)return ye(t),null}else 2*ie()-i.renderingStartTime>Dr&&r!==1073741824&&(t.flags|=128,n=!0,Xr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,r=re.current,Z(re,n?r&1|2:r&1),t):(ye(t),null);case 22:case 23:return Il(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ae&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function mh(e,t){switch(hl(t),t.tag){case 1:return _e(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lr(),J(Ee),J(we),jl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nl(t),null;case 13:if(J(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(re),null;case 4:return Lr(),null;case 10:return yl(t.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var is=!1,ve=!1,fh=typeof WeakSet=="function"?WeakSet:Set,H=null;function wr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ae(e,t,n)}else r.current=null}function Di(e,t,r){try{r()}catch(n){ae(e,t,n)}}var Zo=!1;function hh(e,t){if(wi=Ms,e=bu(),ml(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,h=0,p=e,f=null;t:for(;;){for(var v;p!==r||a!==0&&p.nodeType!==3||(o=l+a),p!==i||n!==0&&p.nodeType!==3||(c=l+n),p.nodeType===3&&(l+=p.nodeValue.length),(v=p.firstChild)!==null;)f=p,p=v;for(;;){if(p===e)break t;if(f===r&&++u===a&&(o=l),f===i&&++h===n&&(c=l),(v=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bi={focusedElem:e,selectionRange:r},Ms=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var C=y.memoizedProps,M=y.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?C:Ge(t.type,C),M);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){ae(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return y=Zo,Zo=!1,y}function hn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Di(t,r,i)}a=a.next}while(a!==n)}}function ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $i(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xd(e){var t=e.alternate;t!==null&&(e.alternate=null,xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[st],delete t[_n],delete t[ki],delete t[Yf],delete t[Zf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yd(e){return e.tag===5||e.tag===3||e.tag===4}function Xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oi(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ls));else if(n!==4&&(e=e.child,e!==null))for(Oi(e,t,r),e=e.sibling;e!==null;)Oi(e,t,r),e=e.sibling}function zi(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zi(e,t,r),e=e.sibling;e!==null;)zi(e,t,r),e=e.sibling}var me=null,Ke=!1;function kt(e,t,r){for(r=r.child;r!==null;)vd(e,t,r),r=r.sibling}function vd(e,t,r){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(ta,r)}catch{}switch(r.tag){case 5:ve||wr(r,t);case 6:var n=me,a=Ke;me=null,kt(e,t,r),me=n,Ke=a,me!==null&&(Ke?(e=me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(Ke?(e=me,r=r.stateNode,e.nodeType===8?$a(e.parentNode,r):e.nodeType===1&&$a(e,r),jn(e)):$a(me,r.stateNode));break;case 4:n=me,a=Ke,me=r.stateNode.containerInfo,Ke=!0,kt(e,t,r),me=n,Ke=a;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Di(r,t,l),a=a.next}while(a!==n)}kt(e,t,r);break;case 1:if(!ve&&(wr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ae(r,t,o)}kt(e,t,r);break;case 21:kt(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,kt(e,t,r),ve=n):kt(e,t,r);break;default:kt(e,t,r)}}function Jo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fh),t.forEach(function(n){var a=jh.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ve(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:me=o.stateNode,Ke=!1;break e;case 3:me=o.stateNode.containerInfo,Ke=!0;break e;case 4:me=o.stateNode.containerInfo,Ke=!0;break e}o=o.return}if(me===null)throw Error($(160));vd(i,l,a),me=null,Ke=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ae(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wd(t,e),t=t.sibling}function wd(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ve(t,e),rt(e),n&4){try{hn(3,e,e.return),ca(3,e)}catch(C){ae(e,e.return,C)}try{hn(5,e,e.return)}catch(C){ae(e,e.return,C)}}break;case 1:Ve(t,e),rt(e),n&512&&r!==null&&wr(r,r.return);break;case 5:if(Ve(t,e),rt(e),n&512&&r!==null&&wr(r,r.return),e.flags&32){var a=e.stateNode;try{vn(a,"")}catch(C){ae(e,e.return,C)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Bc(a,i),ui(o,l);var u=ui(o,i);for(l=0;l<c.length;l+=2){var h=c[l],p=c[l+1];h==="style"?Kc(a,p):h==="dangerouslySetInnerHTML"?Vc(a,p):h==="children"?vn(a,p):Ji(a,h,p,u)}switch(o){case"input":ai(a,i);break;case"textarea":Hc(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?jr(a,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?jr(a,!!i.multiple,i.defaultValue,!0):jr(a,!!i.multiple,i.multiple?[]:"",!1))}a[_n]=i}catch(C){ae(e,e.return,C)}}break;case 6:if(Ve(t,e),rt(e),n&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(C){ae(e,e.return,C)}}break;case 3:if(Ve(t,e),rt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jn(t.containerInfo)}catch(C){ae(e,e.return,C)}break;case 4:Ve(t,e),rt(e);break;case 13:Ve(t,e),rt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Ml=ie())),n&4&&Jo(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(u=ve)||h,Ve(t,e),ve=u):Ve(t,e),rt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(H=e,h=e.child;h!==null;){for(p=H=h;H!==null;){switch(f=H,v=f.child,f.tag){case 0:case 11:case 14:case 15:hn(4,f,f.return);break;case 1:wr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(C){ae(n,r,C)}}break;case 5:wr(f,f.return);break;case 22:if(f.memoizedState!==null){tc(p);continue}}v!==null?(v.return=f,H=v):tc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{a=p.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Gc("display",l))}catch(C){ae(e,e.return,C)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(C){ae(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ve(t,e),rt(e),n&4&&Jo(e);break;case 21:break;default:Ve(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yd(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(vn(a,""),n.flags&=-33);var i=Xo(e);zi(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Xo(e);Oi(e,o,l);break;default:throw Error($(161))}}catch(c){ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ph(e,t,r){H=e,bd(e)}function bd(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var a=H,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||is;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||ve;o=is;var u=ve;if(is=l,(ve=c)&&!u)for(H=a;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?rc(a):c!==null?(c.return=l,H=c):rc(a);for(;i!==null;)H=i,bd(i),i=i.sibling;H=a,is=o,ve=u}ec(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,H=i):ec(e)}}function ec(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||ca(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ge(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$o(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$o(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&jn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ve||t.flags&512&&$i(t)}catch(f){ae(t,t.return,f)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function tc(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function rc(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ca(4,t)}catch(c){ae(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ae(t,a,c)}}var i=t.return;try{$i(t)}catch(c){ae(t,i,c)}break;case 5:var l=t.return;try{$i(t)}catch(c){ae(t,l,c)}}}catch(c){ae(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var gh=Math.ceil,Gs=Nt.ReactCurrentDispatcher,Al=Nt.ReactCurrentOwner,Ue=Nt.ReactCurrentBatchConfig,K=0,de=null,le=null,fe=0,Ae=0,br=Gt(0),ce=0,In=null,ar=0,ua=0,Rl=0,pn=null,Se=null,Ml=0,Dr=1/0,ct=null,Ks=!1,Ui=null,Dt=null,ls=!1,At=null,qs=0,gn=0,Bi=null,vs=-1,ws=0;function Ne(){return K&6?ie():vs!==-1?vs:vs=ie()}function $t(e){return e.mode&1?K&2&&fe!==0?fe&-fe:Jf.transition!==null?(ws===0&&(ws=au()),ws):(e=Q,e!==0||(e=window.event,e=e===void 0?16:mu(e.type)),e):1}function Xe(e,t,r,n){if(50<gn)throw gn=0,Bi=null,Error($(185));zn(e,r,n),(!(K&2)||e!==de)&&(e===de&&(!(K&2)&&(ua|=r),ce===4&&_t(e,fe)),Pe(e,n),r===1&&K===0&&!(t.mode&1)&&(Dr=ie()+500,ia&&Kt()))}function Pe(e,t){var r=e.callbackNode;Xm(e,t);var n=Rs(e,e===de?fe:0);if(n===0)r!==null&&uo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&uo(r),t===1)e.tag===0?Xf(nc.bind(null,e)):Ru(nc.bind(null,e)),qf(function(){!(K&6)&&Kt()}),r=null;else{switch(iu(n)){case 1:r=sl;break;case 4:r=nu;break;case 16:r=As;break;case 536870912:r=su;break;default:r=As}r=Pd(r,Nd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Nd(e,t){if(vs=-1,ws=0,K&6)throw Error($(327));var r=e.callbackNode;if(_r()&&e.callbackNode!==r)return null;var n=Rs(e,e===de?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qs(e,n);else{t=n;var a=K;K|=2;var i=kd();(de!==e||fe!==t)&&(ct=null,Dr=ie()+500,er(e,t));do try{vh();break}catch(o){jd(e,o)}while(1);xl(),Gs.current=i,K=a,le!==null?t=0:(de=null,fe=0,t=ce)}if(t!==0){if(t===2&&(a=pi(e),a!==0&&(n=a,t=Hi(e,a))),t===1)throw r=In,er(e,0),_t(e,n),Pe(e,ie()),r;if(t===6)_t(e,n);else{if(a=e.current.alternate,!(n&30)&&!xh(a)&&(t=Qs(e,n),t===2&&(i=pi(e),i!==0&&(n=i,t=Hi(e,i))),t===1))throw r=In,er(e,0),_t(e,n),Pe(e,ie()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:Qt(e,Se,ct);break;case 3:if(_t(e,n),(n&130023424)===n&&(t=Ml+500-ie(),10<t)){if(Rs(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ne(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ji(Qt.bind(null,e,Se,ct),t);break}Qt(e,Se,ct);break;case 4:if(_t(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Ze(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gh(n/1960))-n,10<n){e.timeoutHandle=ji(Qt.bind(null,e,Se,ct),n);break}Qt(e,Se,ct);break;case 5:Qt(e,Se,ct);break;default:throw Error($(329))}}}return Pe(e,ie()),e.callbackNode===r?Nd.bind(null,e):null}function Hi(e,t){var r=pn;return e.current.memoizedState.isDehydrated&&(er(e,t).flags|=256),e=Qs(e,t),e!==2&&(t=Se,Se=r,t!==null&&Wi(t)),e}function Wi(e){Se===null?Se=e:Se.push.apply(Se,e)}function xh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Je(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _t(e,t){for(t&=~Rl,t&=~ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ze(t),n=1<<r;e[r]=-1,t&=~n}}function nc(e){if(K&6)throw Error($(327));_r();var t=Rs(e,0);if(!(t&1))return Pe(e,ie()),null;var r=Qs(e,t);if(e.tag!==0&&r===2){var n=pi(e);n!==0&&(t=n,r=Hi(e,n))}if(r===1)throw r=In,er(e,0),_t(e,t),Pe(e,ie()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,Se,ct),Pe(e,ie()),null}function Tl(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(Dr=ie()+500,ia&&Kt())}}function ir(e){At!==null&&At.tag===0&&!(K&6)&&_r();var t=K;K|=1;var r=Ue.transition,n=Q;try{if(Ue.transition=null,Q=1,e)return e()}finally{Q=n,Ue.transition=r,K=t,!(K&6)&&Kt()}}function Il(){Ae=br.current,J(br)}function er(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Kf(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(hl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fs();break;case 3:Lr(),J(Ee),J(we),jl();break;case 5:Nl(n);break;case 4:Lr();break;case 13:J(re);break;case 19:J(re);break;case 10:yl(n.type._context);break;case 22:case 23:Il()}r=r.return}if(de=e,le=e=Ot(e.current,null),fe=Ae=t,ce=0,In=null,Rl=ua=ar=0,Se=pn=null,Xt!==null){for(t=0;t<Xt.length;t++)if(r=Xt[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Xt=null}return e}function jd(e,t){do{var r=le;try{if(xl(),gs.current=Vs,Ws){for(var n=ne.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ws=!1}if(sr=0,ue=oe=ne=null,fn=!1,Rn=0,Al.current=null,r===null||r.return===null){ce=1,In=t,le=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=fe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Wo(l);if(v!==null){v.flags&=-257,Vo(v,l,o,i,t),v.mode&1&&Ho(i,u,t),t=v,c=u;var y=t.updateQueue;if(y===null){var C=new Set;C.add(c),t.updateQueue=C}else y.add(c);break e}else{if(!(t&1)){Ho(i,u,t),Ll();break e}c=Error($(426))}}else if(ee&&o.mode&1){var M=Wo(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Vo(M,l,o,i,t),pl(Fr(c,o));break e}}i=c=Fr(c,o),ce!==4&&(ce=2),pn===null?pn=[i]:pn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=id(i,c,t);Do(i,g);break e;case 1:o=c;var d=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Dt===null||!Dt.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=ld(i,o,t);Do(i,b);break e}}i=i.return}while(i!==null)}Cd(r)}catch(E){t=E,le===r&&r!==null&&(le=r=r.return);continue}break}while(1)}function kd(){var e=Gs.current;return Gs.current=Vs,e===null?Vs:e}function Ll(){(ce===0||ce===3||ce===2)&&(ce=4),de===null||!(ar&268435455)&&!(ua&268435455)||_t(de,fe)}function Qs(e,t){var r=K;K|=2;var n=kd();(de!==e||fe!==t)&&(ct=null,er(e,t));do try{yh();break}catch(a){jd(e,a)}while(1);if(xl(),K=r,Gs.current=n,le!==null)throw Error($(261));return de=null,fe=0,ce}function yh(){for(;le!==null;)Sd(le)}function vh(){for(;le!==null&&!Hm();)Sd(le)}function Sd(e){var t=_d(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?Cd(e):le=t,Al.current=null}function Cd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mh(r,t),r!==null){r.flags&=32767,le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,le=null;return}}else if(r=dh(r,t,Ae),r!==null){le=r;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ce===0&&(ce=5)}function Qt(e,t,r){var n=Q,a=Ue.transition;try{Ue.transition=null,Q=1,wh(e,t,r,n)}finally{Ue.transition=a,Q=n}return null}function wh(e,t,r,n){do _r();while(At!==null);if(K&6)throw Error($(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Jm(e,i),e===de&&(le=de=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ls||(ls=!0,Pd(As,function(){return _r(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ue.transition,Ue.transition=null;var l=Q;Q=1;var o=K;K|=4,Al.current=null,hh(e,r),wd(r,e),zf(bi),Ms=!!wi,bi=wi=null,e.current=r,ph(r),Wm(),K=o,Q=l,Ue.transition=i}else e.current=r;if(ls&&(ls=!1,At=e,qs=a),i=e.pendingLanes,i===0&&(Dt=null),Km(r.stateNode),Pe(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ks)throw Ks=!1,e=Ui,Ui=null,e;return qs&1&&e.tag!==0&&_r(),i=e.pendingLanes,i&1?e===Bi?gn++:(gn=0,Bi=e):gn=0,Kt(),null}function _r(){if(At!==null){var e=iu(qs),t=Ue.transition,r=Q;try{if(Ue.transition=null,Q=16>e?16:e,At===null)var n=!1;else{if(e=At,At=null,qs=0,K&6)throw Error($(331));var a=K;for(K|=4,H=e.current;H!==null;){var i=H,l=i.child;if(H.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(H=u;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:hn(8,h,i)}var p=h.child;if(p!==null)p.return=h,H=p;else for(;H!==null;){h=H;var f=h.sibling,v=h.return;if(xd(h),h===u){H=null;break}if(f!==null){f.return=v,H=f;break}H=v}}}var y=i.alternate;if(y!==null){var C=y.child;if(C!==null){y.child=null;do{var M=C.sibling;C.sibling=null,C=M}while(C!==null)}}H=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,H=l;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,H=g;break e}H=i.return}}var d=e.current;for(H=d;H!==null;){l=H;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,H=x;else e:for(l=d;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ca(9,o)}}catch(E){ae(o,o.return,E)}if(o===l){H=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,H=b;break e}H=o.return}}if(K=a,Kt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(ta,e)}catch{}n=!0}return n}finally{Q=r,Ue.transition=t}}return!1}function sc(e,t,r){t=Fr(r,t),t=id(e,t,1),e=Ft(e,t,1),t=Ne(),e!==null&&(zn(e,1,t),Pe(e,t))}function ae(e,t,r){if(e.tag===3)sc(e,e,r);else for(;t!==null;){if(t.tag===3){sc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dt===null||!Dt.has(n))){e=Fr(r,e),e=ld(t,e,1),t=Ft(t,e,1),e=Ne(),t!==null&&(zn(t,1,e),Pe(t,e));break}}t=t.return}}function bh(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(fe&r)===r&&(ce===4||ce===3&&(fe&130023424)===fe&&500>ie()-Ml?er(e,0):Rl|=r),Pe(e,t)}function Ed(e,t){t===0&&(e.mode&1?(t=Zn,Zn<<=1,!(Zn&130023424)&&(Zn=4194304)):t=1);var r=Ne();e=yt(e,t),e!==null&&(zn(e,t,r),Pe(e,r))}function Nh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ed(e,r)}function jh(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),Ed(e,r)}var _d;_d=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Ce=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ce=!1,uh(e,t,r);Ce=!!(e.flags&131072)}else Ce=!1,ee&&t.flags&1048576&&Mu(t,Os,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ys(e,t),e=t.pendingProps;var a=Mr(t,we.current);Er(t,r),a=Sl(null,t,n,e,a,r);var i=Cl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_e(n)?(i=!0,Ds(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,wl(t),a.updater=oa,t.stateNode=a,a._reactInternals=t,Ai(t,n,e,r),t=Ti(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&fl(t),be(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Sh(n),e=Ge(n,e),a){case 0:t=Mi(null,t,n,e,r);break e;case 1:t=qo(null,t,n,e,r);break e;case 11:t=Go(null,t,n,e,r);break e;case 14:t=Ko(null,t,n,Ge(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ge(n,a),Mi(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ge(n,a),qo(e,t,n,a,r);case 3:e:{if(dd(t),e===null)throw Error($(387));n=t.pendingProps,i=t.memoizedState,a=i.element,$u(e,t),Bs(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Fr(Error($(423)),t),t=Qo(e,t,n,r,a);break e}else if(n!==a){a=Fr(Error($(424)),t),t=Qo(e,t,n,r,a);break e}else for(Re=Lt(t.stateNode.containerInfo.firstChild),Te=t,ee=!0,qe=null,r=Fu(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tr(),n===a){t=vt(e,t,r);break e}be(e,t,n,r)}t=t.child}return t;case 5:return Ou(t),e===null&&Ei(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Ni(n,a)?l=null:i!==null&&Ni(n,i)&&(t.flags|=32),ud(e,t),be(e,t,l,r),t.child;case 6:return e===null&&Ei(t),null;case 13:return md(e,t,r);case 4:return bl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ir(t,null,n,r):be(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ge(n,a),Go(e,t,n,a,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Z(zs,n._currentValue),n._currentValue=l,i!==null)if(Je(i.value,l)){if(i.children===a.children&&!Ee.current){t=vt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ft(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),_i(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error($(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),_i(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}be(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Er(t,r),a=Be(a),n=n(a),t.flags|=1,be(e,t,n,r),t.child;case 14:return n=t.type,a=Ge(n,t.pendingProps),a=Ge(n.type,a),Ko(e,t,n,a,r);case 15:return od(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ge(n,a),ys(e,t),t.tag=1,_e(n)?(e=!0,Ds(t)):e=!1,Er(t,r),ad(t,n,a),Ai(t,n,a,r),Ti(null,t,n,!0,e,r);case 19:return fd(e,t,r);case 22:return cd(e,t,r)}throw Error($(156,t.tag))};function Pd(e,t){return ru(e,t)}function kh(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,r,n){return new kh(e,t,r,n)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sh(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tl)return 11;if(e===rl)return 14}return 2}function Ot(e,t){var r=e.alternate;return r===null?(r=ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bs(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")Fl(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case dr:return tr(r.children,a,i,t);case el:l=8,a|=8;break;case ei:return e=ze(12,r,t,a|2),e.elementType=ei,e.lanes=i,e;case ti:return e=ze(13,r,t,a),e.elementType=ti,e.lanes=i,e;case ri:return e=ze(19,r,t,a),e.elementType=ri,e.lanes=i,e;case Oc:return da(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dc:l=10;break e;case $c:l=9;break e;case tl:l=11;break e;case rl:l=14;break e;case St:l=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=ze(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function tr(e,t,r,n){return e=ze(7,e,n,t),e.lanes=r,e}function da(e,t,r,n){return e=ze(22,e,n,t),e.elementType=Oc,e.lanes=r,e.stateNode={isHidden:!1},e}function Ga(e,t,r){return e=ze(6,e,null,t),e.lanes=r,e}function Ka(e,t,r){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ch(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Dl(e,t,r,n,a,i,l,o,c){return e=new Ch(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wl(i),e}function Eh(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ad(e){if(!e)return Bt;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(_e(r))return Au(e,r,t)}return t}function Rd(e,t,r,n,a,i,l,o,c){return e=Dl(r,n,!0,e,a,i,l,o,c),e.context=Ad(null),r=e.current,n=Ne(),a=$t(r),i=ft(n,a),i.callback=t??null,Ft(r,i,a),e.current.lanes=a,zn(e,a,n),Pe(e,n),e}function ma(e,t,r,n){var a=t.current,i=Ne(),l=$t(a);return r=Ad(r),t.context===null?t.context=r:t.pendingContext=r,t=ft(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ft(a,t,l),e!==null&&(Xe(e,a,l,i),ps(e,a,l)),l}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $l(e,t){ac(e,t),(e=e.alternate)&&ac(e,t)}function _h(){return null}var Md=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ol(e){this._internalRoot=e}fa.prototype.render=Ol.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));ma(e,t,null,null)};fa.prototype.unmount=Ol.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){ma(null,e,null,null)}),t[xt]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=cu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Et.length&&t!==0&&t<Et[r].priority;r++);Et.splice(r,0,e),r===0&&du(e)}};function zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function Ph(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Ys(l);i.call(u)}}var l=Rd(t,n,e,0,null,!1,!1,"",ic);return e._reactRootContainer=l,e[xt]=l.current,Cn(e.nodeType===8?e.parentNode:e),ir(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Ys(c);o.call(u)}}var c=Dl(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=c,e[xt]=c.current,Cn(e.nodeType===8?e.parentNode:e),ir(function(){ma(t,c,r,n)}),c}function pa(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Ys(l);o.call(c)}}ma(t,l,e,a)}else l=Ph(r,t,e,a,n);return Ys(l)}lu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sn(t.pendingLanes);r!==0&&(al(t,r|1),Pe(t,ie()),!(K&6)&&(Dr=ie()+500,Kt()))}break;case 13:ir(function(){var n=yt(e,1);if(n!==null){var a=Ne();Xe(n,e,1,a)}}),$l(e,1)}};il=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var r=Ne();Xe(t,e,134217728,r)}$l(e,134217728)}};ou=function(e){if(e.tag===13){var t=$t(e),r=yt(e,t);if(r!==null){var n=Ne();Xe(r,e,t,n)}$l(e,t)}};cu=function(){return Q};uu=function(e,t){var r=Q;try{return Q=e,t()}finally{Q=r}};mi=function(e,t,r){switch(t){case"input":if(ai(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=aa(n);if(!a)throw Error($(90));Uc(n),ai(n,a)}}}break;case"textarea":Hc(e,r);break;case"select":t=r.value,t!=null&&jr(e,!!r.multiple,t,!1)}};Yc=Tl;Zc=ir;var Ah={usingClientEntryPoint:!1,Events:[Bn,pr,aa,qc,Qc,Tl]},Jr={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rh={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eu(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||_h,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{ta=os.inject(Rh),at=os}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ah;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zl(t))throw Error($(200));return Eh(e,t,null,r)};Le.createRoot=function(e,t){if(!zl(e))throw Error($(299));var r=!1,n="",a=Md;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Dl(e,1,!1,null,null,r,!1,n,a),e[xt]=t.current,Cn(e.nodeType===8?e.parentNode:e),new Ol(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=eu(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return ir(e)};Le.hydrate=function(e,t,r){if(!ha(t))throw Error($(200));return pa(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!zl(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=Md;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Rd(t,null,e,1,r??null,a,!1,i,l),e[xt]=t.current,Cn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new fa(t)};Le.render=function(e,t,r){if(!ha(t))throw Error($(200));return pa(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!ha(e))throw Error($(40));return e._reactRootContainer?(ir(function(){pa(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Le.unstable_batchedUpdates=Tl;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ha(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return pa(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function Td(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Td)}catch(e){console.error(e)}}Td(),Tc.exports=Le;var Mh=Tc.exports,lc=Mh;Xa.createRoot=lc.createRoot,Xa.hydrateRoot=lc.hydrateRoot;const Th="modulepreload",Ih=function(e){return"/"+e},oc={},Lh=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=Ih(i),i in oc)return;oc[i]=!0;const l=i.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let h=a.length-1;h>=0;h--){const p=a[h];if(p.href===i&&(!l||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Th,l||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),l)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i})};var cc="popstate";function Fh(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return Vi("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ln(a)}return $h(t,r,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function et(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dh(){return Math.random().toString(36).substring(2,10)}function uc(e,t){return{usr:e.state,key:e.key,idx:t}}function Vi(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Br(t):t,state:r,key:t&&t.key||n||Dh()}}function Ln({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Br(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function $h(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",c=null,u=h();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function h(){return(l.state||{idx:null}).idx}function p(){o="POP";let M=h(),g=M==null?null:M-u;u=M,c&&c({action:o,location:C.location,delta:g})}function f(M,g){o="PUSH";let d=Vi(C.location,M,g);r&&r(d,M),u=h()+1;let x=uc(d,u),b=C.createHref(d);try{l.pushState(x,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(b)}i&&c&&c({action:o,location:C.location,delta:1})}function v(M,g){o="REPLACE";let d=Vi(C.location,M,g);r&&r(d,M),u=h();let x=uc(d,u),b=C.createHref(d);l.replaceState(x,"",b),i&&c&&c({action:o,location:C.location,delta:0})}function y(M){return Oh(M)}let C={get action(){return o},get location(){return e(a,l)},listen(M){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(cc,p),c=M,()=>{a.removeEventListener(cc,p),c=null}},createHref(M){return t(a,M)},createURL:y,encodeLocation(M){let g=y(M);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(M){return l.go(M)}};return C}function Oh(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),te(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ln(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Id(e,t,r="/"){return zh(e,t,r,!1)}function zh(e,t,r,n){let a=typeof t=="string"?Br(t):t,i=wt(a.pathname||"/",r);if(i==null)return null;let l=Ld(e);Uh(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Xh(i);o=Yh(l[c],u,n)}return o}function Ld(e,t=[],r=[],n=""){let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(te(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=ht([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(te(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Ld(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:qh(u,i.index),routesMeta:h})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Fd(i.path))a(i,l,c)}),t}function Fd(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Fd(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Uh(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Qh(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Bh=/^:[\w-]+$/,Hh=3,Wh=2,Vh=1,Gh=10,Kh=-2,dc=e=>e==="*";function qh(e,t){let r=e.split("/"),n=r.length;return r.some(dc)&&(n+=Kh),t&&(n+=Wh),r.filter(a=>!dc(a)).reduce((a,i)=>a+(Bh.test(i)?Hh:i===""?Vh:Gh),n)}function Qh(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Yh(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=Zs({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=Zs({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:ht([i,p.pathname]),pathnameBase:r0(ht([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=ht([i,p.pathnameBase]))}return l}function Zs(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zh(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:p},f)=>{if(h==="*"){let y=o[f]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Zh(e,t=!1,r=!0){et(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Xh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return et(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Jh(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Br(e):e;return{pathname:r?r.startsWith("/")?r:e0(r,t):t,search:n0(n),hash:s0(a)}}function e0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function qa(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ul(e){let t=t0(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Bl(e,t,r,n=!1){let a;typeof e=="string"?a=Br(e):(a={...e},te(!a.pathname||!a.pathname.includes("?"),qa("?","pathname","search",a)),te(!a.pathname||!a.pathname.includes("#"),qa("#","pathname","hash",a)),te(!a.search||!a.search.includes("#"),qa("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),p-=1;a.pathname=f.join("/")}o=p>=0?t[p]:"/"}let c=Jh(a,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var ht=e=>e.join("/").replace(/\/\/+/g,"/"),r0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function a0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Dd=["POST","PUT","PATCH","DELETE"];new Set(Dd);var i0=["GET",...Dd];new Set(i0);var Hr=m.createContext(null);Hr.displayName="DataRouter";var ga=m.createContext(null);ga.displayName="DataRouterState";m.createContext(!1);var $d=m.createContext({isTransitioning:!1});$d.displayName="ViewTransition";var l0=m.createContext(new Map);l0.displayName="Fetchers";var o0=m.createContext(null);o0.displayName="Await";var tt=m.createContext(null);tt.displayName="Navigation";var Wn=m.createContext(null);Wn.displayName="Location";var lt=m.createContext({outlet:null,matches:[],isDataRoute:!1});lt.displayName="Route";var Hl=m.createContext(null);Hl.displayName="RouteError";function c0(e,{relative:t}={}){te(Wr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(tt),{hash:a,pathname:i,search:l}=Vn(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:ht([r,i])),n.createHref({pathname:o,search:l,hash:a})}function Wr(){return m.useContext(Wn)!=null}function jt(){return te(Wr(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Wn).location}var Od="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zd(e){m.useContext(tt).static||m.useLayoutEffect(e)}function Vr(){let{isDataRoute:e}=m.useContext(lt);return e?N0():u0()}function u0(){te(Wr(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Hr),{basename:t,navigator:r}=m.useContext(tt),{matches:n}=m.useContext(lt),{pathname:a}=jt(),i=JSON.stringify(Ul(n)),l=m.useRef(!1);return zd(()=>{l.current=!0}),m.useCallback((c,u={})=>{if(et(l.current,Od),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=Bl(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ht([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,a,e])}m.createContext(null);function Vn(e,{relative:t}={}){let{matches:r}=m.useContext(lt),{pathname:n}=jt(),a=JSON.stringify(Ul(r));return m.useMemo(()=>Bl(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function d0(e,t){return Ud(e,t)}function Ud(e,t,r,n){var g;te(Wr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(tt),{matches:i}=m.useContext(lt),l=i[i.length-1],o=l?l.params:{},c=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let d=h&&h.path||"";Bd(c,!h||d.endsWith("*")||d.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${d}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${d}"> to <Route path="${d==="/"?"*":`${d}/*`}">.`)}let p=jt(),f;if(t){let d=typeof t=="string"?Br(t):t;te(u==="/"||((g=d.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${d.pathname}" was given in the \`location\` prop.`),f=d}else f=p;let v=f.pathname||"/",y=v;if(u!=="/"){let d=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(d.length).join("/")}let C=Id(e,{pathname:y});et(h||C!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),et(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=g0(C&&C.map(d=>Object.assign({},d,{params:Object.assign({},o,d.params),pathname:ht([u,a.encodeLocation?a.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?u:ht([u,a.encodeLocation?a.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),i,r,n);return t&&M?m.createElement(Wn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},M):M}function m0(){let e=b0(),t=a0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,l)}var f0=m.createElement(m0,null),h0=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(lt.Provider,{value:this.props.routeContext},m.createElement(Hl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p0({routeContext:e,match:t,children:r}){let n=m.useContext(Hr);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(lt.Provider,{value:e},r)}function g0(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let c=a.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);te(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,o=-1;if(r)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=c),u.route.id){let{loaderData:h,errors:p}=r,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||f){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((c,u,h)=>{let p,f=!1,v=null,y=null;r&&(p=i&&u.route.id?i[u.route.id]:void 0,v=u.route.errorElement||f0,l&&(o<0&&h===0?(Bd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):o===h&&(f=!0,y=u.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,h+1)),M=()=>{let g;return p?g=v:f?g=y:u.route.Component?g=m.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,m.createElement(p0,{match:u,routeContext:{outlet:c,matches:C,isDataRoute:r!=null},children:g})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?m.createElement(h0,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):M()},null)}function Wl(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x0(e){let t=m.useContext(Hr);return te(t,Wl(e)),t}function y0(e){let t=m.useContext(ga);return te(t,Wl(e)),t}function v0(e){let t=m.useContext(lt);return te(t,Wl(e)),t}function Vl(e){let t=v0(e),r=t.matches[t.matches.length-1];return te(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function w0(){return Vl("useRouteId")}function b0(){var n;let e=m.useContext(Hl),t=y0("useRouteError"),r=Vl("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function N0(){let{router:e}=x0("useNavigate"),t=Vl("useNavigate"),r=m.useRef(!1);return zd(()=>{r.current=!0}),m.useCallback(async(a,i={})=>{et(r.current,Od),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var mc={};function Bd(e,t,r){!t&&!mc[e]&&(mc[e]=!0,et(!1,r))}m.memo(j0);function j0({routes:e,future:t,state:r}){return Ud(e,void 0,r,t)}function k0({to:e,replace:t,state:r,relative:n}){te(Wr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=m.useContext(tt);et(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=m.useContext(lt),{pathname:l}=jt(),o=Vr(),c=Bl(e,Ul(i),l,n==="path"),u=JSON.stringify(c);return m.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function Yt(e){te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){te(!Wr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=m.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=Br(r));let{pathname:c="/",search:u="",hash:h="",state:p=null,key:f="default"}=r,v=m.useMemo(()=>{let y=wt(c,l);return y==null?null:{location:{pathname:y,search:u,hash:h,state:p,key:f},navigationType:n}},[l,c,u,h,p,f,n]);return et(v!=null,`<Router basename="${l}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:m.createElement(tt.Provider,{value:o},m.createElement(Wn.Provider,{children:t,value:v}))}function C0({children:e,location:t}){return d0(Gi(e),t)}function Gi(e,t=[]){let r=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let i=[...t,a];if(n.type===m.Fragment){r.push.apply(r,Gi(n.props.children,i));return}te(n.type===Yt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),te(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Gi(n.props.children,i)),r.push(l)}),r}var Ns="get",js="application/x-www-form-urlencoded";function xa(e){return e!=null&&typeof e.tagName=="string"}function E0(e){return xa(e)&&e.tagName.toLowerCase()==="button"}function _0(e){return xa(e)&&e.tagName.toLowerCase()==="form"}function P0(e){return xa(e)&&e.tagName.toLowerCase()==="input"}function A0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R0(e,t){return e.button===0&&(!t||t==="_self")&&!A0(e)}var cs=null;function M0(){if(cs===null)try{new FormData(document.createElement("form"),0),cs=!1}catch{cs=!0}return cs}var T0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qa(e){return e!=null&&!T0.has(e)?(et(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${js}"`),null):e}function I0(e,t){let r,n,a,i,l;if(_0(e)){let o=e.getAttribute("action");n=o?wt(o,t):null,r=e.getAttribute("method")||Ns,a=Qa(e.getAttribute("enctype"))||js,i=new FormData(e)}else if(E0(e)||P0(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?wt(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Ns,a=Qa(e.getAttribute("formenctype"))||Qa(o.getAttribute("enctype"))||js,i=new FormData(o,e),!M0()){let{name:u,type:h,value:p}=e;if(h==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,p)}}else{if(xa(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ns,n=null,a=js,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gl(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L0(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function F0(e,t){if(e.id in t)return t[e.id];try{let r=await Lh(()=>import(e.module),[]);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D0(e){return e!=null&&typeof e.page=="string"}function $0(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function O0(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await F0(i,r);return l.links?l.links():[]}return[]}));return H0(n.flat(1).filter($0).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fc(e,t,r,n,a,i){let l=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var h;return r[u].pathname!==c.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>l(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var p;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(l(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function z0(e,t,{includeHydrateFallback:r}={}){return U0(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function U0(e){return[...new Set(e)]}function B0(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function H0(e,t){let r=new Set,n=new Set(t);return e.reduce((a,i)=>{if(t&&!D0(i)&&i.as==="script"&&i.href&&n.has(i.href))return a;let o=JSON.stringify(B0(i));return r.has(o)||(r.add(o),a.push({key:o,link:i})),a},[])}function Hd(){let e=m.useContext(Hr);return Gl(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function W0(){let e=m.useContext(ga);return Gl(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Kl=m.createContext(void 0);Kl.displayName="FrameworkContext";function Wd(){let e=m.useContext(Kl);return Gl(e,"You must render this element inside a <HydratedRouter> element"),e}function V0(e,t){let r=m.useContext(Kl),[n,a]=m.useState(!1),[i,l]=m.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=t,f=m.useRef(null);m.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let C=g=>{g.forEach(d=>{l(d.isIntersecting)})},M=new IntersectionObserver(C,{threshold:.5});return f.current&&M.observe(f.current),()=>{M.disconnect()}}},[e]),m.useEffect(()=>{if(n){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[n]);let v=()=>{a(!0)},y=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:en(o,v),onBlur:en(c,y),onMouseEnter:en(u,v),onMouseLeave:en(h,y),onTouchStart:en(p,v)}]:[!1,f,{}]}function en(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function G0({page:e,...t}){let{router:r}=Hd(),n=m.useMemo(()=>Id(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(q0,{page:e,matches:n,...t}):null}function K0(e){let{manifest:t,routeModules:r}=Wd(),[n,a]=m.useState([]);return m.useEffect(()=>{let i=!1;return O0(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function q0({page:e,matches:t,...r}){let n=jt(),{manifest:a,routeModules:i}=Wd(),{basename:l}=Hd(),{loaderData:o,matches:c}=W0(),u=m.useMemo(()=>fc(e,t,c,a,n,"data"),[e,t,c,a,n]),h=m.useMemo(()=>fc(e,t,c,a,n,"assets"),[e,t,c,a,n]),p=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,C=!1;if(t.forEach(g=>{var x;let d=a.routes[g.route.id];!d||!d.hasLoader||(!u.some(b=>b.route.id===g.route.id)&&g.route.id in o&&((x=i[g.route.id])!=null&&x.shouldRevalidate)||d.hasClientLoader?C=!0:y.add(g.route.id))}),y.size===0)return[];let M=L0(e,l,"data");return C&&y.size>0&&M.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[M.pathname+M.search]},[l,o,n,a,u,t,e,i]),f=m.useMemo(()=>z0(h,a),[h,a]),v=K0(h);return m.createElement(m.Fragment,null,p.map(y=>m.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),f.map(y=>m.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:C})=>m.createElement("link",{key:y,...C})))}function Q0(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Vd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vd&&(window.__reactRouterVersion="7.7.1")}catch{}function Y0({basename:e,children:t,window:r}){let n=m.useRef();n.current==null&&(n.current=Fh({window:r,v5Compat:!0}));let a=n.current,[i,l]=m.useState({action:a.action,location:a.location}),o=m.useCallback(c=>{m.startTransition(()=>l(c))},[l]);return m.useLayoutEffect(()=>a.listen(o),[a,o]),m.createElement(S0,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var Gd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kd=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:p,...f},v){let{basename:y}=m.useContext(tt),C=typeof u=="string"&&Gd.test(u),M,g=!1;if(typeof u=="string"&&C&&(M=u,Vd))try{let w=new URL(window.location.href),T=u.startsWith("//")?new URL(w.protocol+u):new URL(u),z=wt(T.pathname,y);T.origin===w.origin&&z!=null?u=z+T.search+T.hash:g=!0}catch{et(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let d=c0(u,{relative:a}),[x,b,E]=V0(n,f),_=ep(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:a,viewTransition:p});function A(w){t&&t(w),w.defaultPrevented||_(w)}let D=m.createElement("a",{...f,...E,href:M||d,onClick:g||i?t:A,ref:Q0(v,b),target:c,"data-discover":!C&&r==="render"?"true":void 0});return x&&!C?m.createElement(m.Fragment,null,D,m.createElement(G0,{page:d})):D});Kd.displayName="Link";var Z0=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:c,...u},h){let p=Vn(l,{relative:u.relative}),f=jt(),v=m.useContext(ga),{navigator:y,basename:C}=m.useContext(tt),M=v!=null&&ap(p)&&o===!0,g=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,d=f.pathname,x=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(d=d.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&C&&(x=wt(x,C)||x);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=d===g||!a&&d.startsWith(g)&&d.charAt(b)==="/",_=x!=null&&(x===g||!a&&x.startsWith(g)&&x.charAt(g.length)==="/"),A={isActive:E,isPending:_,isTransitioning:M},D=E?t:void 0,w;typeof n=="function"?w=n(A):w=[n,E?"active":null,_?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(A):i;return m.createElement(Kd,{...u,"aria-current":D,className:w,ref:h,style:T,to:l,viewTransition:o},typeof c=="function"?c(A):c)});Z0.displayName="NavLink";var X0=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=Ns,action:o,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:p,...f},v)=>{let y=np(),C=sp(o,{relative:u}),M=l.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&Gd.test(o),d=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,E=(b==null?void 0:b.getAttribute("formmethod"))||l;y(b||x.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:p})};return m.createElement("form",{ref:v,method:M,action:C,onSubmit:n?c:d,...f,"data-discover":!g&&e==="render"?"true":void 0})});X0.displayName="Form";function J0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qd(e){let t=m.useContext(Hr);return te(t,J0(e)),t}function ep(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=Vr(),c=jt(),u=Vn(e,{relative:i});return m.useCallback(h=>{if(R0(h,t)){h.preventDefault();let p=r!==void 0?r:Ln(c)===Ln(u);o(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[c,o,u,r,n,t,e,a,i,l])}var tp=0,rp=()=>`__${String(++tp)}__`;function np(){let{router:e}=qd("useSubmit"),{basename:t}=m.useContext(tt),r=w0();return m.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:c,body:u}=I0(n,t);if(a.navigate===!1){let h=a.fetcherKey||rp();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function sp(e,{relative:t}={}){let{basename:r}=m.useContext(tt),n=m.useContext(lt);te(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Vn(e||".",{relative:t})},l=jt();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ht([r,i.pathname])),Ln(i)}function ap(e,{relative:t}={}){let r=m.useContext($d);te(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=qd("useViewTransitionState"),a=Vn(e,{relative:t});if(!r.isTransitioning)return!1;let i=wt(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=wt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zs(a.pathname,l)!=null||Zs(a.pathname,i)!=null}const Qd=m.createContext({user:null,isAuthenticated:!1,loading:!0,error:null,sessionExpired:!1,authState:{user:null,isAuthenticated:!1,isLoading:!0,error:null,accessToken:null},login:()=>Promise.resolve({success:!1}),signIn:()=>Promise.resolve({success:!1}),signUp:()=>Promise.resolve({success:!1}),updateProfile:()=>Promise.resolve({success:!1}),logout:()=>{},getAuthHeaders:()=>({"Content-Type":"application/json"}),updateActivity:()=>{},updateUser:()=>{},clearError:()=>{},clearSessionExpired:()=>{},isAdmin:!1,userName:"User",userEmail:""}),G={keys:{ACCESS_TOKEN:"findistress_access_token",REFRESH_TOKEN:"findistress_refresh_token",USER_DATA:"findistress_user_data",TOKEN_EXPIRY:"findistress_token_expiry",LAST_ACTIVITY:"findistress_last_activity"},get:e=>{try{if(typeof window<"u"&&window.localStorage){const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}}catch(t){console.warn("Storage get error:",t)}return null},set:(e,t)=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.warn("Storage set error:",r)}},remove:e=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem(e)}catch(t){console.warn("Storage remove error:",t)}},clear:()=>{try{typeof window<"u"&&window.localStorage&&Object.values(G.keys).forEach(e=>{window.localStorage.removeItem(e)})}catch(e){console.warn("Storage clear error:",e)}}},ip=({children:e})=>{const[t,r]=m.useState(null),[n,a]=m.useState(null),[i,l]=m.useState(null),[o,c]=m.useState(!1),[u,h]=m.useState(!0),[p,f]=m.useState(null),[v,y]=m.useState(!1),C="https://findistress-ai-web-app-backend.onrender.com/api/v1",M=m.useCallback(()=>{G.set(G.keys.LAST_ACTIVITY,Date.now())},[]),g=m.useCallback(()=>{const N=G.get(G.keys.LAST_ACTIVITY),R=60*60*1e3;return N&&Date.now()-N>R?(console.log("Auto-logout due to inactivity"),y(!0),f("You have been signed out due to inactivity. Please sign in again."),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("auth-notification",{detail:{type:"warning",title:"Signed Out Due to Inactivity",message:"You have been signed out due to inactivity. Please sign in again.",duration:7e3}})),!1):!0},[]),d=m.useCallback(()=>{const N=n||G.get(G.keys.ACCESS_TOKEN);return N?{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"}},[n]),x=m.useCallback(async(N,R)=>{h(!0),f(null),y(!1);try{console.log("Attempting sign in...");let j=await fetch(`${C}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:N.trim(),password:R})}),S;if(j.ok)S=await j.json();else{console.log("Trying form data login...");const F=new URLSearchParams;if(F.append("username",N.trim()),F.append("password",R),j=await fetch(`${C}/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:F}),!j.ok){const I=await j.json().catch(()=>({}));throw j.status===401?new Error("Invalid username or password. Please check your credentials and try again."):j.status===403?new Error("Account access denied. Please contact support."):j.status===429?new Error("Too many login attempts. Please wait a moment and try again."):j.status>=500?new Error("Server error. Please try again later."):j.status===0||!j.status?new Error("Network error. Please check your internet connection."):new Error(I.detail||"Sign in failed. Please try again.")}S=await j.json()}let k={username:N.trim(),email:"",full_name:N.trim(),is_admin:!1,is_active:!0};try{const F=await fetch(`${C}/users/me`,{headers:{Authorization:`Bearer ${S.access_token}`}});F.ok&&(k=await F.json())}catch(F){console.warn("Failed to fetch user profile, using defaults:",F)}let P=Date.now()+2*60*60*1e3;if(S.expires_in&&typeof S.expires_in=="number")P=Date.now()+S.expires_in*1e3;else if(S.expires_in&&typeof S.expires_in=="string"){const F=parseInt(S.expires_in,10);isNaN(F)||(P=Date.now()+F*1e3)}return G.set(G.keys.ACCESS_TOKEN,S.access_token),G.set(G.keys.REFRESH_TOKEN,S.refresh_token||""),G.set(G.keys.USER_DATA,k),G.set(G.keys.TOKEN_EXPIRY,P),G.set(G.keys.LAST_ACTIVITY,Date.now()),r(k),a(S.access_token),l(S.refresh_token||""),c(!0),f(null),y(!1),console.log("Sign in successful"),{success:!0,user:k}}catch(j){console.error("Sign in failed:",j);const S=j.message||"Sign in failed. Please try again.";return f(S),{success:!1,error:S}}finally{h(!1)}},[C]),b=m.useCallback(async(N,R,j,S)=>{h(!0),f(null),y(!1);try{console.log("Attempting registration...");const k=await fetch(`${C}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:N.trim(),email:R.trim(),password:j,full_name:(S==null?void 0:S.trim())||N.trim()})});if(!k.ok){const I=await k.json().catch(()=>({}));throw k.status===400?I.detail&&I.detail.includes("username")?new Error("Username already exists. Please choose a different username."):I.detail&&I.detail.includes("email")?new Error("Email already registered. Please use a different email or try signing in."):new Error(I.detail||"Registration failed. Please check your information."):k.status===422?new Error("Invalid registration data. Please check all fields and try again."):k.status>=500?new Error("Server error during registration. Please try again later."):k.status===0||!k.status?new Error("Network error. Please check your internet connection."):new Error(I.detail||"Registration failed. Please try again.")}const P=await k.json();console.log("Registration successful, now signing in...");const F=await x(N,j);return F.success?{success:!0,user:F.user}:{success:!1,error:"Registration successful but sign in failed. Please try signing in manually."}}catch(k){console.error("Registration failed:",k);const P=k.message||"Registration failed. Please try again.";return f(P),{success:!1,error:P}}finally{h(!1)}},[C,x]),E=m.useCallback(async N=>{h(!0),f(null);try{console.log("Attempting profile update...");const R=n||G.get(G.keys.ACCESS_TOKEN);if(!R)throw new Error("No authentication token available");const j=await fetch(`${C}/users/me`,{method:"PUT",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify(N)});if(!j.ok){const k=await j.json().catch(()=>({}));throw j.status===401?(y(!0),new Error("Your session has expired. Please sign in again.")):j.status===403?new Error("You do not have permission to update this profile."):j.status>=500?new Error("Server error during profile update. Please try again later."):new Error(k.detail||"Profile update failed")}const S=await j.json();return G.set(G.keys.USER_DATA,S),r(S),console.log("Profile updated successfully"),{success:!0,user:S}}catch(R){console.error("Profile update failed:",R);const j=R.message||"Profile update failed";return f(j),{success:!1,error:j}}finally{h(!1)}},[C,n]),_=x,A=m.useCallback((N=null)=>{try{G.clear(),r(null),a(null),l(null),c(!1),f(null),N==="session_expired"?(y(!0),f("Your session has expired. Please sign in again.")):N==="inactivity"?(y(!0),f("You have been signed out due to inactivity. Please sign in again.")):y(!1),console.log("Logout completed",N?`(${N})`:"")}catch(R){console.error("Logout error:",R),r(null),a(null),l(null),c(!1),f(null),y(!1)}},[]),D=m.useCallback(N=>{if(!t)return;const R={...t,...N};G.set(G.keys.USER_DATA,R),r(R)},[t]),w=m.useCallback(()=>{f(null)},[]),T=m.useCallback(()=>{y(!1)},[]),z=m.useCallback(async()=>{try{console.log("Initializing authentication...");const N=G.get(G.keys.ACCESS_TOKEN),R=G.get(G.keys.REFRESH_TOKEN),j=G.get(G.keys.USER_DATA),S=G.get(G.keys.TOKEN_EXPIRY);if(!N||!j){console.log("No stored auth data found"),h(!1);return}const k=Date.now();if(S&&S<k){console.log("Token expired, clearing auth data"),G.clear(),y(!0),f("Your session has expired. Please sign in again."),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("auth-notification",{detail:{type:"warning",title:"Session Expired",message:"Your session has expired. Please sign in again to continue.",duration:7e3}})),h(!1);return}if(!g()){G.clear(),A("inactivity"),h(!1);return}r(j),a(N),l(R||""),c(!0),y(!1),console.log("Authentication restored from storage")}catch(N){console.error("Auth initialization failed:",N),G.clear(),f("Failed to restore session. Please sign in again.")}finally{h(!1)}},[g,A]);m.useEffect(()=>{console.log("AuthProvider mounting..."),z();const N=()=>{M()},R=["mousedown","mousemove","keypress","scroll","touchstart","click"];return R.forEach(j=>{document.addEventListener(j,N,{passive:!0})}),()=>{console.log("AuthProvider unmounting..."),R.forEach(j=>{document.removeEventListener(j,N)})}},[z,M]);const L={user:t,isAuthenticated:o,loading:u,error:p,sessionExpired:v,accessToken:n,refreshToken:i,login:_,signIn:x,signUp:b,updateProfile:E,logout:A,updateUser:D,clearError:w,clearSessionExpired:T,getAuthHeaders:d,updateActivity:M,isAdmin:(t==null?void 0:t.is_admin)||!1,userName:(t==null?void 0:t.full_name)||(t==null?void 0:t.username)||"User",userEmail:(t==null?void 0:t.email)||"",authState:{user:t,isAuthenticated:o,isLoading:u,error:p,accessToken:n,refreshToken:i}};return s.jsx(Qd.Provider,{value:L,children:e})},pe=()=>{const e=m.useContext(Qd);return e===void 0?(console.error("useAuth must be used within an AuthProvider"),{user:null,isAuthenticated:!1,loading:!1,error:null,sessionExpired:!1,accessToken:null,refreshToken:null,login:()=>Promise.resolve({success:!1,error:"AuthProvider not found"}),signIn:()=>Promise.resolve({success:!1,error:"AuthProvider not found"}),signUp:()=>Promise.resolve({success:!1,error:"AuthProvider not found"}),updateProfile:()=>Promise.resolve({success:!1,error:"AuthProvider not found"}),logout:()=>{},updateUser:()=>{},clearError:()=>{},clearSessionExpired:()=>{},getAuthHeaders:()=>({"Content-Type":"application/json"}),updateActivity:()=>{},isAdmin:!1,userName:"User",userEmail:"",authState:{user:null,isAuthenticated:!1,isLoading:!1,error:null,accessToken:null,refreshToken:null}}):e},Yd=m.createContext(null),lp=({children:e})=>{const[t,r]=m.useState([]),n=m.useCallback((v,y="info",C={})=>{try{if(!v)return console.warn("Notification message is required"),null;const M=Date.now()+Math.random(),g={id:M,message:String(v),type:y||"info",title:C.title,duration:C.duration!==void 0?C.duration:5e3,data:C.data,action:C.action,timestamp:Date.now()};return r(d=>[...d,g].slice(-5)),g.duration>0&&setTimeout(()=>{r(d=>d.filter(x=>x.id!==M))},g.duration),console.log(`[${y.toUpperCase()}] ${v}`),M}catch(M){return console.error("Error adding notification:",M),null}},[]),a=m.useCallback(v=>{try{r(y=>y.filter(C=>C.id!==v))}catch(y){console.error("Error removing notification:",y)}},[]),i=m.useCallback(()=>{try{r([])}catch(v){console.error("Error clearing notifications:",v)}},[]),l=m.useCallback((v,y={})=>n(v,"success",y),[n]),o=m.useCallback((v,y={})=>n(v,"error",y),[n]),c=m.useCallback((v,y={})=>n(v,"warning",y),[n]),u=m.useCallback((v,y={})=>n(v,"info",y),[n]),h=m.useCallback((v,y={})=>n(v,"prediction",y),[n]),p=m.useCallback((v,y={})=>n(v,"analytics",y),[n]),f={notifications:t,addNotification:n,removeNotification:a,clearNotifications:i,showSuccess:l,showError:o,showWarning:c,showInfo:u,showPrediction:h,showAnalytics:p};return s.jsx(Yd.Provider,{value:f,children:e})},De=()=>{const e=m.useContext(Yd);if(!e){console.warn("useNotifications called outside NotificationProvider, using fallback");const t=(r,n="info")=>(console.log(`[${(n||"INFO").toUpperCase()}] ${r}`),null);return{notifications:[],addNotification:t,removeNotification:()=>{},clearNotifications:()=>{},showSuccess:r=>t(r,"success"),showError:r=>t(r,"error"),showWarning:r=>t(r,"warning"),showInfo:r=>t(r,"info"),showPrediction:r=>t(r,"prediction"),showAnalytics:r=>t(r,"analytics")}}return e},Zd=m.createContext(),ya=()=>{const e=m.useContext(Zd);if(!e)throw new Error("usePrediction must be used within a PredictionProvider");return e},op=({children:e})=>{const[t,r]=m.useState([]),[n,a]=m.useState(null),[i,l]=m.useState(!1),[o,c]=m.useState(null),{user:u,isAuthenticated:h,accessToken:p,authState:f,getAuthHeaders:v}=pe(),{addNotification:y}=De(),C="https://findistress-ai-web-app-backend.onrender.com/api/v1",M=m.useCallback(()=>{const L={"Content-Type":"application/json"};let N=p||(f==null?void 0:f.accessToken)||(f==null?void 0:f.token);if(N)L.Authorization=`Bearer ${N}`;else if(typeof v=="function")return v();return L},[p,f,v]),g=m.useCallback(async(L,N={},R=1)=>{let j;for(let S=0;S<=R;S++)try{const k=L.startsWith("http")?L:`${C}${L}`,P=M(),F={...N,headers:{...P,...N.headers}};console.log(`API call attempt ${S+1} to: ${k}`),console.log(`Using auth token: ${P.Authorization?"Yes":"No"}`);const I=await fetch(k,F);if(!I.ok){let O=`HTTP ${I.status}`;try{const B=await I.json();O=B.detail||B.message||O}catch{O=I.statusText||O}if(I.status===401)throw console.error("401 Unauthorized - Token may be invalid or missing"),new Error("Not authenticated");if(I.status===403)throw new Error("Access denied");if(I.status>=500&&S<R){console.log(`Server error, retrying... (attempt ${S+1}/${R+1})`),await new Promise(B=>setTimeout(B,1e3*(S+1)));continue}throw new Error(O)}const U=await I.json();return console.log("API call successful:",U),U}catch(k){if(j=k,console.error(`API call failed for ${L} (attempt ${S+1}):`,k),k.message==="Not authenticated"||k.message.includes("401")||k.message.includes("403")||k.message.includes("422")||k.message.includes("400")||k.name==="TypeError"&&k.message.includes("fetch"))break;S<R&&(console.log(`Retrying in ${(S+1)*1e3}ms...`),await new Promise(P=>setTimeout(P,1e3*(S+1))))}throw j.name==="TypeError"&&j.message.includes("fetch")?new Error("Unable to connect to the server. Please check your internet connection."):j.message==="Not authenticated"||j.message.includes("401")?new Error("Not authenticated"):j.message.includes("403")?new Error("Access denied. You may not have permission for this action."):j.message.includes("404")?new Error("Service not found. The server may be experiencing issues."):j.message.includes("500")?new Error("Server error. Please try again later."):j},[C,M]),d=m.useCallback(async(L,N="AFR")=>{if(!h||!u)throw new Error("Authentication required to generate predictions");if(!(p||(f==null?void 0:f.accessToken)||(f==null?void 0:f.token)))throw new Error("Authentication token not found. Please sign in again.");l(!0),c(null);try{console.log("Generating prediction with data:",L);let j=N;L.country2&&(j=["Kenya","Nigeria","South Africa","Ghana","Egypt"].includes(L.country2)?"AFR":"ROW");const S=await g("/predictions/predict",{method:"POST",body:JSON.stringify({input_data:L,region:j})},2);console.log("Prediction generated successfully:",S);const k={id:Date.now(),financial_distress_probability:S.financial_distress_probability||0,model_confidence:S.model_confidence||0,risk_category:S.risk_category||"Unknown",riskCategory:S.risk_category||"Unknown",analysis_message:S.analysis_message||"No analysis available",created_at:S.created_at||new Date().toISOString(),input_data:L,key_influencing_factors:Array.isArray(S.key_influencing_factors)?S.key_influencing_factors:[],isDistressed:(S.financial_distress_probability||0)>.5,probability:S.financial_distress_probability||0,confidence:S.model_confidence||0,riskLevel:S.risk_category||"Unknown",message:S.analysis_message||"No analysis available",timestamp:S.created_at||new Date().toISOString(),keyFactors:(S.key_influencing_factors||[]).map(P=>({factor:P.name||"Unknown Factor",impact:P.impact_level||"Unknown",value:P.weight||0})),recommendations:Array.isArray(S.recommendations)?S.recommendations:["Monitor financial indicators regularly","Maintain adequate cash reserves","Review and optimize operational efficiency"]};return a(k),await x(),y("Prediction generated successfully!","success"),k}catch(j){throw console.error("Prediction generation failed:",j),c(j),y(j.message||"Failed to generate prediction","error"),j}finally{l(!1)}},[h,u,p,f,g,y]),x=m.useCallback(async()=>{if(!h||!u){console.log("User not authenticated, clearing predictions..."),r([]);return}if(!(p||(f==null?void 0:f.accessToken)||(f==null?void 0:f.token))){console.log("No auth token available, skipping fetch...");return}try{c(null),console.log(" Fetching predictions...");const N=await g("/predictions/history?limit=20",{},1);console.log("Raw API response:",N),console.log("Response type:",typeof N),console.log("Is Array:",Array.isArray(N));let R=[];if(Array.isArray(N))R=N,console.log("Direct array detected");else if(N&&N.data&&Array.isArray(N.data))R=N.data,console.log("Wrapped data array detected");else if(N&&Array.isArray(N.predictions))R=N.predictions,console.log("Predictions array detected");else if(N&&typeof N=="object"){const S=Object.keys(N).filter(k=>Array.isArray(N[k]));S.length>0?(R=N[S[0]],console.log(`Found array in property: ${S[0]}`)):(console.warn("No array found in response object:",N),R=[])}else console.warn("Unexpected response format:",N),R=[];console.log("Final predictions data:",R),console.log("Predictions count:",R.length);const j=(R||[]).map(S=>{try{return{id:S.id||Math.random(),financial_distress_probability:S.financial_distress_probability||0,model_confidence:S.model_confidence||0,risk_category:S.risk_category||"Unknown",riskCategory:S.risk_category||"Unknown",analysis_message:S.analysis_message||"No analysis available",created_at:S.created_at||new Date().toISOString(),input_data:S.input_data||{},key_influencing_factors:Array.isArray(S.key_influencing_factors)?S.key_influencing_factors:[],recommendations:Array.isArray(S.recommendations)?S.recommendations:["No recommendations available"],benchmark_comparisons:S.benchmark_comparisons||{},visualization_data:S.visualization_data||{risk_gauge:{value:0,thresholds:{low:.3,medium:.7,high:1},color:"#6b7280"},factor_chart:[],comparison_data:{user_score:0,industry_avg:.25,region_avg:.3,benchmark:"unknown"}},isDistressed:(S.financial_distress_probability||0)>.5,probability:S.financial_distress_probability||0,confidence:S.model_confidence||0,riskLevel:S.risk_category||"Unknown",message:S.analysis_message||"No analysis available",timestamp:S.created_at||new Date().toISOString(),keyFactors:(S.key_influencing_factors||[]).map(k=>({factor:k.name||"Unknown Factor",impact:k.impact_level||"Unknown",value:k.weight||0}))}}catch(k){return console.error("Error transforming prediction:",k,S),{id:S.id||Math.random(),financial_distress_probability:0,model_confidence:0,risk_category:"Unknown",riskCategory:"Unknown",analysis_message:"Error loading prediction",created_at:new Date().toISOString(),input_data:{},key_influencing_factors:[],recommendations:["Error loading recommendations"],benchmark_comparisons:{},visualization_data:{risk_gauge:{value:0,thresholds:{low:.3,medium:.7,high:1},color:"#6b7280"},factor_chart:[],comparison_data:{user_score:0,industry_avg:.25,region_avg:.3,benchmark:"unknown"}},isDistressed:!1,probability:0,confidence:0,riskLevel:"Unknown",message:"Error loading prediction",timestamp:new Date().toISOString(),keyFactors:[]}}});r(j),console.log("Predictions processed successfully:",j.length)}catch(N){console.error("Failed to fetch predictions:",N),c(N),r([]),N.message&&N.message!=="Not authenticated"&&console.log("Showing error notification for:",N.message)}},[h,u,p,f,g]);m.useEffect(()=>{if(h&&u&&(p||f!=null&&f.accessToken||f!=null&&f.token)){console.log("User authenticated, loading predictions...");const L=setTimeout(()=>{x()},100);return()=>clearTimeout(L)}else console.log("User not authenticated, clearing predictions..."),r([]),a(null),c(null)},[h,u,p,f,x]);const b=m.useCallback(async L=>{if(!h||!u)throw new Error("Authentication required");if(!L)throw new Error("Invalid prediction ID");try{c(null),console.log(`Fetching details for prediction: ${L}`);const N=await g(`/predictions/${L}`,{},1);console.log("Details response:",N);let R=N;N&&N.data&&(R=N.data);const j={id:R.id||L,financial_distress_probability:R.financial_distress_probability||0,model_confidence:R.model_confidence||0,risk_category:R.risk_category||"Unknown",financial_health_status:R.financial_health_status||"Unknown",risk_level_detail:R.risk_level_detail||"No details available",analysis_message:R.analysis_message||"No analysis available",created_at:R.created_at||new Date().toISOString(),region:R.region||"Unknown",sector:R.sector||"Unknown",model_version:R.model_version||"1.0",processing_time_ms:R.processing_time_ms||0,input_data:R.input_data||{},key_influencing_factors:Array.isArray(R.key_influencing_factors)?R.key_influencing_factors:[],recommendations:Array.isArray(R.recommendations)?R.recommendations:["No recommendations available"],benchmark_comparisons:R.benchmark_comparisons||{},visualization_data:R.visualization_data||{risk_gauge:{value:0,thresholds:{low:.3,medium:.7,high:1},color:"#6b7280"},factor_importance:[],risk_breakdown:{}}};return console.log("Details processed successfully:",j),j}catch(N){throw console.error("Failed to get prediction details:",N),new Error(N.message||"Failed to load prediction details")}},[h,u,g]),E=m.useCallback(async L=>{if(!h||!u)throw new Error("Authentication required");if(!L)throw new Error("Invalid prediction ID");try{c(null),console.log(`Deleting prediction: ${L}`);const N=await g(`/predictions/${L}`,{method:"DELETE"},1);return console.log("Delete response:",N),r(R=>{const j=R.filter(S=>S.id!==L);return console.log(`Updated predictions count: ${j.length}`),j}),(n==null?void 0:n.id)===L&&a(null),y("Prediction deleted successfully","success"),N}catch(N){throw console.error("Failed to delete prediction:",N),c(N),y(N.message||"Failed to delete prediction","error"),N}},[h,u,g,n,y]),_=m.useCallback(async()=>{if(!h||!u)throw new Error("Authentication required");try{c(null),console.log("Clearing all predictions...");const L=await g("/predictions/clear",{method:"DELETE"},1);return console.log("Clear response:",L),r([]),a(null),y("All predictions cleared successfully","success"),L}catch(L){throw console.error("Failed to clear predictions:",L),c(L),y(L.message||"Failed to clear predictions","error"),L}},[h,u,g,y]),A=m.useCallback(async()=>{try{return await g("/health"),console.log("Server connection test passed"),!0}catch(L){return console.error("Connection test failed:",L),!1}},[g]),D=m.useCallback(async()=>{console.log("Refreshing predictions..."),await x()},[x]),w=m.useCallback(L=>L&&t.find(N=>N.id===L)||null,[t]),T=m.useCallback(L=>{r(N=>N.map(R=>R.id===L.id?{...R,...L}:R))},[]);m.useEffect(()=>{console.log("Predictions state updated:",{count:t.length,isLoading:i,hasError:!!o,isAuthenticated:h,hasUser:!!u,hasToken:!!(p||f!=null&&f.accessToken||f!=null&&f.token)})},[t,i,o,h,u,p,f]);const z={predictions:t,currentPrediction:n,isLoading:i,error:o,generatePrediction:d,fetchPredictions:x,refreshPredictions:D,deletePrediction:E,clearPredictions:_,getPredictionDetails:b,setCurrentPrediction:a,testConnection:A,apiCall:g,getAuthHeaders:M,getPredictionById:w,updatePredictionInState:T,predictionsCount:t.length,hasValidPredictions:Array.isArray(t)&&t.length>0};return s.jsx(Zd.Provider,{value:z,children:e})};var cp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const up=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dp=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:o,...c},u)=>m.createElement("svg",{ref:u,...cp,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:`lucide lucide-${up(e)}`,...c},[...t.map(([h,p])=>m.createElement(h,p)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};var W=dp;const Ya=W("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Y=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Qe=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Nr=W("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Fn=W("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ks=W("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ye=W("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),hc=W("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Dn=W("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),mp=W("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),zt=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Xd=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),fp=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),hp=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),pp=W("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),gp=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),pc=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),xp=W("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),xn=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Pr=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ar=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),yp=W("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),vp=W("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ql=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ln=W("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Za=W("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Ql=W("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ss=W("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Rt=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),gc=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),wp=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Yl=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),xc=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),bp=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Np=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Cs=W("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Ht=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),yc=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),jp=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Wt=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),kp=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),vc=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),bt=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Sp=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Jd=W("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Me=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),$r=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Xs=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Js=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pt=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class em extends Rc.Component{constructor(r){super(r);ba(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});ba(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("Error Boundary caught an error:",r,n),this.setState({error:r,errorInfo:n}),console.error("Production error:",r.message)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl border border-gray-200 p-8 text-center",children:[s.jsx("div",{className:"text-red-500 mb-6",children:s.jsx(Qe,{className:"h-16 w-16 mx-auto"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"We encountered an unexpected error. Don't worry, this has been logged and our team will look into it."}),!1,s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:this.handleRetry,className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center space-x-2 font-medium",children:[s.jsx(Ht,{className:"h-4 w-4"}),s.jsx("span",{children:"Try Again"})]}),s.jsxs("button",{onClick:this.handleGoHome,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2 font-medium",children:[s.jsx(vp,{className:"h-4 w-4"}),s.jsx("span",{children:"Go to Home"})]})]}),this.state.retryCount>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Retry attempts: ",this.state.retryCount]})]})}):this.props.children}}const Cp=()=>{const e=De(),[t,r]=m.useState(!1),n=(e==null?void 0:e.notifications)||[],a=e==null?void 0:e.removeNotification,i=m.useMemo(()=>!n||!Array.isArray(n)?[]:n.filter(o=>o&&o.id&&o.message),[n]),l=m.useCallback(o=>{try{a&&typeof a=="function"&&a(o)}catch(c){console.warn("Error removing notification:",c)}},[a]);return m.useEffect(()=>{r(!0)},[]),!t||i.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3 max-w-sm w-full pointer-events-none",children:i.map(o=>s.jsx(Ep,{notification:o,onRemove:l},o.id))})},Ep=({notification:e,onRemove:t})=>{const[r,n]=m.useState(!1),[a,i]=m.useState(!1),l=m.useMemo(()=>({id:(e==null?void 0:e.id)||Date.now(),message:(e==null?void 0:e.message)||"Notification",type:(e==null?void 0:e.type)||"info",title:e==null?void 0:e.title,duration:(e==null?void 0:e.duration)!==void 0?e==null?void 0:e.duration:5e3,data:e==null?void 0:e.data,action:e==null?void 0:e.action}),[e]);m.useEffect(()=>{const f=setTimeout(()=>n(!0),50);let v;return l.duration>0&&(v=setTimeout(()=>{i(!0),setTimeout(()=>{t&&typeof t=="function"&&t(l.id)},300)},l.duration)),()=>{clearTimeout(f),v&&clearTimeout(v)}},[l.id,l.duration,t]);const c=m.useCallback(f=>{const v={success:{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:zt,iconColor:"text-green-500"},error:{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:Y,iconColor:"text-red-500"},warning:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:Qe,iconColor:"text-yellow-500"},info:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:ql,iconColor:"text-blue-500"},prediction:{bg:"bg-indigo-50 border-indigo-200",text:"text-indigo-800",icon:bt,iconColor:"text-indigo-500"},analytics:{bg:"bg-purple-50 border-purple-200",text:"text-purple-800",icon:Me,iconColor:"text-purple-500"}};return v[f]||v.info},[])(l.type),u=c.icon,h=m.useCallback(()=>{i(!0),setTimeout(()=>{t&&typeof t=="function"&&t(l.id)},300)},[t,l.id]),p=m.useCallback(()=>{var f;try{(f=l.action)!=null&&f.onClick&&typeof l.action.onClick=="function"&&l.action.onClick()}catch(v){console.warn("Error executing notification action:",v)}},[l.action]);return s.jsxs("div",{className:`
                transform transition-all duration-300 ease-out pointer-events-auto
                ${r&&!a?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
                ${c.bg} border ${c.text}
                rounded-xl p-4 shadow-lg backdrop-blur-sm
                max-w-sm w-full
            `,role:"alert","aria-live":"polite",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`flex-shrink-0 ${c.iconColor}`,children:s.jsx(u,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[l.title&&s.jsx("h4",{className:"text-sm font-semibold mb-1",children:l.title}),s.jsx("p",{className:"text-sm leading-relaxed",children:l.message}),l.data&&s.jsx("div",{className:"mt-2 text-xs opacity-75",children:typeof l.data=="object"?JSON.stringify(l.data,null,2):String(l.data)}),l.action&&l.action.label&&s.jsx("button",{onClick:p,className:"mt-2 text-xs font-medium underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-current focus:ring-opacity-50 rounded",children:l.action.label})]}),s.jsx("button",{onClick:h,className:`
                        flex-shrink-0 ${c.iconColor} hover:opacity-75 
                        transition-opacity p-1 -m-1 rounded
                        focus:outline-none focus:ring-2 focus:ring-current focus:ring-opacity-50
                    `,"aria-label":"Close notification",children:s.jsx(Js,{className:"w-4 h-4"})})]}),l.duration&&l.duration>1e3&&s.jsx("div",{className:"mt-3 w-full bg-black bg-opacity-10 rounded-full h-1 overflow-hidden",children:s.jsx("div",{className:"bg-current h-1 rounded-full transition-all ease-linear",style:{width:"100%",animation:`shrink ${l.duration}ms linear forwards`}})})]})},_p=()=>{if(typeof document>"u")return;const e="findistress-notification-styles";if(document.getElementById(e))return;const t=`
        @keyframes shrink {
            from {
                width: 100%;
            }
            to {
                width: 0%;
            }
        }
        
        /* Additional animation styles for notifications */
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
    `;try{const r=document.createElement("style");r.id=e,r.textContent=t,document.head.appendChild(r)}catch(r){console.warn("Failed to inject notification styles:",r)}};_p();const Pp=({userMenuItems:e=[]})=>{var v,y,C,M;const[t,r]=m.useState(!1),[n,a]=m.useState(!1),i=m.useRef(null),{user:l,logout:o}=pe(),c=Vr();m.useEffect(()=>{const g=d=>{i.current&&!i.current.contains(d.target)&&r(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const u=[{id:"profile",label:"Profile Settings",icon:$r,description:"Update your profile information",path:"/profile"}],h=e.length>0?e:u,p=g=>{r(!1);try{c(g)}catch(d){console.error("Navigation error:",d),window.location.href=g}},f=async()=>{r(!1),a(!0);try{await o(),c("/")}catch(g){console.error("Logout error:",g)}finally{a(!1)}};return s.jsxs("div",{className:"relative",ref:i,children:[s.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-3 px-3 py-2 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2","aria-expanded":t,"aria-haspopup":"true",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:((y=(v=l==null?void 0:l.username)==null?void 0:v[0])==null?void 0:y.toUpperCase())||"U"})}),s.jsxs("div",{className:"hidden lg:block text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:(l==null?void 0:l.full_name)||(l==null?void 0:l.username)||"User"}),s.jsx("p",{className:"text-xs text-gray-500",children:l!=null&&l.is_admin?"Administrator":"User"})]}),s.jsx(Xd,{className:`h-4 w-4 text-gray-500 transition-transform duration-200 ${t?"transform rotate-180":""}`})]}),t&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold",children:((M=(C=l==null?void 0:l.username)==null?void 0:C[0])==null?void 0:M.toUpperCase())||"U"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(l==null?void 0:l.full_name)||(l==null?void 0:l.username)||"User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(l==null?void 0:l.email)||"No email provided"}),(l==null?void 0:l.is_admin)&&s.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[s.jsx(Wt,{className:"h-3 w-3 text-purple-600"}),s.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Administrator"})]})]})]})}),s.jsx("div",{className:"py-2",children:h.map(({id:g,label:d,icon:x,description:b,path:E})=>s.jsxs("button",{onClick:()=>p(E),className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[s.jsx(x,{className:"h-4 w-4 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:d}),s.jsx("p",{className:"text-xs text-gray-500",children:b})]})]},g))}),s.jsx("div",{className:"border-t border-gray-100 my-2"}),s.jsxs("button",{onClick:f,disabled:n,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-red-600 hover:bg-red-50 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(wp,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:n?"Signing out...":"Sign out"})]})]})]})},Ap=({activeTab:e,setActiveTab:t,setShowAuthModal:r})=>{var g,d;const[n,a]=m.useState(!1),{user:i,isAuthenticated:l,signOut:o,loading:c,isAdmin:u}=pe(),{addNotification:h}=De(),p=[{id:"predict",label:"Predict",icon:bt,description:"Generate financial distress predictions",requiresAuth:!1},{id:"analytics",label:"Analytics",icon:Fn,description:"View prediction analytics and insights",requiresAuth:!0},{id:"insights",label:"Insights",icon:Ye,description:"AI-powered market insights and recommendations",requiresAuth:!0}],f=[{id:"profile",label:"Profile Settings",icon:$r,description:"Update your profile information",requiresAuth:!0,path:"/profile"}],v=m.useCallback(x=>{const b=p.find(E=>E.id===x);if(b){if(b.requiresAuth&&!l){h(`Please sign in to access ${b.label}`,"warning"),r(!0);return}t(x),a(!1)}},[p,l,t,r,h]),y=m.useCallback(x=>{if(!l){h("Please sign in to access user settings","warning"),r(!0);return}window.location.href=x,a(!1)},[l,r,h]),C=m.useCallback(async()=>{if(l)try{await o(),e!=="predict"&&t("predict")}catch{h("Error signing out. Please try again.","error")}else r(!0);a(!1)},[l,o,r,e,t,h]),M=m.useCallback(()=>{a(x=>!x)},[]);return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-white/90 backdrop-blur-md shadow-xl border-b border-gray-200/50 sticky top-0 z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ye,{className:"h-10 w-10 text-indigo-600"}),s.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full animate-pulse"})]}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"FinDistress AI"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium tracking-wide",children:"Professional Financial Risk Assessment"})]})]})}),s.jsx("nav",{className:"hidden md:flex items-center space-x-2",role:"navigation","aria-label":"Main navigation",children:p.map(({id:x,label:b,icon:E,description:_,requiresAuth:A})=>s.jsxs("button",{onClick:()=>v(x),className:`relative px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center space-x-2 group ${e===x?"bg-indigo-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gray-100 hover:text-indigo-600"} ${A&&!l?"opacity-75":""}`,disabled:c,"aria-current":e===x?"page":void 0,title:_,children:[s.jsx(E,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden lg:inline",children:b}),A&&!l&&s.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-yellow-400 rounded-full"}),s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap lg:hidden",children:b})]},x))}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"hidden md:block",children:l&&i?s.jsx(Pp,{user:i,handleLogout:o,isLoggingOut:c,onNavigate:y,userMenuItems:f}):s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center space-x-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:c,children:[s.jsx(gc,{className:"h-4 w-4"}),s.jsx("span",{children:"Sign In"})]})}),s.jsx("button",{onClick:M,className:"md:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":"Toggle mobile menu","aria-expanded":n,children:n?s.jsx(Js,{className:"h-6 w-6"}):s.jsx(bp,{className:"h-6 w-6"})})]})]})})}),n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 md:hidden",onClick:()=>a(!1),children:s.jsx("div",{className:"fixed right-0 top-0 h-full w-80 max-w-full bg-white/95 backdrop-blur-md shadow-2xl transform transition-transform duration-300 ease-out overflow-y-auto",onClick:x=>x.stopPropagation(),children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ye,{className:"h-8 w-8 text-indigo-600"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"FinDistress AI"})]}),s.jsx("button",{onClick:()=>a(!1),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 transition-colors","aria-label":"Close mobile menu",children:s.jsx(Js,{className:"h-5 w-5"})})]}),l&&i&&s.jsx("div",{className:"mb-8 p-4 bg-indigo-50 rounded-xl border border-indigo-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:((d=(g=i.username)==null?void 0:g[0])==null?void 0:d.toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:i.full_name||i.username}),s.jsx("p",{className:"text-sm text-gray-600",children:i.email}),i.is_admin&&s.jsx("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full mt-1",children:"Administrator"})]})]})}),s.jsx("nav",{className:"space-y-2 mb-8",role:"navigation","aria-label":"Mobile navigation",children:p.map(({id:x,label:b,icon:E,description:_,requiresAuth:A})=>s.jsxs("button",{onClick:()=>v(x),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 text-left ${e===x?"bg-indigo-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100"} ${A&&!l?"opacity-75":""}`,disabled:c,children:[s.jsx(E,{className:"h-5 w-5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:b}),A&&!l&&s.jsx("div",{className:"h-2 w-2 bg-yellow-400 rounded-full"})]}),s.jsx("p",{className:"text-xs opacity-75 mt-0.5",children:_})]})]},x))}),l&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"User Settings"}),s.jsx("div",{className:"space-y-2",children:f.map(({id:x,label:b,icon:E,description:_,path:A})=>s.jsxs("button",{onClick:()=>y(A),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 text-left",children:[s.jsx(E,{className:"h-5 w-5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium",children:b}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:_})]})]},x))})]})}),s.jsx("div",{className:"border-t border-gray-200 pt-6",children:s.jsxs("button",{onClick:C,className:`w-full flex items-center justify-center space-x-3 px-4 py-3 rounded-xl font-semibold transition-all duration-200 ${l?"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:shadow-lg transform hover:scale-105"}`,disabled:c,children:[s.jsx(gc,{className:"h-5 w-5"}),s.jsx("span",{children:c?"Processing...":l?"Sign Out":"Sign In"})]})})]})})})]})},tm=({size:e="medium",color:t="indigo",text:r=null,className:n="",fullScreen:a=!1})=>{const i={small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12",xl:"w-16 h-16"},l={indigo:"border-indigo-600",blue:"border-blue-600",green:"border-green-600",red:"border-red-600",gray:"border-gray-600",white:"border-white"},o={small:"text-sm",medium:"text-base",large:"text-lg",xl:"text-xl"},c=`
        ${i[e]} 
        border-4 border-gray-200 
        ${l[t]} 
        border-t-transparent 
        rounded-full 
        animate-spin
        ${n}
    `.trim(),u=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx("div",{className:c}),r&&s.jsx("div",{className:`text-gray-600 font-medium ${o[e]}`,children:r})]});return a?s.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:s.jsx(u,{})})}):s.jsx(u,{})},Rp=()=>s.jsxs("div",{className:"text-center py-12 relative",children:[s.jsx("h2",{className:"text-5xl font-bold text-gradient-main mb-6 leading-tight",children:"AI-Powered Financial Health Assessment"}),s.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["Leverage advanced machine learning to predict financial distress with"," ",s.jsx("span",{className:"font-semibold text-indigo-600",children:"85%+ accuracy"}),". Make informed decisions with real-time risk assessment."]}),s.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-32 h-32 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full opacity-20 animate-pulseSlow"})})]}),Mp=()=>{const{addNotification:e}=De(),{authState:t}=pe(),{predictions:r}=ya(),[n,a]=m.useState([]),[i,l]=m.useState(!1),[o,c]=m.useState(null),[u,h]=m.useState(null),[p,f]=m.useState(0),v=m.useRef(!0),y=m.useRef(null),C="https://findistress-ai-web-app-backend.onrender.com/api/v1",M=m.useCallback(()=>{const _={"Content-Type":"application/json",Accept:"application/json"};return t!=null&&t.isAuthenticated&&(t!=null&&t.token)?(_.Authorization=`Bearer ${t.token}`,console.log("Dashboard API call - Auth token present:",t.token.substring(0,20)+"...")):console.log("Dashboard API call - No auth token available"),_},[t==null?void 0:t.token,t==null?void 0:t.isAuthenticated]),g=m.useCallback(async(_,A=1)=>{if(!(t!=null&&t.isAuthenticated)||!(t!=null&&t.token))throw console.log("Dashboard API call skipped - not authenticated"),new Error("Not authenticated");let D;for(let w=0;w<=A;w++)try{console.log(`Dashboard API call attempt ${w+1} to: ${C}${_}`);const T=new AbortController,z=setTimeout(()=>T.abort(),1e4),L=await fetch(`${C}${_}`,{method:"GET",headers:M(),signal:T.signal,credentials:"omit"});if(clearTimeout(z),console.log(`Dashboard API response status: ${L.status}`),!L.ok){let R=`HTTP ${L.status}`;try{const j=await L.json();R=j.detail||j.message||R,console.log("Dashboard API error details:",j)}catch{R=L.statusText||R}if(L.status===401)throw console.error("Dashboard API 401 error - token may be invalid or expired"),new Error("Authentication failed - token invalid");if(L.status===403)throw console.error("Dashboard API 403 error - insufficient permissions"),new Error("Access denied");if(L.status>=500&&w<A){console.log(`Server error, retrying in ${(w+1)*1e3}ms...`),await new Promise(j=>setTimeout(j,1e3*(w+1)));continue}throw new Error(R)}const N=await L.json();return console.log("Dashboard API call successful:",N),N}catch(T){if(console.error(`Dashboard API call attempt ${w+1} failed:`,T),D=T,T.message.includes("Authentication failed")||T.message.includes("Access denied"))break;w<A&&await new Promise(z=>setTimeout(z,1e3*(w+1)))}throw D},[C,M,t==null?void 0:t.isAuthenticated,t==null?void 0:t.token]),d=m.useCallback(()=>{var _;return[{label:"Predictions Made",value:((_=r==null?void 0:r.length)==null?void 0:_.toLocaleString())||"0",icon:bt,color:(r==null?void 0:r.length)>0?"bg-blue-500":"bg-gray-400",trend:(r==null?void 0:r.length)>0?"Active":"No predictions yet",description:t!=null&&t.isAuthenticated?"Your predictions":"Sign in to view predictions",rawValue:(r==null?void 0:r.length)||0},{label:"Model Accuracy",value:"91.0%",icon:Nr,color:"bg-green-500",trend:"Expected",description:"ML model baseline accuracy",rawValue:91},{label:"Companies Analyzed",value:"1,333",icon:Dn,color:"bg-purple-500",trend:"Training data",description:"Total companies in training dataset",rawValue:1333},{label:"Risk Factors",value:"21",icon:Wt,color:"bg-orange-500",trend:"Available",description:"Financial indicators analyzed",rawValue:21}]},[r==null?void 0:r.length,t==null?void 0:t.isAuthenticated]),x=m.useCallback(async(_=!1)=>{const A=d();if(a(A),!(t!=null&&t.isAuthenticated)||!(t!=null&&t.token)){console.log("Using default stats - not authenticated"),c(null),l(!1);return}v.current&&(await new Promise(D=>setTimeout(D,500)),v.current=!1),l(!0),c(null);try{console.log("Fetching dashboard stats...");const D=await g("/dashboard",1);if(D!=null&&D.mlInsights){const w=D.mlInsights;console.log("Processing ML insights:",w);const T=[{label:"Predictions Made",value:((r==null?void 0:r.length)||0).toLocaleString(),icon:bt,color:(r==null?void 0:r.length)>0?"bg-blue-500":"bg-gray-400",trend:(r==null?void 0:r.length)>0?"Active":"No predictions yet",description:"Your total predictions",rawValue:(r==null?void 0:r.length)||0},{label:"Model Accuracy",value:`${(w.accuracy_rate||91).toFixed(1)}%`,icon:Nr,color:"bg-green-500",trend:(w.accuracy_rate||91)>=90?"Excellent":(w.accuracy_rate||91)>=80?"Good":"Fair",description:"Current ML model accuracy",rawValue:w.accuracy_rate||91},{label:"Companies Analyzed",value:(w.companies_analyzed||1333).toLocaleString(),icon:Dn,color:"bg-purple-500",trend:"Training data",description:"Total companies in dataset",rawValue:w.companies_analyzed||1333},{label:"Risk Factors",value:(w.risk_factors||21).toString(),icon:Wt,color:"bg-orange-500",trend:"Multi-dimensional",description:"Financial indicators analyzed",rawValue:w.risk_factors||21}];a(T),h(new Date),f(0),console.log("Dashboard stats updated successfully")}else console.log("No ML insights in response, using defaults"),a(A);_&&e("Dashboard data refreshed successfully","success")}catch(D){console.error("Failed to fetch dashboard stats:",D),c(D),a(A),f(w=>w+1),_&&(D.message.includes("Authentication failed")?e("Session may have expired. Try refreshing the page.","warning"):D.message.includes("Access denied")?e("Access denied. Check your permissions.","warning"):D.message.includes("fetch")?e("Connection error. Using cached data.","warning"):e("Unable to fetch dashboard data. Using defaults.","info"))}finally{l(!1)}},[t==null?void 0:t.isAuthenticated,t==null?void 0:t.token,g,e,d,r==null?void 0:r.length]),b=m.useCallback(_=>{switch(_.label){case"Model Accuracy":return`${Math.min(_.rawValue||0,100)}%`;case"Predictions Made":return`${Math.min((_.rawValue||0)/Math.max(1,10)*100,100)}%`;case"Companies Analyzed":return _.rawValue>0?`${Math.min(_.rawValue/2e3*100,100)}%`:"75%";case"Risk Factors":return`${Math.min((_.rawValue||0)/25*100,100)}%`;default:return"50%"}},[]),E=m.useCallback(async()=>{y.current&&clearTimeout(y.current),await x(!0)},[x]);return m.useEffect(()=>{const _=d();a(_)},[d]),m.useEffect(()=>{if(!(!(t!=null&&t.isAuthenticated)||!(t!=null&&t.token)))return y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{x()},100),()=>{y.current&&clearTimeout(y.current)}},[t==null?void 0:t.isAuthenticated,t==null?void 0:t.token,x]),m.useEffect(()=>{a(_=>_.map(A=>A.label==="Predictions Made"?{...A,value:((r==null?void 0:r.length)||0).toLocaleString(),trend:(r==null?void 0:r.length)>0?"Active":"No predictions yet",color:(r==null?void 0:r.length)>0?"bg-blue-500":"bg-gray-400",description:t!=null&&t.isAuthenticated?"Your total predictions":"Sign in to view predictions",rawValue:(r==null?void 0:r.length)||0}:A))},[r==null?void 0:r.length,t==null?void 0:t.isAuthenticated]),m.useEffect(()=>{if(!(t!=null&&t.isAuthenticated))return;const A=Math.min(6e4*Math.pow(1.5,p),3e5),D=setInterval(()=>{document.visibilityState==="visible"&&x()},A);return()=>clearInterval(D)},[t==null?void 0:t.isAuthenticated,x,p]),m.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),i&&n.length===0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((_,A)=>s.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-gray-200/50 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]},A))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"col-span-full mb-2",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Status:",s.jsx("span",{className:`ml-1 font-medium ${o?"text-orange-600":t!=null&&t.isAuthenticated?"text-green-600":"text-blue-600"}`,children:o?"Limited Data":t!=null&&t.isAuthenticated?"Connected":"Default View"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[u&&s.jsxs("span",{className:"text-gray-500 flex items-center",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${o?"bg-orange-500":"bg-green-500"} animate-pulse`}),"Updated: ",u.toLocaleTimeString()]}),s.jsx("button",{onClick:E,className:"text-gray-500 hover:text-gray-700 p-1 rounded transition-colors disabled:opacity-50",disabled:i||!(t!=null&&t.isAuthenticated),title:t!=null&&t.isAuthenticated?"Refresh data":"Sign in to refresh data",children:s.jsx(Ht,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]})]})}),n.map(_=>s.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-200 group relative",title:_.description,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:_.label}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:_.value})]}),s.jsx("div",{className:`p-3 rounded-xl ${_.color} group-hover:scale-110 transition-transform shadow-lg`,children:s.jsx(_.icon,{className:"h-6 w-6 text-white"})})]}),s.jsx("div",{className:"flex items-center mb-2",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-700 ${_.color.replace("bg-","bg-opacity-70 bg-")}`,style:{width:b(_)}})})}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:_.trend}),i&&s.jsx("div",{className:"absolute inset-0 bg-white/50 rounded-2xl flex items-center justify-center",children:s.jsx(Ql,{className:"h-5 w-5 animate-spin text-indigo-600"})})]},_.label)),o&&o.message.includes("Authentication failed")&&s.jsx("div",{className:"col-span-full mt-2",children:s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qe,{className:"h-4 w-4 text-amber-600 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-amber-800",children:"Dashboard data unavailable. Your session may have expired. Try refreshing the page."})]})})})]})},Tp=({activeSection:e,setActiveSection:t,sections:r})=>{const n={company:hc,performance:Qe,financial:gp,leadership:Xs,operations:Dn,macro:Ar,environment:bt,ownership:Xs,business:Dn};return s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex flex-wrap gap-2 p-2 bg-gray-100 rounded-2xl",children:Object.entries(r).map(([a,i])=>{const l=n[a]||hc,o=e===a;return s.jsxs("button",{onClick:()=>t(a),className:`flex items-center space-x-2 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${o?"bg-white text-indigo-600 shadow-md transform scale-105":"text-gray-600 hover:text-indigo-600 hover:bg-white/50"}`,children:[s.jsx(l,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:i.title}),s.jsx("span",{className:"sm:hidden",children:i.title.split(" ")[0]}),a==="macro"&&s.jsxs("span",{className:"hidden md:inline-flex items-center px-1.5 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded-full font-medium ml-1",children:[s.jsx(Me,{className:"h-2.5 w-2.5 mr-0.5"}),"Auto-fill"]})]},a)})})})},Ip=[{label:"Construction",value:"1"},{label:"Retail",value:"2"},{label:"Manufacturing",value:"3"},{label:"Other Services",value:"4"},{label:"Other Manufacturing",value:"5"},{label:"Food",value:"6"},{label:"Garments",value:"7"},{label:"Hotels",value:"8"},{label:"Services",value:"9"},{label:"Rest of Universe",value:"10"},{label:"IT & IT Services",value:"11"},{label:"Textiles",value:"12"},{label:"Machinery & Equipment",value:"13"},{label:"Textiles & Garments",value:"14"},{label:"Basic Metals/Fabricated Metals/Machinery & Equip.",value:"15"},{label:"Chemicals, Plastics & Rubber",value:"16"},{label:"Chemicals & Chemical Products",value:"17"},{label:"Machinery & Equipment & Electronics",value:"18"},{label:"Leather Products",value:"19"},{label:"Furniture",value:"20"},{label:"Motor Vehicles & Transport Equip.",value:"21"},{label:"Fabricated Metal Products",value:"22"},{label:"Hospitality & Tourism",value:"23"},{label:"Motor Vehicles",value:"24"},{label:"Electronics",value:"25"},{label:"Services of Motor Vehicles/Wholesale/Retail",value:"26"},{label:"Food/Leather/Wood/Tobacco/Rubber Products",value:"27"},{label:"Professional Activities",value:"28"},{label:"Non-Metallic Mineral Products",value:"29"},{label:"Hotels & Restaurants",value:"30"},{label:"Electronics & Communications Equip.",value:"31"},{label:"Transport, Storage, & Communications",value:"32"},{label:"Services of Motor Vehicles",value:"33"},{label:"Rubber & Plastics Products",value:"34"},{label:"Basic Metals & Metal Products",value:"35"},{label:"Wholesale",value:"36"},{label:"Basic Metals",value:"37"},{label:"Electrical & Computer Products",value:"38"},{label:"Minerals, Metals, Machinery & Equipment",value:"39"},{label:"Wood Products",value:"40"},{label:"Printing & Publishing",value:"41"},{label:"Petroleum products, Plastics & Rubber",value:"42"},{label:"Wood products, Furniture, Paper & Publishing",value:"43"},{label:"Machinery & Equipment, Electronics & Vehicles",value:"44"},{label:"Transport",value:"45"},{label:"Textiles, Garments & Leather",value:"46"},{label:"Restaurants",value:"47"},{label:"Wholesale, Including of Motor Vehicles",value:"48"},{label:"Publishing, Telecommunications & IT",value:"49"},{label:"Wholesale & Retail",value:"50"},{label:"Mining Related Manufacturing",value:"51"},{label:"Pharmaceuticals & Medical Products",value:"52"},{label:"Wood Products & Furniture",value:"53"},{label:"Computer, Electronic & Optical Products",value:"54"},{label:"Retail & IT",value:"55"},{label:"Metals, Machinery, Computers & Electronics",value:"56"},{label:"Manufacturing Panel",value:"57"},{label:"Retail Panel",value:"58"},{label:"Other Services Panel",value:"59"},{label:"Chemicals, Non-Metallic Mineral, Plastics & Rubber",value:"60"},{label:"Textiles, Garments, Leather & Paper",value:"61"},{label:"Pharmaceutical, Chemicals & Chemical Products",value:"62"},{label:"Wholesale of Agri Inputs & Equipment",value:"63"}],Lp=["Angola","Bangladesh","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Central African Republic","Chad","Congo","Cote d'Ivoire","DRC","Djibouti","Egypt","Equatorial Guinea","Eswatini","Ethiopia","Gabon","Gambia","Ghana","Guinea","Lebanon","Lesotho","Liberia","Guineabissau","Kenya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Senegal","Seychelles","Sierra Leone","South Sudan","Southafrica","Sudan","Tanzania","Tunisia","Uganda","Zambia","Zimbabwe"],Fp=["Afghanistan","Albania","Antiguaandbarbuda","Argentina","Armenia","Austria","Azerbaijan","Bahamas","Bahrain","Barbados","Belarus","Belgium","Belize","Bhutan","Bolivia","Bosnia and Herzegovina","Brazil","Bulgaria","Cabo Verde","Cambodia","Canada","Chile","China","Colombia","Costa Rica","Croatia","Cyprus","Czechia","Denmark","Dominica","Dominican Republic","Ecuador","El Salvador","Eritrea","Estonia","Fiji","Finland","France","Georgia","Germany","Greece","Grenada","Guatemala","Guyana","Honduras","Hong Kong SAR China","Hungary","Iceland","India","Indonesia","Iraq","Ireland","Israel","Italy","Jamaica","Jordan","Kazakhstan","Korea Republic","Kosovo","Kyrgyz Republic","Lao PDR","Latvia","Lithuania","Luxembourg","Malaysia","Malta","Mexico","Micronesia, Fed. Sts.","Moldova","Mongolia","Montenegro","Myanmar","Nepal","Netherlands","New Zealand","Nicaragua","North Macedonia","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Samoa","Saudi Arabia","Serbia","Singapore","Slovak Republic","Slovenia","Solomon Islands","Spain","SriLanka","Stkittsandnevis","Stlucia","Stvincentandthegrenadines","Suriname","Sweden","Taiwan China","Tajikistan","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Turkiye","Turkmenistan","Ukraine","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Viet Nam","West Bank And Gaza","Yemen"],Dp=[...Lp.map(e=>({label:e,value:e,region:"AFR"})),...Fp.map(e=>({label:e,value:e,region:"ROW"}))].sort((e,t)=>e.label.localeCompare(t.label)),$p=({name:e,value:t,onChange:r,config:n,error:a,required:i=!0,submitAttempted:l=!1})=>{const[o,c]=m.useState(!1),{label:u,placeholder:h,description:p,type:f="number",min:v,max:y,step:C="any",options:M}=n,g=f==="select"||e==="stra_sector"||e==="country2",d=()=>{if(e==="stra_sector")return Ip;if(e==="country2")return Dp;if(e==="Size")return[{label:"Small (< 20 employees)",value:"1"},{label:"Medium (20-99 employees)",value:"2"},{label:"Large (100+ employees)",value:"3"}];if(M){if(typeof M=="object"&&!Array.isArray(M))return Object.entries(M).map(([w,T])=>(T==="0"||T==="1")&&(w==="0"||w==="1")?x(e,T,w):{label:w,value:T});if(Array.isArray(M))return M}return[]},x=(w,T,z)=>{const L={fin16:{0:"No",1:"Yes"},fin33:{0:"No",1:"Yes"},Fem_CEO:{0:"No",1:"Yes"},Innov:{0:"No",1:"Yes"}};return L[w]&&L[w][T]?{label:L[w][T],value:T}:T==="0"?{label:"No",value:T}:T==="1"?{label:"Yes",value:T}:{label:z,value:T}},b=d(),E=!t||t===""||t===null||t===void 0,_=i&&E&&a,A=i&&l&&E&&!a,D=()=>g&&b.length>0?s.jsxs("div",{className:"relative",children:[s.jsxs("select",{id:e,name:e,value:t||"",onChange:w=>r(e,w.target.value),className:`
                            w-full px-4 py-3 text-sm bg-white border-2 rounded-xl 
                            focus:outline-none focus:ring-2 focus:ring-indigo-500/20 
                            focus:border-indigo-500 transition-all duration-200
                            appearance-none cursor-pointer
                            group-hover:shadow-md group-hover:border-indigo-300
                            ${a||_?"border-red-400 focus:ring-red-500/20 focus:border-red-500":"border-gray-300"}
                            ${E?"text-gray-500":"text-gray-900"}
                        `,required:i,"aria-required":i,"aria-invalid":a?"true":"false",children:[s.jsx("option",{value:"",disabled:!0,className:"text-gray-500",children:h||`Select ${u.toLowerCase()}...`}),e==="country2"&&s.jsxs(s.Fragment,{children:[s.jsx("optgroup",{label:"African Countries (AFR Region)",children:b.filter(w=>w.region==="AFR").map(w=>s.jsx("option",{value:w.value,className:"text-gray-900",children:w.label},w.value))}),s.jsx("optgroup",{label:"Rest of World (ROW Region)",children:b.filter(w=>w.region==="ROW").map(w=>s.jsx("option",{value:w.value,className:"text-gray-900",children:w.label},w.value))})]}),e!=="country2"&&b.map(w=>s.jsx("option",{value:w.value,className:"text-gray-900",children:w.label},w.value))]}),s.jsx(Xd,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}):s.jsx("input",{type:f,id:e,name:e,value:t||"",onChange:w=>r(e,w.target.value),placeholder:h,min:v,max:y,step:C,className:`
                        w-full px-4 py-3 text-sm bg-white border-2 rounded-xl 
                        focus:outline-none focus:ring-2 focus:ring-indigo-500/20 
                        focus:border-indigo-500 transition-all duration-200
                        group-hover:shadow-md group-hover:border-indigo-300
                        ${a||_?"border-red-400 focus:ring-red-500/20 focus:border-red-500":"border-gray-300"}
                    `,required:i,"aria-required":i,"aria-invalid":a?"true":"false"});return s.jsxs("div",{className:"group relative",children:[s.jsx("label",{htmlFor:e,className:"block text-sm font-semibold text-gray-800 mb-2 group-hover:text-indigo-600 transition-colors",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{children:[u,i&&s.jsx("span",{className:"text-red-500 ml-1 font-bold",title:"Required field",children:"*"})]}),p&&s.jsxs("div",{className:"relative inline-block ml-2",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[s.jsx(ql,{className:"h-4 w-4 text-gray-400 hover:text-indigo-600 cursor-help transition-colors"}),o&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50",children:s.jsx("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 max-w-xs whitespace-normal shadow-lg",children:s.jsxs("div",{className:"relative",children:[p,s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})})})]})]})}),s.jsxs("div",{className:"relative",children:[D(),(a||_)&&s.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[s.jsx(Y,{className:"h-3 w-3 mr-1 flex-shrink-0"}),a||"This field is required"]})]}),A&&s.jsx("p",{className:"text-xs text-red-400 mt-1 opacity-60",children:"This field is required"})]})},Op=(e=null)=>{const[t,r]=m.useState(null),[n,a]=m.useState(!1),[i,l]=m.useState(null),[o,c]=m.useState(null),u=m.useRef(!0),h=m.useRef(null),p="https://api.worldbank.org/v2",f=15e3,v=24*60*60*1e3,y=m.useRef(new Map),C={GDP:"NY.GDP.MKTP.KD.ZG",Credit:"FS.AST.PRVT.GD.ZS",MarketCap:"CM.MKT.LCAP.GD.ZS",WUI:"SL.UEM.TOTL.ZS",GPR:"MS.MIL.XPND.GD.ZS",PRIME:"FR.INR.RINR",WSI:"NE.TRD.GNFS.ZS"},M={Angola:"AGO",Bangladesh:"BGD",Benin:"BEN",Botswana:"BWA","Burkina Faso":"BFA",Burundi:"BDI",Cameroon:"CMR","Central African Republic":"CAF",Chad:"TCD",Congo:"COG","Cote d'Ivoire":"CIV",DRC:"COD",Djibouti:"DJI",Egypt:"EGY","Equatorial Guinea":"GNQ",Eswatini:"SWZ",Ethiopia:"ETH",Gabon:"GAB",Gambia:"GMB",Ghana:"GHA",Guinea:"GIN",Guineabissau:"GNB",Kenya:"KEN",Lebanon:"LBN",Lesotho:"LSO",Liberia:"LBR",Madagascar:"MDG",Malawi:"MWI",Mali:"MLI",Mauritania:"MRT",Mauritius:"MUS",Morocco:"MAR",Mozambique:"MOZ",Namibia:"NAM",Niger:"NER",Nigeria:"NGA",Rwanda:"RWA",Senegal:"SEN",Seychelles:"SYC","Sierra Leone":"SLE","South Sudan":"SSD",Southafrica:"ZAF",Sudan:"SDN",Tanzania:"TZA",Tunisia:"TUN",Uganda:"UGA",Zambia:"ZMB",Zimbabwe:"ZWE",Afghanistan:"AFG",Albania:"ALB",Argentina:"ARG",Armenia:"ARM",Austria:"AUT",Azerbaijan:"AZE",Bahrain:"BHR",Belarus:"BLR",Belgium:"BEL",Belize:"BLZ",Bhutan:"BTN",Bolivia:"BOL","Bosnia and Herzegovina":"BIH",Brazil:"BRA",Bulgaria:"BGR",Cambodia:"KHM",Canada:"CAN",Chile:"CHL",China:"CHN",Colombia:"COL","Costa Rica":"CRI",Croatia:"HRV",Cyprus:"CYP",Czechia:"CZE",Denmark:"DNK","Dominican Republic":"DOM",Ecuador:"ECU","El Salvador":"SLV",Estonia:"EST",Fiji:"FJI",Finland:"FIN",France:"FRA",Georgia:"GEO",Germany:"DEU",Greece:"GRC",Guatemala:"GTM",Guyana:"GUY",Honduras:"HND","Hong Kong SAR China":"HKG",Hungary:"HUN",Iceland:"ISL",India:"IND",Indonesia:"IDN",Iraq:"IRQ",Ireland:"IRL",Israel:"ISR",Italy:"ITA",Jamaica:"JAM",Jordan:"JOR",Kazakhstan:"KAZ","Korea Republic":"KOR",Kosovo:"XKX","Kyrgyz Republic":"KGZ","Lao PDR":"LAO",Latvia:"LVA",Lithuania:"LTU",Luxembourg:"LUX",Malaysia:"MYS",Malta:"MLT",Mexico:"MEX",Moldova:"MDA",Mongolia:"MNG",Montenegro:"MNE",Myanmar:"MMR",Nepal:"NPL",Netherlands:"NLD","New Zealand":"NZL",Nicaragua:"NIC","North Macedonia":"MKD",Pakistan:"PAK",Panama:"PAN","Papua New Guinea":"PNG",Paraguay:"PRY",Peru:"PER",Philippines:"PHL",Poland:"POL",Portugal:"PRT",Romania:"ROU",Russia:"RUS","Saudi Arabia":"SAU",Serbia:"SRB",Singapore:"SGP","Slovak Republic":"SVK",Slovenia:"SVN",Spain:"ESP",SriLanka:"LKA",Sweden:"SWE","Taiwan China":"TWN",Tajikistan:"TJK",Thailand:"THA","Timor-Leste":"TLS","Trinidad and Tobago":"TTO",Turkiye:"TUR",Turkmenistan:"TKM",Ukraine:"UKR","United Kingdom":"GBR","United States":"USA",Uruguay:"URY",Uzbekistan:"UZB",Venezuela:"VEN","Viet Nam":"VNM","West Bank And Gaza":"PSE",Yemen:"YEM"},g=m.useCallback((N,R,j)=>`${N}_${R}_${j}`,[]),d=m.useCallback(N=>N&&Date.now()-N.timestamp<v,[]),x=m.useCallback(async(N,R,j=null)=>{const S=j||new Date().getFullYear()-1,k=g(N,R,S),P=y.current.get(k);if(d(P))return console.log(`Using cached data for ${R} in ${N}`),P.data;h.current&&h.current.abort(),h.current=new AbortController;const F=setTimeout(()=>h.current.abort(),f);try{console.log(`Fetching ${R} for ${N} from World Bank API...`);const I=`${p}/country/${N}/indicator/${R}`,U=new URLSearchParams({format:"json",date:`${S-2}:${S}`,per_page:"10"}),O=await fetch(`${I}?${U}`,{signal:h.current.signal});if(clearTimeout(F),!O.ok)throw new Error(`HTTP ${O.status}: ${O.statusText}`);const B=await O.json();if(!B||B.length<2)throw new Error(`No data returned from World Bank API for ${R}`);const q=B[1];if(!q||q.length===0)throw new Error(`No indicator data found for ${R} in ${N}`);const ge=q.filter(ot=>ot.value!==null&&ot.value!==void 0).sort((ot,rm)=>parseInt(rm.date)-parseInt(ot.date));if(ge.length===0)throw new Error(`No valid data found for ${R} in ${N}`);const We={value:ge[0].value,year:parseInt(ge[0].date),indicator:R,country:N,raw:ge[0]};return y.current.set(k,{data:We,timestamp:Date.now()}),We}catch(I){throw clearTimeout(F),I.name==="AbortError"?new Error("Request timeout - World Bank API is slow to respond"):(console.error(`Error fetching ${R} for ${N}:`,I.message),new Error(`Failed to fetch ${R}: ${I.message}`))}},[g,d]),b=m.useCallback(()=>({GDP:3.5,Credit:45,MarketCap:50,WUI:8.5,GPR:1.5,PRIME:5,WSI:60}),[]),E=m.useCallback((N,R)=>{if(R==null)return b()[N]||0;let j=Number(R);switch(N){case"GDP":return j;case"Credit":case"MarketCap":case"WSI":return Math.max(0,Math.min(200,j));case"WUI":return Math.max(0,Math.min(50,j));case"GPR":return Math.max(0,Math.min(10,j));case"PRIME":return Math.max(-5,Math.min(50,j));default:return j}},[b]),_=m.useCallback(async(N=e,R=!1)=>{if(!N)return l("No country specified"),null;const j=M[N];if(!j)return l(`Country code not found for: ${N}`),null;if(!R&&t&&o&&Date.now()-o<3e5)return console.log(`Using cached macro data for ${N}`),t;if(n&&!R)return console.log("Already loading macro data, skipping duplicate request"),t;a(!0),l(null);try{console.log(`Fetching macro indicators for ${N} (${j})...`);const S={},k={},P=[];if(Object.entries(C).forEach(([I,U])=>{const O=x(j,U).then(B=>{if(u.current){const q=E(I,B.value);S[I]={value:q,year:B.year,source:"World Bank",indicator:U,original_value:B.value,country:N,country_code:j}}}).catch(B=>{if(console.warn(`Failed to fetch ${I}:`,B.message),k[I]=B.message,u.current){const q=b()[I]||0;S[I]={value:q,year:new Date().getFullYear()-1,source:"Default estimate",indicator:U,original_value:q,country:N,country_code:j,is_fallback:!0}}});P.push(O)}),await Promise.allSettled(P),!u.current)return null;const F={success:!0,country:N,countryCode:j,data:S,errors:Object.keys(k).length>0?k:null,fetchedAt:new Date().toISOString(),hasErrors:Object.keys(k).length>0,dataQuality:Object.keys(k).length===0?"Complete":"Partial"};return r(F),c(Date.now()),Object.keys(k).length>0?l(`Some indicators failed: ${Object.keys(k).join(", ")}`):l(null),console.log(`Macro data fetched successfully for ${N}:`,F),F}catch(S){if(!u.current)return null;console.error("Error fetching macro data:",S),l(S.message);const k={success:!1,country:N,countryCode:j,data:{},error:S.message,fetchedAt:new Date().toISOString(),hasErrors:!0,dataQuality:"Failed"};return Object.keys(C).forEach(P=>{const F=b()[P]||0;k.data[P]={value:F,year:new Date().getFullYear()-1,source:"Default estimate",is_fallback:!0,country:N}}),r(k),k}finally{u.current&&a(!1)}},[e,t,o,n,x,E,b]),A=m.useCallback(()=>{if(!t||!t.data)return{};const N={};return Object.entries(t.data).forEach(([R,j])=>{N[R]=j.value}),N},[t]),D=m.useCallback(async()=>(console.log("Refreshing macro data (clearing cache)"),y.current.clear(),await _(e,!0)),[e,_]),w=m.useCallback(()=>{r(null),l(null),c(null)},[]);m.useEffect(()=>{if(e&&M[e]){const N=setTimeout(()=>{_(e)},500);return()=>clearTimeout(N)}else e&&!M[e]&&l(`Unsupported country: ${e}`)},[e,_]),m.useEffect(()=>(u.current=!0,()=>{console.log("World Bank hook unmounting - cleaning up"),u.current=!1,h.current&&h.current.abort()}),[]);const T=t&&t.data&&Object.keys(t.data).length>0,z=(t==null?void 0:t.dataQuality)||"Unknown",L=e?!!M[e]:!1;return{data:t,formData:A(),isLoading:n,error:i,hasData:T,dataQuality:z,lastFetch:o,isSupported:L,fetchMacroData:_,refreshData:D,clearData:w,getSupportedCountries:()=>Object.keys(M),getIndicatorMappings:()=>C}},zp=({selectedCountry:e,currentFormData:t={},onAutoFill:r,formErrors:n={},className:a=""})=>{const[i,l]=m.useState(!1),[o,c]=m.useState("manual"),[u,h]=m.useState(null),{data:p,formData:f,isLoading:v,error:y,hasData:C,dataQuality:M,lastFetch:g,isSupported:d,fetchMacroData:x,refreshData:b}=Op(e),[E,_]=m.useState(new Set),A={GDP:{label:"GDP Growth Rate (%)",description:"Annual GDP growth rate percentage",unit:"%",typical_range:"0-10%"},Credit:{label:"Domestic Credit (%)",description:"Domestic credit to private sector (% of GDP)",unit:"% of GDP",typical_range:"20-150%"},MarketCap:{label:"Market Capitalization (%)",description:"Stock market capitalization (% of GDP)",unit:"% of GDP",typical_range:"10-200%"},WUI:{label:"Unemployment Rate (%)",description:"World Uncertainty Index proxy - unemployment rate",unit:"%",typical_range:"0-25%"},GPR:{label:"Geopolitical Risk (%)",description:"Military expenditure as proxy for geopolitical risk",unit:"% of GDP",typical_range:"0-10%"},PRIME:{label:"Prime Interest Rate (%)",description:"Real interest rate",unit:"%",typical_range:"0-20%"},WSI:{label:"Trade Volume (%)",description:"World Supply Index proxy - trade (% of GDP)",unit:"% of GDP",typical_range:"20-200%"}};m.useEffect(()=>{if(C&&f&&r&&e!==u&&(o==="auto"||o==="manual"&&e)){console.log("Auto-filling macro data:",f);const R=new Set(Object.keys(f));_(R),r(f,{source:"World Bank API",country:e,quality:M,timestamp:new Date().toISOString(),autoFilledFields:Array.from(R)}),h(e)}},[C,f,r,e,u,o,M]);const D=async()=>{e&&d&&await x(e)},w=()=>{_(new Set),h(null);const R={};Object.keys(A).forEach(j=>{R[j]=""}),r&&r(R,{source:"manual_clear",action:"clear_autofill"})},z=(()=>{if(!e)return{icon:Ar,text:"Select a country first",color:"text-gray-500",bgColor:"bg-gray-50"};if(!d)return{icon:Y,text:"Country not supported",color:"text-orange-600",bgColor:"bg-orange-50"};if(v)return{icon:Ht,text:"Fetching data...",color:"text-blue-600",bgColor:"bg-blue-50"};if(y&&!C)return{icon:Y,text:"Failed to fetch data",color:"text-red-600",bgColor:"bg-red-50"};if(y&&C)return{icon:Y,text:"Partial data loaded",color:"text-yellow-600",bgColor:"bg-yellow-50"};if(C){const R=p!=null&&p.data?Math.max(...Object.values(p.data).map(j=>j.year)):"Unknown";return{icon:zt,text:`Data loaded (${R})`,color:"text-green-600",bgColor:"bg-green-50"}}return{icon:pc,text:"Ready to fetch",color:"text-indigo-600",bgColor:"bg-indigo-50"}})(),L=e&&d&&!v,N=L&&(!C||u!==e);return s.jsxs("div",{className:`space-y-4 ${a}`,children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 via-blue-50 to-cyan-50 rounded-xl p-4 border border-indigo-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-100 to-blue-100 rounded-lg",children:s.jsx(Me,{className:"h-5 w-5 text-indigo-600"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:["Macroeconomic Data Auto-Fill",s.jsx(pt,{className:"h-4 w-4 ml-1 text-yellow-500"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:e?`Auto-populate macro indicators for ${e}`:"Select a country to auto-fill macroeconomic data"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-xs text-gray-600 font-medium",children:"Auto-mode:"}),s.jsx("button",{onClick:()=>c(o==="auto"?"manual":"auto"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${o==="auto"?"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:o==="auto"?"ON":"OFF"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ${z.bgColor} ${z.color}`,children:[s.jsx(z.icon,{className:`h-4 w-4 ${v?"animate-spin":""}`}),s.jsx("span",{children:z.text}),C&&s.jsxs("span",{className:"text-xs opacity-75",children:[" ",Object.keys((p==null?void 0:p.data)||{}).length," indicators"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[N&&s.jsxs("button",{onClick:D,disabled:!L,className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 text-sm font-medium",children:[s.jsx(pc,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),s.jsx("span",{children:v?"Fetching...":"Fetch Data"})]}),C&&s.jsx("button",{onClick:b,disabled:v,className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200",title:"Refresh data",children:s.jsx(Ht,{className:`h-4 w-4 ${v?"animate-spin":""}`})}),E.size>0&&s.jsx("button",{onClick:w,className:"px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Clear auto-filled data",children:"Clear"})]})]}),y&&s.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Y,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-yellow-800 font-medium",children:"Data Fetch Warning"}),s.jsx("p",{className:"text-yellow-700",children:y}),s.jsx("p",{className:"text-yellow-600 text-xs mt-1",children:C?"Using available data with fallback values.":"Using default estimates."})]})]})}),o==="auto"&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(pt,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Auto-mode Enabled"}),s.jsx("p",{className:"text-green-700",children:"Macro fields will be automatically populated when you select a country."})]})]})})]}),C&&p&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pp,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Fetched Data Preview"}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",Object.keys(p.data||{}).length," indicators)"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M==="Complete"?"bg-green-100 text-green-700":M==="Partial"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:M})]}),s.jsx("button",{onClick:()=>l(!i),className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium",children:i?"Hide Details":"Show Details"})]})}),s.jsxs("div",{className:"p-4",children:[i?s.jsx("div",{className:"space-y-3",children:Object.entries(p.data||{}).map(([R,j])=>{const S=A[R]||{label:R,description:"Unknown field"},k=E.has(R),P=n[R];return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"font-medium text-gray-900 text-sm",children:S.label}),k&&s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"Auto-filled"}),j.is_fallback&&s.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:"Fallback"}),P&&s.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full font-medium",children:"Error"})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:S.description}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[j.source,"  ",j.year,"  ",S.typical_range]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("div",{className:"font-mono text-sm font-medium text-gray-900",children:[typeof j.value=="number"?j.value.toFixed(2):"N/A"," ",S.unit]}),j.original_value!==j.value&&s.jsxs("div",{className:"text-xs text-gray-400",children:["Raw: ",typeof j.original_value=="number"?j.original_value.toFixed(2):"N/A"]}),j.indicator&&s.jsx("div",{className:"text-xs text-gray-400 truncate max-w-20",children:j.indicator})]})]},R)})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(p.data||{}).slice(0,4).map(([R,j])=>{const S=E.has(R);return s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:typeof j.value=="number"?j.value.toFixed(1):"N/A"}),s.jsx("div",{className:"text-xs text-gray-600 font-medium",children:R}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j.year}),S&&s.jsx("div",{className:"text-xs text-blue-600 font-medium mt-1",children:"Auto-filled"})]},R)})}),g&&s.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100 flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(hp,{className:"h-3 w-3 mr-1"}),"Last updated: ",new Date(g).toLocaleString()]}),p.countryCode&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ar,{className:"h-3 w-3 mr-1"}),p.country," (",p.countryCode,")"]})]})]})]}),!e&&s.jsxs("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-xl border border-gray-200",children:[s.jsx(Ar,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("h4",{className:"font-medium text-gray-700 mb-1",children:"No Country Selected"}),s.jsx("p",{className:"text-sm",children:"Choose a country from the form to access World Bank macroeconomic data"})]}),e&&!d&&s.jsxs("div",{className:"text-center py-8 text-orange-600 bg-orange-50 rounded-xl border border-orange-200",children:[s.jsx(Y,{className:"h-12 w-12 mx-auto mb-3"}),s.jsx("h4",{className:"font-medium text-orange-700 mb-1",children:"Country Not Supported"}),s.jsxs("p",{className:"text-sm",children:["World Bank data is not available for ",e,". Please enter values manually or select a different country."]})]}),C&&(p==null?void 0:p.hasErrors)&&s.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Y,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-amber-800 font-medium",children:"Data Quality Notice"}),s.jsx("p",{className:"text-amber-700",children:"Some indicators couldn't be fetched from World Bank. Fallback estimates are used where data is unavailable."}),s.jsx("div",{className:"mt-2 text-xs text-amber-600",children:s.jsxs("p",{children:["Missing data: ",Object.keys(p.errors||{}).join(", ")]})})]})]})})]})},$n=m.forwardRef(({children:e,onClick:t,type:r="button",variant:n="primary",size:a="md",isLoading:i=!1,disabled:l=!1,className:o="",icon:c=null,iconRight:u=null,fullWidth:h=!1,ariaLabel:p,...f},v)=>{const y=`
        inline-flex items-center justify-center font-semibold transition-all duration-200 
        focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed
        relative overflow-hidden
    `,C={sm:"px-3 py-2 text-sm rounded-lg gap-1.5",md:"px-6 py-3 text-base rounded-xl gap-2",lg:"px-8 py-4 text-lg rounded-xl gap-2.5",xl:"px-10 py-5 text-xl rounded-2xl gap-3"},M={primary:`
            bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg
            hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl hover:scale-105
            focus:ring-indigo-500 
            disabled:from-indigo-400 disabled:to-purple-400 disabled:shadow-none disabled:scale-100
        `,secondary:`
            bg-white border-2 border-indigo-600 text-indigo-600 shadow-md
            hover:bg-indigo-600 hover:text-white hover:shadow-lg hover:scale-105
            focus:ring-indigo-500 focus:bg-indigo-50
            disabled:border-indigo-300 disabled:text-indigo-300 disabled:bg-white disabled:shadow-none disabled:scale-100
        `,outline:`
            bg-transparent border-2 border-gray-300 text-gray-700 
            hover:border-indigo-600 hover:text-indigo-600 hover:bg-indigo-50
            focus:ring-indigo-500 focus:border-indigo-600
            disabled:border-gray-200 disabled:text-gray-400 disabled:bg-transparent
        `,ghost:`
            bg-transparent text-gray-600 
            hover:bg-gray-100 hover:text-gray-900
            focus:ring-gray-500 focus:bg-gray-50
            disabled:text-gray-400 disabled:bg-transparent
        `,success:`
            bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg
            hover:from-green-600 hover:to-emerald-700 hover:shadow-xl hover:scale-105
            focus:ring-green-500
            disabled:from-green-400 disabled:to-emerald-400 disabled:shadow-none disabled:scale-100
        `,warning:`
            bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-lg
            hover:from-yellow-600 hover:to-orange-600 hover:shadow-xl hover:scale-105
            focus:ring-yellow-500
            disabled:from-yellow-400 disabled:to-orange-400 disabled:shadow-none disabled:scale-100
        `,danger:`
            bg-gradient-to-r from-red-500 to-pink-600 text-white shadow-lg
            hover:from-red-600 hover:to-pink-700 hover:shadow-xl hover:scale-105
            focus:ring-red-500
            disabled:from-red-400 disabled:to-pink-400 disabled:shadow-none disabled:scale-100
        `,info:`
            bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-lg
            hover:from-blue-600 hover:to-cyan-700 hover:shadow-xl hover:scale-105
            focus:ring-blue-500
            disabled:from-blue-400 disabled:to-cyan-400 disabled:shadow-none disabled:scale-100
        `},g=E=>{if(i||l){E.preventDefault();return}t&&t(E)},d=i?"cursor-wait":"",x=h?"w-full":"",b=`
        ${y}
        ${C[a]||C.md}
        ${M[n]||M.primary}
        ${d}
        ${x}
        ${o}
    `.replace(/\s+/g," ").trim();return s.jsxs("button",{ref:v,type:r,onClick:g,disabled:i||l,className:b,"aria-label":p||(typeof e=="string"?e:void 0),"aria-disabled":i||l,...f,children:[i&&s.jsx(Ql,{className:"animate-spin",size:a==="sm"?16:a==="lg"?24:a==="xl"?28:20}),!i&&c&&s.jsx(c,{size:a==="sm"?16:a==="lg"?24:a==="xl"?28:20}),e&&s.jsx("span",{className:i?"opacity-70":"",children:e}),!i&&u&&s.jsx(u,{size:a==="sm"?16:a==="lg"?24:a==="xl"?28:20}),s.jsx("span",{className:"absolute inset-0 rounded-inherit",children:s.jsx("span",{className:"absolute inset-0 rounded-inherit bg-white opacity-0 transition-opacity duration-200 hover:opacity-10"})})]})});$n.displayName="Button";const Up=()=>{const[e,t]=m.useState({}),[r,n]=m.useState("company"),[a,i]=m.useState({}),[l,o]=m.useState(!1),[c,u]=m.useState(!1),[h,p]=m.useState(""),{generatePrediction:f,isLoading:v}=ya(),{addNotification:y}=De(),{isAuthenticated:C}=pe(),M=["Angola","Bangladesh","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Central African Republic","Chad","Congo","Cote d'Ivoire","DRC","Djibouti","Egypt","Equatorial Guinea","Eswatini","Ethiopia","Gabon","Gambia","Ghana","Guinea","Lebanon","Lesotho","Liberia","Guineabissau","Kenya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Senegal","Seychelles","Sierra Leone","South Sudan","Southafrica","Sudan","Tanzania","Tunisia","Uganda","Zambia","Zimbabwe"],g=m.useMemo(()=>({company:{title:"Company Profile",description:"Basic information about your company",fields:["stra_sector","wk14","car1","country2"]},performance:{title:"Performance & Obstacles",description:"Company performance and key business obstacles",fields:["perf1","obst1"]},financial:{title:"Financial Structure",description:"Funding sources and financial arrangements",fields:["fin16","fin33","Fin_bank","Fin_supplier","Fin_equity","Fin_other"]},leadership:{title:"Leadership & Governance",description:"Management structure and organizational leadership",fields:["Fem_wf","Fem_CEO","Pvt_Own","Con_Own"]},operations:{title:"Business Operations",description:"Operational capabilities and market activities",fields:["Edu","Exports","Innov","Transp"]},macro:{title:"Macroeconomic Data",description:"Economic indicators and market conditions (auto-fill available)",fields:["GDP","Credit","WSI","WUI","PRIME"]},environment:{title:"Business Environment",description:"External factors and competitive landscape",fields:["Pol_Inst","Infor_Comp"]}}),[]),d=m.useMemo(()=>({stra_sector:{label:"Industry Sector",type:"select",placeholder:"Select your industry sector",description:"The primary industry your company operates in",required:!0},wk14:{label:"Years in Operation",type:"number",placeholder:"e.g., 5",description:"How many years has your company been operating?",required:!0,min:0,max:100,step:1},car1:{label:"Company Age (Years)",type:"number",placeholder:"e.g., 7",description:"Years since company establishment",required:!0,min:0,max:100,step:1},country2:{label:"Country",type:"select",placeholder:"Select your country",description:"Country where your company is primarily based",required:!0},perf1:{label:"Sales Performance (%)",type:"number",placeholder:"e.g., 15",description:"Sales growth compared to last year (can be negative)",required:!0,min:-100,max:1e3,step:.1},obst1:{label:"Access to Finance Obstacle (%)",type:"number",placeholder:"e.g., 30",description:"How much does access to finance constrain your business (0-100%)",required:!0,min:0,max:100,step:1},fin16:{label:"Working Capital Financing",type:"select",placeholder:"Select option",description:"Do you need external financing for working capital?",required:!0,options:{No:"0",Yes:"1"}},fin33:{label:"Credit Line Usage",type:"select",placeholder:"Select option",description:"Does your company have and use a credit line?",required:!0,options:{No:"0",Yes:"1"}},Fin_bank:{label:"Bank Financing (%)",type:"number",placeholder:"e.g., 25",description:"Percentage of financing from traditional banks",min:0,max:100,step:.1},Fin_supplier:{label:"Supplier Credit (%)",type:"number",placeholder:"e.g., 15",description:"Percentage of financing from supplier credit",min:0,max:100,step:.1},Fin_equity:{label:"Equity Financing (%)",type:"number",placeholder:"e.g., 40",description:"Percentage of financing from equity/investors",min:0,max:100,step:.1},Fin_other:{label:"Other Financing (%)",type:"number",placeholder:"e.g., 20",description:"Percentage from alternative funding sources",min:0,max:100,step:.1},Fem_wf:{label:"Female Workforce (%)",type:"number",placeholder:"e.g., 45",description:"Percentage of female employees in your workforce",min:0,max:100,step:.1},Fem_CEO:{label:"Female Top Manager",type:"select",placeholder:"Select option",description:"Is the top manager female?",options:{No:"0",Yes:"1"}},Pvt_Own:{label:"Private Ownership (%)",type:"number",placeholder:"e.g., 80",description:"Percentage of private ownership in your company",min:0,max:100,step:.1},Con_Own:{label:"Concentrated Ownership (%)",type:"number",placeholder:"e.g., 60",description:"Percentage of ownership held by largest shareholders",min:0,max:100,step:.1},Edu:{label:"Workforce Education Obstacle (%)",type:"number",placeholder:"e.g., 20",description:"How much does inadequate workforce education constrain business (0-100%)",min:0,max:100,step:1},Exports:{label:"Export Sales (%)",type:"number",placeholder:"e.g., 25",description:"Percentage of sales that are exported directly",min:0,max:100,step:.1},Innov:{label:"Product Innovation",type:"select",placeholder:"Select option",description:"Has your company introduced new products/services?",options:{No:"0",Yes:"1"}},Transp:{label:"Transportation Obstacle (%)",type:"number",placeholder:"e.g., 15",description:"How much does transportation constrain your business (0-100%)",min:0,max:100,step:1},GDP:{label:"GDP Growth Rate (%)",type:"number",placeholder:"e.g., 3.5",description:"Annual GDP growth rate percentage",min:-10,max:20,step:.1,canAutoFill:!0,required:!0},Credit:{label:"Domestic Credit to Private Sector (% of GDP)",type:"number",placeholder:"e.g., 45.0",description:"Credit provided to private sector as percentage of GDP",min:0,max:200,step:.1,canAutoFill:!0,required:!0},WSI:{label:"World Supply Index (%)",type:"number",placeholder:"e.g., 60.0",description:"Trade volume as percentage of GDP",min:0,max:400,step:.1,canAutoFill:!0,required:!0},WUI:{label:"World Uncertainty Index (%)",type:"number",placeholder:"e.g., 8.5",description:"Unemployment rate as proxy for economic uncertainty",min:0,max:50,step:.1,canAutoFill:!0,required:!0},PRIME:{label:"Prime Interest Rate (%)",type:"number",placeholder:"e.g., 5.0",description:"Real interest rate",min:-5,max:50,step:.1,canAutoFill:!0,required:!0},MarketCap:{label:"Market Capitalization (% of GDP)",type:"number",placeholder:"e.g., 50.0",description:"Stock market capitalization as percentage of GDP",min:0,max:300,step:.1,canAutoFill:!0,showForRegion:"ROW"},GPR:{label:"Geopolitical Risk (%)",type:"number",placeholder:"e.g., 1.5",description:"Military expenditure as percentage of GDP",min:0,max:15,step:.1,canAutoFill:!0,showForRegion:"ROW"},Size:{label:"Company Size",type:"select",placeholder:"Select company size",description:"Number of full-time employees",showForRegion:"ROW",options:{"Small (< 20 employees)":"1","Medium (20-99 employees)":"2","Large (100+ employees)":"3"}},Pol_Inst:{label:"Political Instability Obstacle (%)",type:"number",placeholder:"e.g., 25",description:"How much does political instability constrain business (0-100%)",min:0,max:100,step:1},Infor_Comp:{label:"Informal Competition Obstacle (%)",type:"number",placeholder:"e.g., 30",description:"How much do informal competitors constrain business (0-100%)",min:0,max:100,step:1}}),[]),x=m.useCallback((k,P)=>{var I;const F=((I=g[k])==null?void 0:I.fields)||[];return k==="macro"?M.includes(P)?F:[...F,"MarketCap","GPR"]:k==="company"&&P&&!M.includes(P)?[...F,"Size"]:F},[g,M]);m.useEffect(()=>{const k={};Object.keys(d).forEach(P=>{k[P]=""}),t(k)},[d]),m.useEffect(()=>{const k=e.country2;k&&k!==h&&p(k)},[e.country2,h]);const b=m.useCallback((k,P)=>{console.log("Auto-filling macro data:",k),t(I=>({...I,...k}));const F=Object.keys(k);i(I=>{const U={...I};return F.forEach(O=>{delete U[O]}),U}),(P==null?void 0:P.source)==="World Bank API"&&y(`Auto-filled ${Object.keys(k).length} macro indicators for ${P.country}`,"success",{title:"Macro Data Loaded"})},[y]),E=Object.keys(g),_=E.indexOf(r),A=_===E.length-1,D=m.useCallback(()=>{if(!A){const k=E[_+1];n(k)}},[_,A,E]),w=m.useCallback(()=>{const k={};let P=!0;return Object.keys(d).filter(U=>d[U].required).forEach(U=>{(!e[U]||e[U]==="")&&(k[U]="This field is required",P=!1)}),Object.keys(d).forEach(U=>{const O=d[U],B=e[U];if(B&&B!==""&&O.type==="number"){const q=parseFloat(B);isNaN(q)?(k[U]="Must be a valid number",P=!1):(O.min!==void 0&&q<O.min&&(k[U]=`Must be at least ${O.min}`,P=!1),O.max!==void 0&&q>O.max&&(k[U]=`Must be at most ${O.max}`,P=!1),O.step===1&&!Number.isInteger(q)&&(k[U]="Must be a whole number",P=!1))}}),["Fin_bank","Fin_supplier","Fin_equity","Fin_other"].reduce((U,O)=>U+(parseFloat(e[O])||0),0)>100&&(["Fin_bank","Fin_supplier","Fin_equity","Fin_other"].forEach(U=>{e[U]&&(k[U]="Total financing cannot exceed 100%")}),P=!1),i(k),o(P&&Object.keys(k).length===0),P},[e,d]),T=m.useCallback(()=>{const k=e.country2,P=x(r,k),F={};let I=!0;return P.forEach(U=>{const O=d[U],B=e[U];if(O!=null&&O.showForRegion){const q=!M.includes(k);if(!(O.showForRegion==="ROW"&&q||O.showForRegion==="AFR"&&!q))return}if(O!=null&&O.required&&(!B||B==="")&&(F[U]="This field is required",I=!1),B&&B!==""&&(O==null?void 0:O.type)==="number"){const q=parseFloat(B);isNaN(q)?(F[U]="Must be a valid number",I=!1):(O.min!==void 0&&q<O.min&&(F[U]=`Must be at least ${O.min}`,I=!1),O.max!==void 0&&q>O.max&&(F[U]=`Must be at most ${O.max}`,I=!1))}}),i(U=>({...U,...F})),I},[r,d,e,x,M]);m.useEffect(()=>{w()},[e,w]);const z=m.useCallback((k,P)=>{t(F=>({...F,[k]:P})),a[k]&&i(F=>{const I={...F};return delete I[k],I})},[a]),L=m.useCallback(async k=>{if(k.preventDefault(),u(!0),A){if(!C){y("Please sign in to generate predictions","warning");return}if(!w()){y("Please correct the errors in the form before submitting","error");return}const P={};Object.keys(e).forEach(U=>{var B,q;const O=e[U];if(O!==""&&O!==null&&O!==void 0){let ge=O;((B=d[U])==null?void 0:B.type)==="number"?ge=parseFloat(O):((q=d[U])==null?void 0:q.type)==="select"&&(ge=O),["Fin_bank","Fin_supplier","Fin_equity","Fin_other","Fem_wf","Pvt_Own","Con_Own","Exports"].includes(U)&&ge>1&&(ge=ge/100),P[U]=ge}});const F=e.country2,I=M.includes(F)?"AFR":"ROW";console.log("Submitting data to backend:",{data:P,region:I,country:F});try{await f(P,I),y("Financial analysis completed successfully!","success")}catch(U){console.error("Prediction generation failed:",U),y(U.message||"Failed to generate prediction","error")}}else T()?(D(),u(!1)):y("Please complete all required fields in this section","warning")},[A,C,w,T,D,e,f,y,d,M]),N=m.useCallback(()=>{const k={};Object.keys(d).forEach(P=>{k[P]=""}),t(k),i({}),n("company"),u(!1),p("")},[d]),R=g[r],j=m.useMemo(()=>{const k=Object.keys(d).length,P=Object.values(e).filter(F=>F!==""&&F!==null).length;return Math.round(P/k*100)},[e,d]),S=()=>{const k=e.country2;return x(r,k).map(F=>{const I=d[F];if(!I)return null;if(I.showForRegion&&k){const U=!M.includes(k);if(!(I.showForRegion==="ROW"&&U||I.showForRegion==="AFR"&&!U))return null}return s.jsx($p,{name:F,value:e[F]||"",onChange:z,config:I,error:a[F],required:I.required,submitAttempted:c},F)}).filter(Boolean)};return s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(pt,{className:"h-6 w-6 mr-3"}),"Financial Risk Assessment"]}),s.jsx("p",{className:"text-indigo-100 mt-2",children:"Complete the form below for comprehensive financial health analysis"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-white text-sm font-medium mb-1",children:[j,"% Complete"]}),s.jsx("div",{className:"w-24 bg-white/20 rounded-full h-2",children:s.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})})]})]})}),s.jsxs("div",{className:"p-8",children:[!C&&s.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wt,{className:"h-5 w-5 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Sign in to save your predictions"}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Create an account to access prediction history and advanced insights"})]})]})}),s.jsx(Tp,{activeSection:r,setActiveSection:n,sections:g}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl border border-gray-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[s.jsx(ql,{className:"h-4 w-4 mr-2 text-blue-600"}),R.title]}),s.jsx("p",{className:"text-sm text-gray-600",children:R.description})]}),r==="macro"&&s.jsx(zp,{selectedCountry:h,currentFormData:e,onAutoFill:b,formErrors:a,className:"mb-6"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S()}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[s.jsx($n,{type:"button",variant:"primary",disabled:v||!C&&A&&c,isLoading:v,icon:v?Ql:A?jp:fp,className:"flex-1 sm:flex-none",onClick:L,children:v?"Analyzing Financial Health...":A?"Generate Risk Assessment":"Next Section"}),s.jsx($n,{type:"button",variant:"secondary",onClick:N,disabled:v,children:"Reset Form"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[s.jsxs("span",{className:"flex items-center text-gray-600",children:["Section ",_+1," of ",E.length]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:`flex items-center ${l?"text-green-600":"text-orange-600"}`,children:l?s.jsxs(s.Fragment,{children:[s.jsx(zt,{className:"h-4 w-4 mr-1"}),"Ready for analysis"]}):s.jsxs(s.Fragment,{children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),"Complete required fields"]})})]})})]})]})]})},Bp=({prediction:e})=>{if(!e)return null;const t=a=>{switch(a){case"High Risk":return"text-red-600";case"Medium Risk":return"text-yellow-600";case"Low Risk":case"Very Low Risk":return"text-green-600";default:return"text-gray-600"}},r=a=>{switch(a){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},n=a=>a?new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return s.jsxs("div",{className:`mt-8 rounded-3xl shadow-2xl border-2 transition-all duration-300 ${e.isDistressed?"bg-red-50/80 border-red-300":"bg-green-50/80 border-green-300"}`,children:[s.jsxs("div",{className:`p-8 rounded-t-3xl ${e.isDistressed?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,children:[s.jsxs("div",{className:"flex items-center mb-4",children:[e.isDistressed?s.jsx(Y,{className:"h-10 w-10 text-white mr-4"}):s.jsx(zt,{className:"h-10 w-10 text-white mr-4"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-white",children:e.isDistressed?"High Risk Detected":"Financial Health Stable"}),s.jsxs("p",{className:"text-white/90 mt-1",children:["Risk Level: ",s.jsx("span",{className:"font-semibold",children:e.riskLevel})]})]})]}),s.jsx("p",{className:"text-white/95 text-lg leading-relaxed",children:e.message})]}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Distress Probability"}),e.isDistressed?s.jsx(Me,{className:"h-5 w-5 text-red-500"}):s.jsx(Jd,{className:"h-5 w-5 text-green-500"})]}),s.jsx("div",{className:"text-3xl font-bold",children:s.jsxs("span",{className:e.probability>.5?"text-red-600":"text-green-600",children:[(e.probability*100).toFixed(1),"%"]})}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${e.probability>.5?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(e.probability*100,100)}%`}})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Model Confidence"}),s.jsx(Cs,{className:"h-5 w-5 text-indigo-500"})]}),s.jsxs("div",{className:"text-3xl font-bold text-indigo-600",children:[(e.confidence*100).toFixed(1),"%"]}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${e.confidence*100}%`}})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Risk Category"}),s.jsx(vc,{className:"h-5 w-5 text-yellow-500"})]}),s.jsx("div",{className:`text-3xl font-bold ${t(e.riskLevel)}`,children:e.riskLevel}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.riskLevel==="High Risk"&&"Immediate attention required",e.riskLevel==="Medium Risk"&&"Monitor closely",(e.riskLevel==="Low Risk"||e.riskLevel==="Very Low Risk")&&"Maintain current practices"]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[s.jsxs("h4",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(vc,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Key Influencing Factors"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.keyFactors.map((a,i)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h5",{className:"font-semibold text-gray-800 text-sm",children:a.factor}),s.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${a.impact==="High"?"bg-red-100 text-red-700":a.impact==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:a.impact})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:`font-semibold ${r(a.impact)}`,children:[a.impact," Impact"]}),s.jsxs("span",{className:"ml-auto text-sm text-gray-600",children:["Weight: ",(a.value*100).toFixed(1),"%"]})]})]},i))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[s.jsxs("h4",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ln,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Strategic Recommendations"]}),s.jsx("div",{className:"space-y-3",children:e.recommendations.map((a,i)=>s.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white mr-3 mt-0.5 ${e.isDistressed?"bg-red-500":"bg-green-500"}`,children:i+1}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:a})]},i))})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Prediction generated on: ",s.jsx("span",{className:"font-medium",children:n(e.timestamp)})]})})]})]})},Hp=()=>{const{predictions:e,isLoading:t,error:r,setCurrentPrediction:n,deletePrediction:a}=ya(),{authState:i}=pe(),{addNotification:l}=De();if(!i.isAuthenticated)return s.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 p-8 text-center",children:[s.jsx(ks,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Sign in to Save Predictions"}),s.jsx("p",{className:"text-gray-600",children:"Create an account to automatically save your prediction history and access them anytime."})]});if(t)return s.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 p-8 text-center",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading Predictions..."}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your prediction history."})]});if(r)return s.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 p-8 text-center",children:[s.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-2",children:"Error Loading Predictions"}),s.jsx("p",{className:"text-gray-600",children:r.message||"Failed to load prediction history. Please try again."})]});if(!e||!Array.isArray(e)||e.length===0)return s.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 p-8 text-center",children:[s.jsx(ks,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Predictions Yet"}),s.jsx("p",{className:"text-gray-600",children:"Your prediction history will appear here once you generate your first prediction."})]});const o=h=>h?new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",c=h=>{switch(h){case"High":return"bg-red-100 text-red-800 border-red-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":case"Very Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},u=async h=>{try{await a(h),l("Prediction deleted successfully","success")}catch{l("Failed to delete prediction","error")}};return s.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6",children:[s.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(ks,{className:"h-6 w-6 mr-3"}),"Prediction History"]}),s.jsxs("p",{className:"text-indigo-100 mt-2",children:[e.length," prediction",e.length!==1?"s":""," saved"]})]}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"space-y-4",children:e.map(h=>{var p,f;return s.jsxs("div",{className:`p-6 rounded-xl shadow-sm border-2 transition-all duration-200 hover:shadow-lg ${h.risk_category==="High"?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-300"}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.risk_category==="High"?s.jsx(Me,{className:"h-5 w-5 text-red-500"}):s.jsx(Jd,{className:"h-5 w-5 text-green-500"}),s.jsxs("h4",{className:"font-semibold text-gray-800",children:[h.risk_category," Detection"]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${c(h.risk_category)}`,children:h.risk_category})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Probability:"})," ",s.jsxs("span",{className:`font-semibold ${h.financial_distress_probability>.5?"text-red-600":"text-green-600"}`,children:[(h.financial_distress_probability*100).toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Confidence:"})," ",s.jsxs("span",{className:"font-semibold text-indigo-600",children:[(h.model_confidence*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(mp,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:o(h.created_at)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($n,{onClick:()=>n(h),variant:"primary",icon:Pr,children:s.jsx("span",{className:"hidden sm:inline",children:"View Details"})}),s.jsx($n,{onClick:()=>u(h.id),variant:"danger",icon:Sp,children:s.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Key Risk Factors:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(p=h.key_influencing_factors)==null?void 0:p.slice(0,3).map((v,y)=>s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v.impact_level==="High"?"bg-red-100 text-red-700":v.impact_level==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:v.name},y)),((f=h.key_influencing_factors)==null?void 0:f.length)>3&&s.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["+",h.key_influencing_factors.length-3," more"]})]})]})]},h.id)})}),e.length>=10&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:s.jsxs("p",{className:"text-sm text-blue-700 text-center",children:[s.jsx("strong",{children:"Note:"})," Only the 10 most recent predictions are displayed."]})})]})]})},wc=()=>{const{currentPrediction:e}=ya();return s.jsxs("div",{className:"space-y-8",children:[s.jsx(Rp,{}),s.jsx(Mp,{}),s.jsx(Up,{}),e&&s.jsx(Bp,{prediction:e}),s.jsx(Hp,{})]})},va=(e="dashboard")=>{const[t,r]=m.useState(null),[n,a]=m.useState(!1),[i,l]=m.useState(null),[o,c]=m.useState(null),u=m.useRef(!0),h=m.useRef(null),p=m.useRef(null),{user:f,isAuthenticated:v,accessToken:y,getAuthHeaders:C}=pe(),M="https://findistress-ai-web-app-backend.onrender.com/api/v1",g=45e3,d=3,x=2e3,b=m.useCallback(async(j,S=0)=>{h.current&&h.current.abort(),h.current=new AbortController;const k=setTimeout(()=>h.current.abort(),g);try{const P=`${M}${j}`;let F={"Content-Type":"application/json"};y?F.Authorization=`Bearer ${y}`:typeof C=="function"&&(F=C()),console.log(`[${e}] API call attempt ${S+1} to: ${P}`),console.log(`[${e}] Using auth token: ${F.Authorization?"Yes":"No"}`);const I=await fetch(P,{headers:F,method:"GET",signal:h.current.signal});if(clearTimeout(k),!I.ok){if(I.status===401)throw console.error(`[${e}] 401 Unauthorized - Token may be invalid or missing`),new Error("Not authenticated");if(I.status===403)throw new Error("Access denied. Insufficient permissions.");if(I.status===404)throw new Error("Service endpoint not found.");if(I.status===429)throw new Error("Too many requests. Please wait and try again.");if(I.status>=500)throw new Error("Server error. The service may be starting up. Please try again in a moment.");let O=`HTTP ${I.status}`;try{const B=await I.json();O=B.detail||B.message||I.statusText}catch{O=I.statusText||`HTTP Error ${I.status}`}throw new Error(O)}const U=await I.json();return console.log(`[${e}] Success on attempt ${S+1}:`,U),U}catch(P){if(clearTimeout(k),P.name==="AbortError"){if(S<d)return console.log(`[${e}] Request timeout, retrying... (${S+1}/${d})`),await new Promise(F=>{p.current=setTimeout(F,x*(S+1))}),await b(j,S+1);throw new Error("Connection timeout. The server may be starting up. Please try again in a few minutes.")}if(P.message==="Not authenticated")throw P;if(P.message.includes("fetch")&&S<d)return console.log(`[${e}] Network error, retrying... (${S+1}/${d})`),await new Promise(F=>{p.current=setTimeout(F,x*(S+1))}),await b(j,S+1);throw console.error(`[${e}] API call failed after ${S+1} attempts:`,P),P}},[M,y,C,e]),E=m.useCallback((j,S)=>{if(!j)return console.warn(`[${S}] No data received from backend`),w(S);console.log(`[${S}] Processing backend data:`,j);try{switch(S){case"analytics":return _(j);case"insights":return A(j);case"dashboard":default:return D(j)}}catch(k){return console.error(`[${S}] Error processing backend data:`,k),w(S)}},[]),_=j=>{const S=j.key_metrics||{};return{isEmpty:j.isEmpty||!1,totalPredictions:S.total_predictions||j.totalPredictions||0,period_days:j.period_days||30,date_range:j.date_range||{},key_metrics:{total_predictions:S.total_predictions||0,average_risk_score:Number(S.average_risk_score||0),risk_distribution:Array.isArray(S.risk_distribution)?S.risk_distribution:[],data_quality:S.data_quality||j.dataQuality||"Unknown",health_score:Number(S.health_score||0)},riskDistribution:Array.isArray(S.risk_distribution)?S.risk_distribution:[],risk_trend_analysis:Array.isArray(j.risk_trend_analysis)?j.risk_trend_analysis:[],factor_contribution:Array.isArray(j.factor_contribution)?j.factor_contribution:[],topRiskFactors:Array.isArray(j.factor_contribution)?j.factor_contribution:[],monthlyTrends:Array.isArray(j.risk_trend_analysis)?j.risk_trend_analysis:[],peer_comparison:j.peer_comparison||{},summary_insights:j.summary_insights||{},dataQuality:S.data_quality||j.dataQuality||"Unknown",lastUpdated:j.lastUpdated||new Date().toISOString()}},A=j=>{const S=O=>Array.isArray(O)?O.map(B=>typeof B=="string"?{title:B,priority:"Medium",action:B,reason:"Recommended action",implementation:"",expected_impact:""}:typeof B=="object"&&B!==null?{title:String(B.title||"Recommendation"),priority:String(B.priority||"Medium"),action:String(B.action||"Action not specified"),reason:String(B.reason||"Reason not provided"),implementation:String(B.implementation||""),expected_impact:String(B.expected_impact||"")}:{title:"Invalid Recommendation",priority:"Low",action:"Review recommendation data",reason:"Data format issue",implementation:"",expected_impact:""}):[],k=O=>Array.isArray(O)?O.map(B=>typeof B=="string"?{title:B,severity:"Medium",message:B,impact:"Review required",action:"Investigate further",timeline:"As needed"}:typeof B=="object"&&B!==null?{title:String(B.title||"Risk Alert"),severity:String(B.severity||"Medium"),message:String(B.message||"Alert message not available"),impact:String(B.impact||"Impact assessment pending"),action:String(B.action||"Action required"),timeline:String(B.timeline||"Timeline not specified")}:{title:"Invalid Alert",severity:"Low",message:"Alert data format issue",impact:"Data review needed",action:"Check alert data",timeline:"As needed"}):[],P=O=>Array.isArray(O)?O.map(B=>typeof B=="object"&&B!==null?{trend:String(B.trend||B.title||B.name||"Market Trend"),impact:String(B.impact||B.level||"Medium"),description:String(B.description||B.desc||"Description not available"),recommendation:String(B.recommendation||B.action||"No recommendation"),source:String(B.source||"Unknown Source")}:{trend:String(B||"Unknown Trend"),impact:"Medium",description:"Context data processing issue",recommendation:"Review data format",source:"Data Processing"}):[],F=j.actionable_recommendations||j.recommendations||[],I=j.risk_alerts||[],U=j.market_context||j.marketTrends||[];return{isEmpty:j.isEmpty||!1,actionable_recommendations:S(F),recommendations:S(F),risk_alerts:k(I),riskAlerts:k(I),market_context:P(U),marketTrends:P(U),insight_summary:j.insight_summary||{total_insights:0,critical_risks:0,recommendations:0,alert_level:"None"},key_factors_analysis:Array.isArray(j.key_factors_analysis)?j.key_factors_analysis:[],keyInsights:Array.isArray(j.key_insights)?j.key_insights:[],dataQuality:j.dataQuality||"Unknown",lastUpdated:j.lastUpdated||new Date().toISOString()}},D=j=>({isEmpty:j.isEmpty||!1,financial_health_snapshot:j.financial_health_snapshot||{health_score:0,risk_category:"Unknown",score_change:0,color:"#6b7280"},risk_category_breakdown:j.risk_category_breakdown||{user_distribution:[],benchmark_percentile:50},key_risk_drivers:Array.isArray(j.key_risk_drivers)?j.key_risk_drivers:[],trend_overview:Array.isArray(j.trend_overview)?j.trend_overview:[],summary_stats:j.summary_stats||{total_predictions:0},dataQuality:j.dataQuality||"Unknown",lastUpdated:j.lastUpdated||new Date().toISOString()}),w=m.useCallback(j=>{const S={isEmpty:!0,dataQuality:"No Data",lastUpdated:new Date().toISOString()};switch(j){case"analytics":return{...S,totalPredictions:0,key_metrics:{total_predictions:0,average_risk_score:0,risk_distribution:[],data_quality:"No Data",health_score:0},riskDistribution:[],risk_trend_analysis:[],factor_contribution:[],topRiskFactors:[],monthlyTrends:[],peer_comparison:{},summary_insights:{}};case"insights":return{...S,actionable_recommendations:[],recommendations:[],risk_alerts:[],riskAlerts:[],market_context:[],marketTrends:[],insight_summary:{total_insights:0,critical_risks:0,recommendations:0,alert_level:"None"},key_factors_analysis:[],keyInsights:[]};case"dashboard":default:return{...S,financial_health_snapshot:{health_score:0,risk_category:"Unknown",score_change:0,color:"#6b7280"},risk_category_breakdown:{user_distribution:[],benchmark_percentile:50},key_risk_drivers:[],trend_overview:[],summary_stats:{total_predictions:0}}}},[]),T=m.useCallback(async(j=!1)=>{if(!v||!y)return console.log(`[${e}] Not authenticated, clearing data`),r(null),l(null),null;if(!j&&t&&o&&Date.now()-o<3e4)return console.log(`[${e}] Using cached data (${Math.round((Date.now()-o)/1e3)}s old)`),t;if(n&&!j)return console.log(`[${e}] Already loading, skipping duplicate request`),t;a(!0),l(null);try{let S;switch(e){case"analytics":S="/analytics";break;case"insights":S="/insights/fast";break;case"dashboard":default:S="/dashboard";break}console.log(`[${e}] Fetching from ${S}`);const k=await b(S);if(!k||!u.current)return null;const P=E(k,e);return u.current&&(r(P),c(Date.now()),l(null),console.log(`[${e}] Data processed successfully:`,P)),P}catch(S){if(!u.current)return null;console.error(`[${e}] Failed to fetch data:`,S),l(S);const k=w(e);return r(k),k}finally{u.current&&a(!1)}},[v,y,b,e,t,o,n,E,w]),z=m.useCallback(async()=>(console.log(`[${e}] Manual refresh requested`),await T(!0)),[T,e]),L=m.useCallback(async()=>{try{return await b("/health"),!0}catch(j){return console.error(`[${e}] Connection test failed:`,j),!1}},[b,e]);m.useEffect(()=>{if(v&&y){console.log(`[${e}] Auth state changed - fetching data`);const j=setTimeout(()=>{T()},100);return()=>clearTimeout(j)}else console.log(`[${e}] Not authenticated - clearing data`),r(null),l(null)},[v,y,e,T]),m.useEffect(()=>(u.current=!0,()=>{console.log(`[${e}] Hook unmounting - cleaning up`),u.current=!1,h.current&&h.current.abort(),p.current&&clearTimeout(p.current)}),[e]);const N=t&&!t.isEmpty,R=(t==null?void 0:t.dataQuality)||"Unknown";return m.useEffect(()=>{const j={dataType:e,hasData:N,isLoading:n,error:i==null?void 0:i.message,dataQuality:R,lastFetch:o?new Date(o).toLocaleTimeString():null,authenticated:v,hasToken:!!y,dataKeys:t?Object.keys(t):null,isEmpty:t==null?void 0:t.isEmpty};console.log(`[${e}] Hook state:`,j)},[e,N,n,i==null?void 0:i.message,R,o,v,y,t==null?void 0:t.isEmpty]),{data:t,isLoading:n,error:i,hasData:N,dataQuality:R,lastFetch:o,fetchData:T,refreshData:z,testConnection:L}},Wp=()=>{const{data:e,isLoading:t,error:r,refreshData:n,hasData:a}=va("analytics"),{isAuthenticated:i}=pe(),{addNotification:l}=De(),[o,c]=m.useState(null),u=m.useCallback(async()=>{try{await n(),c(new Date().toLocaleTimeString()),l("Analytics data refreshed successfully","success")}catch{l("Failed to refresh analytics data","error")}},[n,l]),p=m.useCallback(()=>{if(!e||e.isEmpty)return{totalPredictions:0,avgRiskScore:0,healthScore:0,dataQuality:"No Data",riskDistribution:[],trendAnalysis:[],factorContribution:[],peerComparison:{},summaryInsights:{}};try{const E=e.key_metrics||{},_=E.total_predictions||e.totalPredictions||0,A=E.average_risk_score||0,D=E.health_score||Math.max(0,100-A*100),w=E.data_quality||e.dataQuality||"Unknown",T=Array.isArray(E.risk_distribution)?E.risk_distribution:Array.isArray(e.riskDistribution)?e.riskDistribution:[],z=Array.isArray(e.risk_trend_analysis)?e.risk_trend_analysis:Array.isArray(e.monthlyTrends)?e.monthlyTrends:[],L=Array.isArray(e.factor_contribution)?e.factor_contribution:Array.isArray(e.topRiskFactors)?e.topRiskFactors:[];return{totalPredictions:_,avgRiskScore:A,healthScore:D,dataQuality:w,riskDistribution:T,trendAnalysis:z,factorContribution:L,peerComparison:e.peer_comparison||{},summaryInsights:e.summary_insights||{}}}catch(E){return console.error("Error extracting analytics data:",E),{totalPredictions:0,avgRiskScore:0,healthScore:0,dataQuality:"Error",riskDistribution:[],trendAnalysis:[],factorContribution:[],peerComparison:{},summaryInsights:{}}}},[e])(),f=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center p-8 bg-blue-50 rounded-xl border border-blue-200 max-w-md",children:[s.jsx(Wt,{className:"h-16 w-16 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-blue-800 mb-2",children:"Authentication Required"}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Please sign in to access comprehensive financial analytics and market insights."})]})}),v=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),s.jsx(Me,{className:"absolute inset-0 m-auto h-6 w-6 text-indigo-600 animate-pulse"})]}),s.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Loading Analytics Dashboard"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Processing market data and prediction insights..."})]})}),y=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center p-8 bg-red-50 rounded-xl border border-red-200 max-w-md",children:[s.jsx(Qe,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Analytics Unavailable"}),s.jsx("p",{className:"text-red-700 text-sm mb-4",children:typeof r=="string"?r:(r==null?void 0:r.message)||"Failed to load analytics"}),s.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",disabled:t,children:"Try Again"})]})}),C=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-gray-200 max-w-md",children:[s.jsx(Fn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Analytics Data"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Start making predictions to generate analytics insights and visualizations."}),s.jsx("button",{onClick:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",disabled:t,children:"Check for Data"})]})}),M=({data:E,title:_="Risk Distribution"})=>{const A=Array.isArray(E)?E.map(w=>({name:typeof w=="object"&&w.name?String(w.name):"Unknown",value:typeof w=="object"&&typeof w.value=="number"?w.value:0,percentage:typeof w=="object"&&typeof w.percentage=="number"?w.percentage:0})):[],D=A.reduce((w,T)=>w+T.value,0);return D===0?s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border min-h-[400px]",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Cs,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:_})]}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Cs,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No risk distribution data available"})]})})]}):s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border min-h-[400px]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:_})]}),s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Total: ",D]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative mx-auto w-48 h-48",children:[s.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),A.map((w,T)=>{const z=["#10b981","#f59e0b","#ef4444"],L=A.slice(0,T).reduce((F,I)=>F+(I.percentage||0),0)*3.6,N=L+(w.percentage||0)*3.6,R=(w.percentage||0)>50?1:0,j=50+40*Math.cos((L-90)*Math.PI/180),S=50+40*Math.sin((L-90)*Math.PI/180),k=50+40*Math.cos((N-90)*Math.PI/180),P=50+40*Math.sin((N-90)*Math.PI/180);return w.percentage>0?s.jsx("path",{d:`M 50 50 L ${j} ${S} A 40 40 0 ${R} 1 ${k} ${P} Z`,fill:z[T]||"#6b7280",stroke:"#ffffff",strokeWidth:"1"},T):null})]}),s.jsx("div",{className:"absolute inset-12 rounded-full bg-white shadow-inner flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-800",children:D}),s.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})})]})}),s.jsx("div",{className:"space-y-4",children:A.map((w,T)=>{const z=[{bg:"bg-green-500",text:"text-green-800",bgLight:"bg-green-50",border:"border-green-200"},{bg:"bg-yellow-500",text:"text-yellow-800",bgLight:"bg-yellow-50",border:"border-yellow-200"},{bg:"bg-red-500",text:"text-red-800",bgLight:"bg-red-50",border:"border-red-200"}],L=z[T]||z[0];return s.jsxs("div",{className:`p-4 rounded-lg border ${L.bgLight} ${L.border}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${L.bg} mr-3`}),s.jsx("span",{className:`text-sm font-semibold ${L.text}`,children:w.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`text-lg font-bold ${L.text}`,children:w.value}),s.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",w.percentage.toFixed(1),"%)"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full ${L.bg} transition-all duration-1000 ease-out`,style:{width:`${w.percentage}%`}})})]},T)})})]})},g=({data:E,title:_="Risk Trends"})=>{const A=Array.isArray(E)?E.map(w=>({period:typeof w=="object"&&w.period?String(w.period):"Unknown",value:typeof w=="object"&&typeof w.health_score=="number"?w.health_score:typeof w=="object"&&typeof w.risk_score=="number"?w.risk_score:typeof w=="object"&&typeof w.value=="number"?w.value:0,predictionCount:typeof w=="object"&&typeof w.prediction_count=="number"?w.prediction_count:0})):[],D=Math.max(...A.map(w=>Math.abs(w.value)),1);return A.length===0?s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border min-h-[400px]",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Za,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:_})]}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Za,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No trend data available"})]})})]}):s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border min-h-[400px]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Za,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:_})]}),s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[A.length," periods"]})]}),s.jsx("div",{className:"relative h-48 mb-6 bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"absolute inset-4",children:[s.jsxs("div",{className:"absolute inset-0",children:[[...Array(5)].map((w,T)=>s.jsx("div",{className:"absolute border-t border-gray-200",style:{top:`${T*25}%`,left:0,right:0}},`h-${T}`)),[...Array(A.length+1)].map((w,T)=>s.jsx("div",{className:"absolute border-l border-gray-200 h-full",style:{left:`${T/Math.max(A.length,1)*100}%`}},`v-${T}`))]}),s.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[A.length>1&&s.jsx("polyline",{fill:"none",stroke:"url(#gradient)",strokeWidth:"3",points:A.map((w,T)=>{const z=T/Math.max(A.length-1,1)*100,L=D>0?100-Math.abs(w.value)/D*100:50;return`${z},${L}`}).join(" ")}),A.map((w,T)=>{const z=T/Math.max(A.length-1,1)*100,L=D>0?100-Math.abs(w.value)/D*100:50,N=w.value>=0;return s.jsx("circle",{cx:`${z}%`,cy:`${L}%`,r:"4",fill:N?"#10b981":"#ef4444",stroke:"white",strokeWidth:"2",className:"hover:r-6 transition-all cursor-pointer"},T)}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),s.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]})]})}),s.jsx("div",{className:"space-y-3 max-h-32 overflow-y-auto",children:A.slice(0,6).map((w,T)=>{const z=w.value>=0;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${z?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.period})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`text-sm font-bold ${z?"text-green-600":"text-red-600"}`,children:w.value.toFixed(1)}),w.predictionCount>0&&s.jsxs("span",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded",children:[w.predictionCount," predictions"]})]})]},T)})})]})},d=({data:E,title:_="Top Risk Factors"})=>{const A=Array.isArray(E)?E.map(w=>({factor:typeof w=="object"&&w.factor?String(w.factor):typeof w=="object"&&w.name?String(w.name):"Unknown Factor",impact:typeof w=="object"&&typeof w.average_impact=="number"?w.average_impact:typeof w=="object"&&typeof w.impact=="number"?w.impact:typeof w=="object"&&typeof w.contribution_percentage=="number"?w.contribution_percentage/100:0,impactLevel:typeof w=="object"&&w.impact_level?String(w.impact_level):"Medium",explanation:typeof w=="object"&&w.explanation?String(w.explanation):typeof w=="object"&&w.description?String(w.description):"Factor analysis"})):[],D=Math.max(...A.map(w=>w.impact),.01);return A.length===0?s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border min-h-[400px]",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Ya,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:_})]}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Ya,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No factor analysis data available"})]})})]}):s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border min-h-[400px]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ya,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:_})]}),s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Top ",A.length]})]}),s.jsx("div",{className:"space-y-4",children:A.slice(0,8).map((w,T)=>{const z=D>0?w.impact/D*100:0,L={High:{bg:"bg-red-500",text:"text-red-600",bgLight:"bg-red-100",border:"border-red-200",gradient:"from-red-400 to-red-600"},Medium:{bg:"bg-yellow-500",text:"text-yellow-600",bgLight:"bg-yellow-100",border:"border-yellow-200",gradient:"from-yellow-400 to-yellow-600"},Low:{bg:"bg-green-500",text:"text-green-600",bgLight:"bg-green-100",border:"border-green-200",gradient:"from-green-400 to-green-600"}},N=L[w.impactLevel]||L.Medium;return s.jsxs("div",{className:"group hover:shadow-md transition-all duration-200 border border-gray-200 rounded-lg p-4 bg-gradient-to-r from-gray-50 to-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-indigo-600 rounded-full text-white font-bold text-sm mr-3 group-hover:scale-110 transition-transform",children:T+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:w.factor}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:w.explanation})]})]}),s.jsxs("div",{className:"text-right ml-4 flex flex-col items-end",children:[s.jsxs("div",{className:"text-xl font-bold text-indigo-600 mb-1",children:[(w.impact*100).toFixed(1),"%"]}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${N.text} ${N.bgLight} ${N.border}`,children:w.impactLevel})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${N.gradient} transition-all duration-1000 ease-out shadow-sm`,style:{width:`${Math.min(100,Math.max(5,z))}%`,animationDelay:`${T*100}ms`}})}),s.jsxs("div",{className:"absolute right-0 top-0 mt-4 text-xs text-gray-400",children:[z.toFixed(0),"% of max"]})]})]},T)})})]})},x=({insights:E})=>{if(!E||typeof E!="object")return null;const _=typeof E.trend_direction=="string"?E.trend_direction:"stable",A=typeof E.risk_stability=="string"?E.risk_stability:"stable";return s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-xl border border-indigo-200",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(pt,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-indigo-900",children:"Key Insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Risk Trend:"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${_==="increasing"?"bg-red-500":_==="decreasing"?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:`text-sm font-bold capitalize ${_==="increasing"?"text-red-600":_==="decreasing"?"text-green-600":"text-yellow-600"}`,children:_})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Risk Stability:"}),s.jsx("span",{className:`text-sm font-bold capitalize ${A==="volatile"?"text-red-600":A==="moderate"?"text-yellow-600":"text-green-600"}`,children:A})]})})]})]})},b=()=>!a||p.totalPredictions===0?C():s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-blue-100 mb-1",children:"Total Predictions"}),s.jsx("p",{className:"text-3xl font-bold",children:p.totalPredictions}),s.jsx("p",{className:"text-xs text-blue-200 mt-1",children:"Analytics available"})]}),s.jsx("div",{className:"bg-blue-400 bg-opacity-30 p-3 rounded-lg",children:s.jsx(bt,{className:"h-8 w-8"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-green-100 mb-1",children:"Health Score"}),s.jsx("p",{className:"text-3xl font-bold",children:p.healthScore.toFixed(0)}),s.jsx("p",{className:"text-xs text-green-200 mt-1",children:"out of 100"})]}),s.jsx("div",{className:"bg-green-400 bg-opacity-30 p-3 rounded-lg",children:s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:""})})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-orange-100 mb-1",children:"Risk Score"}),s.jsxs("p",{className:"text-3xl font-bold",children:[(p.avgRiskScore*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-orange-200 mt-1",children:"Average risk"})]}),s.jsx("div",{className:"bg-orange-400 bg-opacity-30 p-3 rounded-lg",children:s.jsx(Qe,{className:"h-8 w-8"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-purple-100 mb-1",children:"Data Quality"}),s.jsx("p",{className:"text-2xl font-bold",children:p.dataQuality}),s.jsx("p",{className:"text-xs text-purple-200 mt-1",children:"Analysis grade"})]}),s.jsx("div",{className:"bg-purple-400 bg-opacity-30 p-3 rounded-lg",children:s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:""})})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx(M,{data:p.riskDistribution,title:"Risk Distribution Analysis"}),s.jsx(g,{data:p.trendAnalysis,title:"Performance Trends"})]}),s.jsx(d,{data:p.factorContribution,title:"Top Risk Factors Analysis"}),s.jsx(x,{insights:p.summaryInsights}),p.peerComparison&&Object.keys(p.peerComparison).length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Me,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Peer Comparison"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.peerComparison.overall&&s.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Overall Performance"}),s.jsxs("div",{className:"text-3xl font-bold text-blue-800 mb-2",children:[typeof p.peerComparison.overall.percentile=="number"?p.peerComparison.overall.percentile:50,"%"]}),s.jsxs("p",{className:"text-sm text-blue-700",children:["You perform ",s.jsx("strong",{className:"text-blue-900",children:typeof p.peerComparison.overall.comparison=="string"?p.peerComparison.overall.comparison:"average"})," than this percentile of peers"]})]})})]})]});return s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center",children:[s.jsx(Fn,{className:"h-8 w-8 mr-3"}),"Financial Analytics Dashboard"]}),s.jsx("p",{className:"text-indigo-100 mt-2",children:"Advanced insights and comprehensive data visualization for strategic decisions"})]}),i&&s.jsxs("button",{onClick:u,className:"px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-xl transition-all flex items-center space-x-2 text-sm font-medium hover:scale-105 transform",disabled:t,children:[s.jsx(Ht,{className:`h-4 w-4 ${t?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:inline",children:t?"Refreshing...":"Refresh Data"})]})]}),o&&s.jsxs("div",{className:"mt-4 flex items-center text-indigo-200 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Last updated: ",o]})]}),s.jsx("div",{className:"p-8 min-h-[700px] bg-gray-50",children:i?t?v():r?y():b():f()}),a&&!t&&s.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-gray-800 to-gray-900 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),s.jsx("span",{children:"Live Analytics"})]}),s.jsx("span",{children:"ML-Powered"}),s.jsx("span",{children:"Real-time Data"}),s.jsx("span",{children:"Advanced Insights"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("span",{children:["Quality: ",s.jsx("strong",{children:p.dataQuality})]}),s.jsx("div",{className:"px-3 py-1 bg-white/10 rounded-full",children:"FinDistress AI Analytics"})]})]})})]})},Vp=()=>{const{data:e,isLoading:t,error:r,refreshData:n,hasData:a,dataQuality:i}=va("insights"),{isAuthenticated:l}=pe(),{addNotification:o}=De(),[c,u]=m.useState(null),h=m.useCallback(async()=>{try{await n(),u(new Date().toLocaleTimeString()),o("Insights data refreshed successfully","success")}catch{o("Failed to refresh insights data","error")}},[n,o]);m.useEffect(()=>{e&&console.log("[InsightsTab] Current data structure:",e)},[e]);const p=m.useCallback((w,T,z=[])=>{try{const L=T.split(".");let N=w;for(const R of L)if(N&&typeof N=="object"&&R in N)N=N[R];else return z;return Array.isArray(N)?N:z}catch(L){return console.warn(`Failed to extract path ${T}:`,L),z}},[]),f=m.useCallback((w,T,z=0)=>{try{const L=T.split(".");let N=w;for(const R of L)if(N&&typeof N=="object"&&R in N)N=N[R];else return z;return typeof N=="number"?N:z}catch{return z}},[]),v=m.useCallback((w,T,z="")=>{try{const L=T.split(".");let N=w;for(const R of L)if(N&&typeof N=="object"&&R in N)N=N[R];else return z;return typeof N=="string"?N:String(N||z)}catch{return z}},[]),y=m.useCallback((w,T,z=null)=>{try{const L=T.split(".");let N=w;for(const R of L)if(N&&typeof N=="object"&&R in N)N=N[R];else return z;return N&&typeof N=="object"?N:z}catch{return z}},[]),C=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center p-8 bg-blue-50 rounded-xl border border-blue-200 max-w-md",children:[s.jsx(Wt,{className:"h-16 w-16 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-blue-800 mb-2",children:"Authentication Required"}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Please sign in to access personalized AI insights and recommendations."})]})}),M=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),s.jsx(Ye,{className:"absolute inset-0 m-auto h-6 w-6 text-indigo-600 animate-pulse"})]}),s.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Generating AI Insights"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Analyzing your data for personalized recommendations..."})]})}),g=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center p-8 bg-red-50 rounded-xl border border-red-200 max-w-md",children:[s.jsx(Qe,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Insights Unavailable"}),s.jsx("p",{className:"text-red-700 text-sm mb-4",children:typeof r=="string"?r:(r==null?void 0:r.message)||"Failed to load insights"}),s.jsx("button",{onClick:h,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",disabled:t,children:"Try Again"})]})}),d=()=>s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-gray-200 max-w-md",children:[s.jsx(ln,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Insights Available"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Make some predictions to generate personalized AI insights and recommendations."}),s.jsx("button",{onClick:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",disabled:t,children:"Check for Insights"})]})}),x=({recommendations:w})=>{const T=p({recommendations:w},"recommendations",[]);if(!T||T.length===0)return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(bt,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Actionable Recommendations"})]}),s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(ln,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{children:"No recommendations available"})]})]});const z={Critical:"border-red-500 bg-red-50",High:"border-orange-500 bg-orange-50",Medium:"border-yellow-500 bg-yellow-50",Low:"border-green-500 bg-green-50"},L={Critical:s.jsx(Y,{className:"h-5 w-5 text-red-600"}),High:s.jsx(Qe,{className:"h-5 w-5 text-orange-600"}),Medium:s.jsx(zt,{className:"h-5 w-5 text-yellow-600"}),Low:s.jsx(zt,{className:"h-5 w-5 text-green-600"})},N={Critical:"bg-red-100 text-red-800 border border-red-200",High:"bg-orange-100 text-orange-800 border border-orange-200",Medium:"bg-yellow-100 text-yellow-800 border border-yellow-200",Low:"bg-green-100 text-green-800 border border-green-200"};return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(bt,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Actionable Recommendations"}),s.jsx("span",{className:"ml-2 px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:T.length})]}),s.jsx("div",{className:"space-y-4",children:T.map((R,j)=>{const S=v(R,"title",`Recommendation ${j+1}`),k=v(R,"priority","Medium"),P=v(R,"action","Action details not available"),F=v(R,"reason","Reason not specified"),I=v(R,"implementation",""),U=v(R,"expected_impact","");return s.jsxs("div",{className:`border-l-4 p-5 rounded-r-lg transition-all hover:shadow-md ${z[k]||z.Medium}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[L[k]||L.Medium,s.jsx("h4",{className:"font-semibold text-gray-900 ml-2 text-lg",children:S})]}),s.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${N[k]||N.Medium}`,children:[k," Priority"]})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"bg-white/70 p-3 rounded-lg border",children:[s.jsx("p",{className:"font-medium text-gray-800 mb-1",children:"Action Required:"}),s.jsx("p",{className:"text-gray-700",children:P})]}),s.jsxs("div",{className:"bg-white/70 p-3 rounded-lg border",children:[s.jsx("p",{className:"font-medium text-gray-800 mb-1",children:"Why This Matters:"}),s.jsx("p",{className:"text-gray-700",children:F})]}),I&&s.jsxs("div",{className:"bg-white/70 p-3 rounded-lg border",children:[s.jsx("p",{className:"font-medium text-gray-800 mb-1",children:"Implementation Steps:"}),s.jsx("p",{className:"text-gray-700",children:I})]}),U&&s.jsxs("div",{className:"bg-white/70 p-3 rounded-lg border border-green-200",children:[s.jsx("p",{className:"font-medium text-green-800 mb-1",children:"Expected Impact:"}),s.jsx("p",{className:"text-green-700",children:U})]})]})]},j)})})]})},b=({alerts:w})=>{const T=p({alerts:w},"alerts",[]);if(!T||T.length===0)return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Qe,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Risk Alerts"})]}),s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(zt,{className:"h-12 w-12 text-green-400 mx-auto mb-3"}),s.jsx("p",{className:"text-green-600 font-medium",children:"No active risk alerts"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your risk profile is within acceptable ranges"})]})]});const z={Critical:"bg-red-100 border-red-500 text-red-900",High:"bg-orange-100 border-orange-500 text-orange-900",Medium:"bg-yellow-100 border-yellow-500 text-yellow-900",Low:"bg-blue-100 border-blue-500 text-blue-900"},L={Critical:s.jsx(Y,{className:"h-5 w-5 text-red-600"}),High:s.jsx(Qe,{className:"h-5 w-5 text-orange-600"}),Medium:s.jsx(Y,{className:"h-5 w-5 text-yellow-600"}),Low:s.jsx(Y,{className:"h-5 w-5 text-blue-600"})};return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Qe,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Risk Alerts"}),s.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:[T.length," Active"]})]}),s.jsx("div",{className:"space-y-4",children:T.map((N,R)=>{const j=v(N,"title",`Risk Alert ${R+1}`),S=v(N,"severity","Medium"),k=v(N,"message","Alert details not available"),P=v(N,"impact","Impact assessment not available"),F=v(N,"action","No action specified"),I=v(N,"timeline","Timeline not specified");return s.jsxs("div",{className:`border-l-4 p-5 rounded-r-lg transition-all hover:shadow-md ${z[S]||z.Medium}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[L[S]||L.Medium,s.jsx("h4",{className:"font-semibold ml-2 text-lg",children:j})]}),s.jsxs("span",{className:"text-xs font-medium px-3 py-1 rounded-full bg-white/70 border",children:[S," Risk"]})]}),s.jsx("p",{className:"text-sm mb-4 font-medium",children:k}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-white/70 p-3 rounded border",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Impact:"}),s.jsx("p",{children:P})]}),s.jsxs("div",{className:"bg-white/70 p-3 rounded border",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Action Required:"}),s.jsx("p",{children:F})]}),s.jsxs("div",{className:"bg-white/70 p-3 rounded border",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Timeline:"}),s.jsx("p",{className:"font-medium text-red-600",children:I})]})]})]},R)})})]})},E=({marketContext:w})=>{const T=p({marketContext:w},"marketContext",[]);if(!T||T.length===0)return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Me,{className:"h-6 w-6 text-purple-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Market Context"})]}),s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(Me,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{children:"No market context data available"})]})]});const z={High:"bg-red-100 text-red-800 border-red-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Low:"bg-green-100 text-green-800 border-green-200"};return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Me,{className:"h-6 w-6 text-purple-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Market Context"}),s.jsxs("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:[T.length," Trends"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map((L,N)=>{const R=v(L,"trend",`Market Trend ${N+1}`),j=v(L,"impact","Medium"),S=v(L,"description","Description not available"),k=v(L,"recommendation","No recommendation available"),P=v(L,"source","Source not specified");return s.jsxs("div",{className:"p-5 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200 hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:R}),s.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${z[j]||z.Medium}`,children:[j," Impact"]})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-4 leading-relaxed",children:S}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:" Recommendation:"}),s.jsx("p",{className:"text-gray-700",children:k})]}),s.jsx("div",{className:"bg-white p-2 rounded border",children:s.jsxs("p",{className:"font-medium text-gray-600",children:[s.jsx("span",{className:"text-gray-500",children:"Source:"})," ",P]})})]})]},N)})})]})},_=({factors:w})=>{const T=p({factors:w},"factors",[]);if(!T||T.length===0)return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(pt,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Key Risk Factors Analysis"})]}),s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{children:"No risk factors analysis available"})]})]});const z={High:"bg-red-100 text-red-800 border-red-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Low:"bg-green-100 text-green-800 border-green-200"};return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(pt,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Key Risk Factors Analysis"}),s.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:["Top ",T.length]})]}),s.jsx("div",{className:"space-y-4",children:T.map((L,N)=>{const R=v(L,"factor",`Factor ${N+1}`),j=f(L,"impact",0),S=v(L,"level","Medium"),k=v(L,"explanation","Factor analysis not available"),P=f(L,"frequency",0);return s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-5 rounded-lg border border-gray-200 hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm mr-3",children:N+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:R}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:k})]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("div",{className:"text-xl font-bold text-blue-600 mb-1",children:[(j*100).toFixed(1),"%"]}),s.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${z[S]||z.Medium}`,children:[S," Impact"]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:"Impact Level"}),s.jsxs("span",{children:["Frequency: ",P||"N/A"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${S==="High"?"bg-red-500":S==="Medium"?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,Math.max(10,j*100))}%`}})})]})]},N)})})]})},A=({summary:w})=>{const T=y({summary:w},"summary",null);if(!T)return null;const z={Critical:"bg-red-100 text-red-800 border-red-200",High:"bg-orange-100 text-orange-800 border-orange-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Low:"bg-green-100 text-green-800 border-green-200",None:"bg-gray-100 text-gray-800 border-gray-200",Error:"bg-red-100 text-red-800 border-red-200"},L=f(T,"total_insights",0),N=f(T,"critical_risks",0),R=f(T,"recommendations",0),j=v(T,"alert_level","None"),S=v(T,"overall_risk_trend",""),k=f(T,"health_score",0);return s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl shadow-lg border border-blue-200 p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Ye,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-blue-900",children:"AI Insights Summary"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-900 mb-1",children:L}),s.jsx("div",{className:"text-sm text-blue-700",children:"Total Insights"})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"text-3xl font-bold text-red-900 mb-1",children:N}),s.jsx("div",{className:"text-sm text-red-700",children:"Critical Risks"})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"text-3xl font-bold text-green-900 mb-1",children:R}),s.jsx("div",{className:"text-sm text-green-700",children:"Recommendations"})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:`text-xl font-bold px-3 py-2 rounded-lg border ${z[j]||z.None}`,children:j}),s.jsx("div",{className:"text-sm text-gray-700 mt-1",children:"Alert Level"})]})]}),(S||k>0)&&s.jsx("div",{className:"mt-6 p-4 bg-white rounded-lg border",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Risk Trend:"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Me,{className:`h-4 w-4 mr-1 ${S==="increasing"?"text-red-600":S==="decreasing"?"text-green-600":"text-gray-600"}`}),s.jsx("span",{className:`text-sm font-medium capitalize ${S==="increasing"?"text-red-600":S==="decreasing"?"text-green-600":"text-gray-600"}`,children:S})]})]}),k>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Health Score:"}),s.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[k,"/100"]})]})]})})]})},D=()=>{if(!e||e.isEmpty)return d();console.log("[InsightsTab] Rendering with data:",e);const w=p(e,"actionable_recommendations",p(e,"recommendations",[])),T=p(e,"risk_alerts",[]),z=p(e,"market_context",p(e,"marketTrends",[])),L=p(e,"key_factors_analysis",[]),N=y(e,"insight_summary",null),R=p(e,"keyInsights",[]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(A,{summary:N}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(x,{recommendations:w}),s.jsx(b,{alerts:T}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsx(E,{marketContext:z}),s.jsx(_,{factors:L})]})]}),R&&R.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl shadow-lg border border-indigo-200 p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ln,{className:"h-6 w-6 text-indigo-600 mr-2"}),s.jsx("h3",{className:"text-xl font-semibold text-indigo-900",children:"Key Insights"})]}),s.jsx("div",{className:"space-y-3",children:R.map((j,S)=>{const k=typeof j=="string"?j:v(j,"text","Insight not available");return s.jsx("div",{className:"bg-white p-4 rounded-lg border border-indigo-200 shadow-sm",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-xs mr-3 mt-0.5 flex-shrink-0",children:S+1}),s.jsx("p",{className:"text-sm text-indigo-900 leading-relaxed",children:k})]})},S)})})]})]})};return s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center",children:[s.jsx(ln,{className:"h-8 w-8 mr-3"}),"AI Insights"]}),s.jsx("p",{className:"text-purple-100 mt-2",children:"Personalized recommendations and market intelligence powered by advanced AI"})]}),l&&s.jsxs("button",{onClick:h,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-xl transition-colors flex items-center space-x-2 text-sm font-medium",disabled:t,children:[s.jsx(Ht,{className:`h-4 w-4 ${t?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:inline",children:t?"Refreshing...":"Refresh"})]})]}),c&&s.jsxs("div",{className:"mt-3 flex items-center text-purple-200 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Last updated: ",c]})]}),s.jsx("div",{className:"p-8 min-h-[600px]",children:l?t?M():r?g():D():C()}),a&&!t&&s.jsx("div",{className:"px-8 py-4 bg-gradient-to-r from-purple-50 to-pink-50 border-t border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-purple-800",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{children:"AI-Powered Analysis"}),s.jsx("span",{children:"Data-Driven Insights"}),s.jsx("span",{children:"Real-time Recommendations"}),s.jsx("span",{children:"Actionable Guidance"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{children:["Quality: ",i||"Good"]}),s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})})]})},Gp=()=>s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-400/20 rounded-full opacity-30 animate-pulse",style:{animationDuration:"8s"}}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-blue-400/20 to-cyan-400/20 rounded-full opacity-30 animate-pulse",style:{animationDuration:"10s",animationDelay:"2s"}}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-indigo-300/30 to-purple-300/30 rounded-full opacity-40 animate-bounce",style:{animationDuration:"6s",animationDelay:"0s"}}),s.jsx("div",{className:"absolute top-3/4 right-1/4 w-24 h-24 bg-gradient-to-r from-green-300/30 to-blue-300/30 rounded-full opacity-40 animate-bounce",style:{animationDuration:"7s",animationDelay:"2s"}}),s.jsx("div",{className:"absolute top-1/2 left-3/4 w-20 h-20 bg-gradient-to-r from-yellow-300/30 to-orange-300/30 rounded-full opacity-40 animate-bounce",style:{animationDuration:"8s",animationDelay:"4s"}}),s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"w-full h-full",style:{backgroundImage:`
                        radial-gradient(circle at 1px 1px, rgba(79, 70, 229, 0.3) 1px, transparent 0),
                        linear-gradient(rgba(79, 70, 229, 0.1) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(79, 70, 229, 0.1) 1px, transparent 1px)
                    `,backgroundSize:"50px 50px, 50px 50px, 50px 50px"}})}),s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-indigo-500/10 to-transparent rounded-br-full"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-purple-500/10 to-transparent rounded-tl-full"})]}),Kp=({showAuthModal:e,setShowAuthModal:t,authError:r,onSuccess:n})=>{const[a,i]=m.useState("login"),[l,o]=m.useState({username:"",email:"",password:"",confirmPassword:""}),[c,u]=m.useState(!1),[h,p]=m.useState(!1),[f,v]=m.useState({}),[y,C]=m.useState(!1),{signIn:M,signUp:g,loading:d,error:x,clearError:b,sessionExpired:E,clearSessionExpired:_}=pe(),{addNotification:A}=De(),D=m.useCallback(()=>{o({username:"",email:"",password:"",confirmPassword:""}),v({}),u(!1),p(!1),C(!1)},[]),w=m.useCallback(()=>{d||y||(t(!1),D(),b(),_())},[t,D,d,y,b,_]),T=m.useCallback((k,P)=>{o(F=>({...F,[k]:P})),f[k]&&v(F=>{const I={...F};return delete I[k],I}),x&&b()},[f,x,b]),z=m.useCallback(()=>{const k={},{username:P,email:F,password:I,confirmPassword:U}=l;return P.trim()?P.length<3?k.username="Username must be at least 3 characters":/^[a-zA-Z0-9_-]+$/.test(P)||(k.username="Username can only contain letters, numbers, hyphens, and underscores"):k.username="Username is required",a==="register"&&(F.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F)||(k.email="Please enter a valid email address"):k.email="Email address is required"),I?I.length<6?k.password="Password must be at least 6 characters":a==="register"&&(/(?=.*[a-z])(?=.*[A-Z])/.test(I)||(k.password="Password should contain both uppercase and lowercase letters")):k.password="Password is required",a==="register"&&(U?I!==U&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your password"),k},[l,a]),L=m.useCallback(()=>{if(f.submit)return f.submit;if(r||x){const k=r||x;return k.includes("Invalid username or password")?"Invalid username or password. Please check your credentials and try again.":k.includes("expired")||k.includes("inactive")||E?"Your session has expired. Please sign in again.":k.includes("Registration failed")?"Registration failed. This username or email may already be taken.":k.includes("username")?"Username already exists. Please choose a different username.":k.includes("email")?"Email already registered. Please use a different email or try signing in.":k.includes("Server error")||k.includes("500")?"Server error. Please try again later.":k}return""},[f.submit,r,x,E]),N=m.useCallback(k=>{k.includes("Invalid username or password")?A("Invalid username or password. Please check your credentials and try again.","error",{title:"Sign In Failed",duration:6e3}):k.includes("username")?A("Username already exists. Please choose a different username.","error",{title:"Registration Failed",duration:5e3}):k.includes("email")?A("Email already registered. Please use a different email or try signing in.","error",{title:"Registration Failed",duration:5e3}):k.includes("Server error")||k.includes("500")?A("Server error occurred. Please try again later.","error",{title:"Server Error",duration:5e3}):k.includes("Network error")||k.includes("connection")?A("Network error. Please check your internet connection and try again.","error",{title:"Connection Error",duration:6e3}):A(k,"error",{title:a==="login"?"Sign In Failed":"Registration Failed",duration:5e3})},[A,a]),R=m.useCallback(async k=>{if(k.preventDefault(),d||y)return;const P=z();if(Object.keys(P).length>0){v(P),A("Please correct the errors in the form","warning",{title:"Form Error",duration:4e3});return}C(!0),v({}),b(),_();try{const{username:F,email:I,password:U}=l;let O;a==="login"?O=await M(F.trim(),U):O=await g(F.trim(),I.trim(),U,F.trim()),O.success?(A(`Successfully ${a==="login"?"signed in":"registered"}! Welcome to FinDistress AI.`,"success",{title:a==="login"?"Welcome Back!":"Account Created!",duration:4e3}),D(),n?n():w()):(O.error&&N(O.error),console.error("Authentication failed:",O.error))}catch(F){console.error("Authentication error:",F);const I="An unexpected error occurred. Please try again.";v({submit:I}),A(I,"error",{title:"Unexpected Error",duration:5e3})}finally{C(!1)}},[l,a,z,M,g,d,y,A,w,n,D,b,_,N]),j=m.useCallback(()=>{i(k=>k==="login"?"register":"login"),D(),b(),_()},[D,b,_]);if(m.useEffect(()=>{const k=P=>{P.key==="Escape"&&e&&w()};return e&&(document.addEventListener("keydown",k),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",k),document.body.style.overflow="unset"}},[e,w]),m.useEffect(()=>{e&&(v({}),b(),_())},[e,a,b,_]),!e)return null;const S=L();return s.jsx("div",{className:"fixed inset-0 bg-gray-900/75 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:w,children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl p-8 w-full max-w-md border border-gray-200/50 relative transform transition-all duration-300 scale-100",onClick:k=>k.stopPropagation(),children:[s.jsx("button",{onClick:w,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",disabled:d||y,"aria-label":"Close authentication modal",children:s.jsx(Js,{className:"h-6 w-6"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mb-4",children:s.jsx($r,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:a==="login"?"Welcome Back":"Join FinDistress AI"}),s.jsx("p",{className:"text-gray-600",children:a==="login"?"Sign in to access your prediction history and insights":"Create your account to save predictions and track financial health"})]}),S&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Y,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-800 font-medium",children:S})]})}),E&&s.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Y,{className:"h-5 w-5 text-yellow-400 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:"Session Expired"}),s.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Please sign in again to continue using FinDistress AI."})]})]})}),s.jsxs("form",{onSubmit:R,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"auth-username",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Username ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx($r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",id:"auth-username",value:l.username,onChange:k=>T("username",k.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-xl bg-white/80 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${f.username?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username",disabled:d||y,autoComplete:"username"})]}),f.username&&s.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),f.username]})]}),a==="register"&&s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"auth-email",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",id:"auth-email",value:l.email,onChange:k=>T("email",k.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-xl bg-white/80 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${f.email?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}`,placeholder:"your.email@company.com",disabled:d||y,autoComplete:"email"})]}),f.email&&s.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),f.email]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"auth-password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:c?"text":"password",id:"auth-password",value:l.password,onChange:k=>T("password",k.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-xl bg-white/80 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${f.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}`,placeholder:"Minimum 6 characters",disabled:d||y,autoComplete:a==="login"?"current-password":"new-password",minLength:"6"}),s.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",disabled:d||y,"aria-label":c?"Hide password":"Show password",children:c?s.jsx(xn,{className:"h-5 w-5"}):s.jsx(Pr,{className:"h-5 w-5"})})]}),f.password&&s.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),f.password]})]}),a==="register"&&s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"auth-confirm-password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:h?"text":"password",id:"auth-confirm-password",value:l.confirmPassword,onChange:k=>T("confirmPassword",k.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-xl bg-white/80 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${f.confirmPassword?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}`,placeholder:"Re-enter your password",disabled:d||y,autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",disabled:d||y,"aria-label":h?"Hide password confirmation":"Show password confirmation",children:h?s.jsx(xn,{className:"h-5 w-5"}):s.jsx(Pr,{className:"h-5 w-5"})})]}),f.confirmPassword&&s.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),f.confirmPassword]})]}),s.jsxs("button",{type:"submit",disabled:d||y,className:`w-full flex items-center justify-center space-x-2 px-6 py-3 text-white font-semibold rounded-xl shadow-md transition duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ${d||y?"bg-indigo-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:ring-indigo-500 transform hover:scale-105"}`,children:[(d||y)&&s.jsx(Ss,{className:"animate-spin h-5 w-5"}),s.jsx("span",{children:d||y?"Processing...":a==="login"?"Sign In":"Create Account"})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[a==="login"?"Don't have an account?":"Already have an account?"," ",s.jsx("button",{onClick:j,className:"font-semibold text-indigo-600 hover:text-indigo-800 transition-colors focus:outline-none focus:underline",disabled:d||y,children:a==="login"?"Create Account":"Sign In"})]})}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(zt,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Demo Ready"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Use any username and secure password (min 6 characters) to test the application. Your data will be securely stored and can be accessed later."})]})]})})]})})},qp=({onGetStarted:e})=>{const t=[{icon:Ye,title:"AI-Powered Analysis",description:"Advanced machine learning algorithms analyze 21+ financial indicators to predict business distress with 95%+ accuracy.",color:"bg-blue-500"},{icon:Me,title:"Real-Time Insights",description:"Get instant risk assessments and actionable recommendations to improve your business financial health.",color:"bg-green-500"},{icon:Wt,title:"SHAP Explanations",description:"Transparent AI with detailed explanations of how each factor contributes to your risk assessment.",color:"bg-purple-500"},{icon:pt,title:"Instant Results",description:"Receive comprehensive financial health reports in seconds, not days or weeks.",color:"bg-yellow-500"},{icon:Xs,title:"Multi-Region Support",description:"Specialized models for African (AFR) and Rest of World (ROW) markets with region-specific insights.",color:"bg-indigo-500"},{icon:Nr,title:"Professional Grade",description:"Trusted by investors, analysts, and business professionals for critical financial decisions.",color:"bg-red-500"}],r=[{value:"12,847+",label:"Predictions Made"},{value:"91.0%",label:"Accuracy Rate"},{value:"260,000+",label:"Companies Analyzed"},{value:"21",label:"Risk Factors"}],n=[{name:"Carnegie Mellon University",shortName:"CMU",location:"Pittsburgh, PA, USA",description:"Global leader in Computer Science & AI research with cutting-edge machine learning programs.",icon:yp,highlight:"AI Research Excellence",contribution:"Advanced ML algorithms and model architecture",color:"from-blue-500 to-indigo-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",iconBg:"bg-gradient-to-br from-blue-500 to-indigo-600"},{name:"Carnegie Mellon Africa",shortName:"CMU Africa",location:"Kigali, Rwanda",description:"Technology innovation hub bridging world-class education with African market insights.",icon:Ar,highlight:"African Tech Hub",contribution:"Regional market expertise and data collection",color:"from-emerald-500 to-teal-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",iconBg:"bg-gradient-to-br from-emerald-500 to-teal-600"},{name:"University of the Witwatersrand",shortName:"Wits University",location:"Johannesburg, South Africa",description:"Leading African research institution with deep expertise in financial systems and economics.",icon:Dn,highlight:"Financial Research Leader",contribution:"Financial modeling and African market validation",color:"from-purple-500 to-violet-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",iconBg:"bg-gradient-to-br from-purple-500 to-violet-600"}],a=["Financial Distress Prediction","SHAP Explainability Analysis","Multi-Section Input Forms","Historical Analytics Dashboard","Real-time Risk Assessments"],i=["LightGBM Model Architecture","Multi-Regional Training Data","Academic Research Publications","Open Source Model Access","Financial Analytics Documentation"];return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(Ye,{className:"w-7 h-7 text-white"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx(kp,{className:"w-2.5 h-2.5 text-yellow-900"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"FinDistress AI"}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Financial Risk Prediction Platform"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Research Active"]})]}),s.jsxs("div",{className:"text-center mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-100 text-indigo-800 px-6 py-3 rounded-full text-sm font-semibold mb-8 shadow-sm",children:[s.jsx(Ye,{className:"w-4 h-4"}),"AI-Powered Financial Analysis",s.jsx("div",{className:"ml-2 px-2 py-0.5 bg-indigo-200 text-indigo-900 rounded text-xs font-bold",children:"BETA"})]}),s.jsxs("h2",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-8 leading-tight",children:["Predict Financial",s.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:[" ","Distress"]}),s.jsx("br",{}),s.jsx("span",{className:"text-4xl md:text-5xl text-gray-700",children:"Before It Happens"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-10 max-w-4xl mx-auto leading-relaxed",children:"Leverage advanced machine learning from leading universities to assess business financial health, identify risk factors, and get actionable insights to safeguard your investments and operations."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-16",children:[s.jsx("button",{onClick:e,className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-10 py-5 rounded-2xl font-bold text-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 shadow-xl",children:"Start Free Analysis"}),s.jsxs("button",{onClick:()=>{var l;(l=document.getElementById("features"))==null||l.scrollIntoView({behavior:"smooth"})},className:"text-indigo-600 font-semibold text-xl hover:text-indigo-700 transition-colors flex items-center gap-3 group",children:["Explore Features",s.jsx("div",{className:"p-2 rounded-full bg-indigo-100 group-hover:bg-indigo-200 transition-colors",children:s.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-y-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 bg-gradient-to-r from-white/80 to-gray-50/80 backdrop-blur-sm rounded-3xl p-10 border border-gray-200/50 shadow-lg",children:r.map((l,o)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:l.value}),s.jsx("div",{className:"text-sm text-gray-600 font-semibold uppercase tracking-wide",children:l.label})]},o))})]}),s.jsxs("div",{id:"features",className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Powerful Features for Financial Analysis"}),s.jsx("p",{className:"text-gray-600 text-xl max-w-3xl mx-auto leading-relaxed",children:"Our comprehensive platform provides everything you need to assess and monitor business financial health with cutting-edge AI technology."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((l,o)=>s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-3xl p-10 shadow-xl border border-gray-200/50 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 group cursor-pointer",children:[s.jsx("div",{className:`w-16 h-16 ${l.color} rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:s.jsx(l.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 group-hover:text-indigo-600 transition-colors",children:l.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:l.description})]},o))})]}),s.jsx("div",{className:"mb-20",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 rounded-3xl p-10 md:p-16 relative overflow-hidden border border-slate-200/50 shadow-xl",children:[s.jsxs("div",{className:"absolute inset-0 opacity-[0.03]",children:[s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border-2 border-slate-400 rounded-full"}),s.jsx("div",{className:"absolute bottom-32 right-32 w-24 h-24 border-2 border-slate-400 rounded-full"}),s.jsx("div",{className:"absolute top-1/2 right-20 w-16 h-16 border-2 border-slate-400 rounded-full"}),s.jsx("div",{className:"absolute bottom-20 left-1/3 w-20 h-20 border-2 border-slate-400 rounded-full"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/80 backdrop-blur-sm text-slate-700 px-6 py-3 rounded-full text-sm font-semibold mb-6 shadow-sm border border-slate-200/50",children:[s.jsx(Xs,{className:"w-5 h-5 text-indigo-600"}),"Multi-University Research Initiative",s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse ml-1"})]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-8",children:"Powered by Academic Excellence"}),s.jsx("p",{className:"text-xl text-slate-600 max-w-4xl mx-auto leading-relaxed",children:"A collaborative effort between world-renowned institutions, combining cutting-edge AI research with deep African market expertise to deliver unprecedented financial risk insights."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:n.map((l,o)=>s.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-3xl p-8 border ${l.borderColor}/30 hover:shadow-xl transition-all duration-500 hover:-translate-y-2 group cursor-pointer relative overflow-hidden`,children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:`w-16 h-16 ${l.iconBg} rounded-2xl flex items-center justify-center mb-4 mx-auto transform group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:s.jsx(l.icon,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:`inline-flex items-center gap-2 ${l.bgColor} text-slate-700 px-3 py-1 rounded-full text-xs font-bold mb-4 border ${l.borderColor}/50`,children:[s.jsx(Nr,{className:"w-3 h-3"}),l.highlight]}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:l.shortName}),s.jsxs("div",{className:"flex items-center justify-center gap-1 text-slate-500 text-sm font-medium mb-4",children:[s.jsx(xc,{className:"w-3 h-3"}),l.location]})]}),s.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-6",children:l.description}),s.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[s.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wide mb-2",children:"Research Contribution"}),s.jsx("p",{className:"text-sm text-slate-700 font-medium",children:l.contribution})]}),s.jsx("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${l.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300 pointer-events-none`})]},o))}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-amber-400 via-yellow-400 to-orange-400 text-slate-900 px-8 py-4 rounded-2xl font-bold text-lg shadow-lg mb-8 border border-amber-300",children:[s.jsx(Nr,{className:"w-6 h-6"}),"Proudly Funded by AFRETEC NETWORK"]}),s.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl p-10 max-w-5xl mx-auto border border-slate-200/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(Ar,{className:"w-8 h-8 text-indigo-600"}),s.jsx("h3",{className:"text-3xl font-bold text-slate-900",children:"Our Mission"})]}),s.jsx("p",{className:"text-slate-600 leading-relaxed text-lg",children:"To democratize financial risk assessment through advanced AI, providing businesses, investors, and researchers across Africa and globally with transparent, accurate, and actionable insights into financial health and distress prediction."})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl p-8 border border-blue-200/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Me,{className:"w-6 h-6 text-white"})}),s.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:"Platform Features"})]}),s.jsx("div",{className:"space-y-3",children:a.map((l,o)=>s.jsxs("div",{className:"flex items-center gap-3 text-slate-700 bg-blue-50/50 rounded-lg px-4 py-3 border border-blue-100",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:l})]},o))})]}),s.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl p-8 border border-purple-200/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(ks,{className:"w-6 h-6 text-white"})}),s.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:"Research Resources"})]}),s.jsx("div",{className:"space-y-3",children:i.map((l,o)=>s.jsxs("div",{className:"flex items-center gap-3 text-slate-700 bg-purple-50/50 rounded-lg px-4 py-3 border border-purple-100",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:l})]},o))})]})]})]})]})}),s.jsx("div",{className:"mb-20",children:s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-3xl p-10 shadow-xl border border-gray-200/50",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get In Touch"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Connect with our research team for collaborations and inquiries"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl mb-6 group-hover:scale-110 transition-transform shadow-lg",children:s.jsx(Yl,{className:"w-8 h-8"})}),s.jsx("p",{className:"font-bold text-gray-900 text-lg mb-1",children:"fintech.research@wits.ac.za"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Research Inquiries & Collaboration"})]}),s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 text-white rounded-2xl mb-6 group-hover:scale-110 transition-transform shadow-lg",children:s.jsx(Np,{className:"w-8 h-8"})}),s.jsx("p",{className:"font-bold text-gray-900 text-lg mb-1",children:"+27 11 717 1000"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"University of the Witwatersrand"})]}),s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-2xl mb-6 group-hover:scale-110 transition-transform shadow-lg",children:s.jsx(xc,{className:"w-8 h-8"})}),s.jsx("p",{className:"font-bold text-gray-900 text-lg mb-1",children:"1 Jan Smuts Avenue"}),s.jsx("p",{className:"text-gray-600 font-medium mb-3",children:"Braamfontein, Johannesburg"}),s.jsxs("a",{href:"https://www.wits.ac.za/about-wits/our-faculties-and-schools/maps-and-directions/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-semibold flex items-center gap-2 mx-auto group-hover:gap-3 transition-all",children:["View Campus Map",s.jsx(xp,{className:"w-4 h-4"})]})]})]})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-3xl p-10 md:p-16 text-center text-white mb-20 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Ready to Transform Your Financial Analysis?"}),s.jsx("p",{className:"text-xl md:text-2xl opacity-95 mb-10 max-w-3xl mx-auto leading-relaxed",children:"Join the future of financial risk assessment with university-grade AI technology at your fingertips."}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:s.jsx("button",{onClick:e,className:"bg-white text-indigo-600 px-10 py-5 rounded-2xl font-bold text-xl hover:bg-gray-50 transition-all duration-300 transform hover:scale-105 shadow-2xl",children:"Start Free Analysis"})}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm opacity-90",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"w-4 h-4"}),"No credit card required"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4"}),"Results in seconds"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4"}),"University-grade accuracy"]})]})]})]}),s.jsxs("div",{className:"text-center text-gray-600 border-t border-gray-200 pt-10",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(Ye,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-bold text-gray-900",children:"FinDistress AI"})]})}),s.jsx("p",{className:"mb-6 text-lg",children:" 2024 Multi-University Research Partnership  Funded by AFRETEC NETWORK"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm",children:[s.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors font-medium",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors font-medium",children:"Terms of Service"}),s.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors font-medium",children:"Research Ethics"}),s.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors font-medium",children:"API Access"}),s.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors font-medium",children:"Contact"})]})]})]})},Qp=({activeTab:e,setActiveTab:t,onAuthRequired:r})=>{var o,c;const{isAuthenticated:n}=pe(),{addNotification:a}=De(),i=[{id:"predict",label:"Predict",icon:bt,description:"Generate financial distress predictions",requiresAuth:!1,color:"text-blue-600"},{id:"analytics",label:"Analytics",icon:Fn,description:"View prediction analytics and performance metrics",requiresAuth:!0,color:"text-green-600"},{id:"insights",label:"Insights",icon:Ye,description:"Deep analysis and market insights",requiresAuth:!0,color:"text-purple-600"}],l=m.useCallback(u=>{const h=i.find(p=>p.id===u);if(!h){console.warn(`Tab with id '${u}' not found`);return}if(h.requiresAuth&&!n){a(`Please sign in to access ${h.label}`,"warning"),r&&r(u);return}t(u),console.log(`Switching to ${h.label} tab`),h.requiresAuth&&n&&a(`${h.label} loaded successfully`,"success")},[i,n,t,r,a]);return s.jsxs("nav",{className:"md:hidden mb-6","aria-label":"Main navigation",children:[s.jsx("div",{className:"flex space-x-1 p-1 bg-white/90 backdrop-blur-md rounded-xl border border-gray-200/50 shadow-sm",children:i.map(({id:u,label:h,icon:p,description:f,requiresAuth:v,color:y})=>{const C=e===u,M=v&&!n;return s.jsxs("button",{type:"button",onClick:()=>l(u),className:`
                                relative flex-1 flex items-center justify-center space-x-2 px-3 py-2.5 
                                rounded-lg font-medium transition-all duration-200 group
                                ${C?"bg-indigo-600 text-white shadow-md transform scale-105":M?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-indigo-600"}
                                ${M?"opacity-75":"hover:scale-102"}
                            `,"aria-current":C?"page":void 0,"aria-label":`${h} tab: ${f}`,"aria-disabled":M,title:M?`Sign in required for ${h}`:f,disabled:!1,children:[s.jsx(p,{className:`h-4 w-4 transition-colors duration-200 ${C?"text-white":M?"text-gray-400":y}`,"aria-hidden":"true"}),s.jsx("span",{className:"text-sm font-medium",children:h}),v&&!n&&s.jsx(Rt,{className:"h-3 w-3 absolute -top-1 -right-1 text-yellow-500 animate-pulse"}),C&&s.jsx("div",{className:"absolute -bottom-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),s.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10 pointer-events-none",children:[M?"Sign in required":f,s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 border-2 border-transparent border-b-gray-900"})]})]},u)})}),s.jsx("div",{className:"sr-only",children:s.jsxs("p",{children:["Current tab: ",(o=i.find(u=>u.id===e))==null?void 0:o.label,".",(c=i.find(u=>u.id===e))==null?void 0:c.description]})})]})},Yp=()=>{const{user:e,updateProfile:t}=pe(),{addNotification:r}=De(),[n,a]=m.useState({username:"",email:"",full_name:"",current_password:"",new_password:"",confirm_password:""}),[i,l]=m.useState({profile:!1,password:!1}),[o,c]=m.useState(!1),[u,h]=m.useState({current:!1,new:!1,confirm:!1}),[p,f]=m.useState({});m.useEffect(()=>{e&&a(b=>({...b,username:e.username||"",email:e.email||"",full_name:e.full_name||""}))},[e]);const v=(b,E)=>{a(_=>({..._,[b]:E})),p[b]&&f(_=>({..._,[b]:null}))},y=b=>{h(E=>({...E,[b]:!E[b]}))},C=()=>{const b={};return n.username.trim()?n.username.length<3&&(b.username="Username must be at least 3 characters"):b.username="Username is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(b.email="Please enter a valid email address"):b.email="Email is required",b},M=()=>{const b={};return n.current_password||(b.current_password="Current password is required"),n.new_password?n.new_password.length<6&&(b.new_password="Password must be at least 6 characters"):b.new_password="New password is required",n.confirm_password?n.new_password!==n.confirm_password&&(b.confirm_password="Passwords do not match"):b.confirm_password="Please confirm your new password",b},g=async()=>{const b=C();if(Object.keys(b).length>0){f(b);return}c(!0);try{const E={email:n.email,full_name:n.full_name},_=await t(E);_.success?(r("Profile updated successfully","success"),l(A=>({...A,profile:!1})),f({})):r(_.error||"Failed to update profile","error")}catch(E){console.error("Profile update error:",E),r("An error occurred while updating profile","error")}finally{c(!1)}},d=async()=>{const b=M();if(Object.keys(b).length>0){f(b);return}c(!0);try{const E={current_password:n.current_password,new_password:n.new_password},_=await t(E);_.success?(r("Password updated successfully","success"),l(A=>({...A,password:!1})),a(A=>({...A,current_password:"",new_password:"",confirm_password:""})),f({})):r(_.error||"Failed to update password","error")}catch(E){console.error("Password update error:",E),r("An error occurred while updating password","error")}finally{c(!1)}},x=b=>{l(E=>({...E,[b]:!1})),f({}),b==="profile"&&e?a(E=>({...E,username:e.username||"",email:e.email||"",full_name:e.full_name||""})):b==="password"&&a(E=>({...E,current_password:"",new_password:"",confirm_password:""}))};return e?s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx($r,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account information and security settings"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"}),!i.profile&&s.jsx("button",{onClick:()=>l(b=>({...b,profile:!0})),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Edit Profile"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx($r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:n.username,disabled:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Username cannot be changed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",value:n.email,onChange:b=>v("email",b.target.value),disabled:!i.profile,className:`w-full pl-10 pr-4 py-3 border rounded-lg transition-colors ${i.profile?"border-gray-300 bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200":"border-gray-200 bg-gray-50 text-gray-600"} ${p.email?"border-red-300 bg-red-50":""}`})]}),p.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),p.email]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:n.full_name,onChange:b=>v("full_name",b.target.value),disabled:!i.profile,placeholder:"Enter your full name",className:`w-full px-4 py-3 border rounded-lg transition-colors ${i.profile?"border-gray-300 bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200":"border-gray-200 bg-gray-50 text-gray-600"} ${p.full_name?"border-red-300 bg-red-50":""}`}),p.full_name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),p.full_name]})]})]}),i.profile&&s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsxs("button",{onClick:g,disabled:o,className:"flex items-center space-x-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[o?s.jsx(Ss,{className:"animate-spin h-4 w-4"}):s.jsx(yc,{className:"h-4 w-4"}),s.jsx("span",{children:o?"Saving...":"Save Changes"})]}),s.jsx("button",{onClick:()=>x("profile"),disabled:o,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Security Settings"}),!i.password&&s.jsx("button",{onClick:()=>l(b=>({...b,password:!0})),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Change Password"})]}),i.password?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:u.current?"text":"password",value:n.current_password,onChange:b=>v("current_password",b.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 ${p.current_password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your current password"}),s.jsx("button",{type:"button",onClick:()=>y("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.current?s.jsx(xn,{className:"h-5 w-5"}):s.jsx(Pr,{className:"h-5 w-5"})})]}),p.current_password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),p.current_password]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:u.new?"text":"password",value:n.new_password,onChange:b=>v("new_password",b.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 ${p.new_password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your new password"}),s.jsx("button",{type:"button",onClick:()=>y("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.new?s.jsx(xn,{className:"h-5 w-5"}):s.jsx(Pr,{className:"h-5 w-5"})})]}),p.new_password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),p.new_password]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:u.confirm?"text":"password",value:n.confirm_password,onChange:b=>v("confirm_password",b.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 ${p.confirm_password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Confirm your new password"}),s.jsx("button",{type:"button",onClick:()=>y("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.confirm?s.jsx(xn,{className:"h-5 w-5"}):s.jsx(Pr,{className:"h-5 w-5"})})]}),p.confirm_password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Y,{className:"h-4 w-4 mr-1"}),p.confirm_password]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:d,disabled:o,className:"flex items-center space-x-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[o?s.jsx(Ss,{className:"animate-spin h-4 w-4"}):s.jsx(yc,{className:"h-4 w-4"}),s.jsx("span",{children:o?"Updating...":"Update Password"})]}),s.jsx("button",{onClick:()=>x("password"),disabled:o,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx(Rt,{className:"h-6 w-6 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Password Protection"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Your account is secured with a strong password"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Account Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Account Type"}),s.jsx("div",{className:"flex items-center space-x-2 mt-1",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.is_admin?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:e.is_admin?"Administrator":"User"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Member Since"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.created_at?new Date(e.created_at).toLocaleDateString():"Unknown"})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ss,{className:"animate-spin h-8 w-8 text-indigo-600"})})},tn=({children:e,requiresAuth:t=!0,setShowAuthModal:r})=>{const{user:n,loading:a}=pe(),{addNotification:i}=De();return m.useEffect(()=>{!a&&t&&!n&&(i&&i("Please sign in to access this feature","warning"),r&&r(!0))},[n,a,t,r,i]),a?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx(tm,{})}):t&&!n?s.jsx(wa,{onSignIn:()=>r&&r(!0)}):e},wa=({onSignIn:e,tabName:t})=>s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:s.jsx(Rt,{className:"w-8 h-8 text-indigo-600"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Please sign in to access ",t||"this feature"," and view your personalized data."]}),s.jsx("button",{onClick:e,className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors duration-200",children:"Sign In to Continue"})]})}),Zp=({setShowAuthModal:e})=>{const{user:t}=pe();return t?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx(Yp,{})}):s.jsx(wa,{tabName:"Profile Settings",onSignIn:()=>e&&e(!0)})},Xp=({setShowAuthModal:e})=>{const{user:t}=pe(),r=Vr();let n={isLoading:!0,error:null,data:null};try{n=va("analytics")}catch(a){console.error("Analytics data hook error:",a),n={isLoading:!1,error:a.message,data:null}}return t?n.isLoading?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-indigo-600 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics data..."})]}):n.error?s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"text-red-600 mb-4",children:[s.jsx(Y,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{className:"font-medium",children:"Failed to load analytics"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.error})]}),s.jsxs("button",{onClick:()=>n.refreshData&&n.refreshData(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[s.jsx(Ht,{className:"w-4 h-4 mr-2 inline"}),"Try Again"]})]}):!n.data||n.data.isEmpty?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Fn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Analytics Data"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Make some predictions to see analytics and insights about your assessments."}),s.jsx("button",{onClick:()=>r("/predict"),className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors duration-200",children:"Start Predicting"})]}):s.jsx(Wp,{setShowAuthModal:e}):s.jsx(wa,{tabName:"Analytics",onSignIn:()=>e&&e(!0)})},Jp=({setShowAuthModal:e})=>{var a;const{user:t}=pe(),r=Vr();let n={isLoading:!0,error:null,data:null};try{n=va("insights")}catch(i){console.error("Insights data hook error:",i),n={isLoading:!1,error:i.message,data:null}}return t?n.isLoading?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-indigo-600 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading insights..."})]}):n.error?s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"text-red-600 mb-4",children:[s.jsx(Y,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{className:"font-medium",children:"Failed to load insights"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:typeof n.error=="string"?n.error:((a=n.error)==null?void 0:a.message)||"Unknown error"})]}),s.jsxs("button",{onClick:()=>n.refreshData&&n.refreshData(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[s.jsx(Ht,{className:"w-4 h-4 mr-2 inline"}),"Try Again"]})]}):!n.data||n.data.isEmpty?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Ye,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Insights Available"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Generate some predictions to unlock personalized insights and recommendations."}),s.jsx("button",{onClick:()=>r("/predict"),className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors duration-200",children:"Start Predicting"})]}):s.jsx(Vp,{setShowAuthModal:e}):s.jsx(wa,{tabName:"Insights",onSignIn:()=>e&&e(!0)})},eg=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[a,i]=m.useState(null),l=jt(),o=Vr(),{user:c,loading:u,error:h}=pe(),{addNotification:p}=De();m.useEffect(()=>{const M=g=>{const{type:d,title:x,message:b,duration:E}=g.detail;p(b,d,{title:x,duration:E})};return window.addEventListener("auth-notification",M),()=>window.removeEventListener("auth-notification",M)},[p]);const v=(M=>M==="/"||M==="/predict"?"predict":M==="/analytics"?"analytics":M==="/insights"?"insights":M==="/profile"?"profile":"predict")(l.pathname);m.useEffect(()=>{(async()=>{if(!u){const g=localStorage.getItem("hasVisited");!c&&!g&&localStorage.setItem("hasVisited","true"),t(!1),n(!0)}})()},[u,c]);const y=M=>{o({predict:"/predict",analytics:"/analytics",insights:"/insights",profile:"/profile"}[M]||"/predict")},C=M=>{console.log(`Authentication required for tab: ${M}`),t(!0)};return m.useEffect(()=>{!u&&!c&&["/analytics","/insights","/profile"].includes(l.pathname)&&o("/predict")},[c,u,l.pathname,o]),u||!r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(tm,{size:"large"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Loading FinDistress AI"}),s.jsx("p",{className:"text-gray-600",children:"Preparing your AI-powered business insights..."})]})]})}):a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4 max-w-md mx-auto px-4",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Y,{className:"w-8 h-8 text-red-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Connection Error"}),s.jsx("p",{className:"text-gray-600",children:"Unable to connect to our financial analysis service. Please check your internet connection and try again."}),s.jsx("button",{onClick:()=>{i(null),window.location.reload()},className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:"Try Again"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 font-sans relative overflow-x-hidden",children:[s.jsx(Gp,{}),c&&s.jsx(Ap,{activeTab:v,setActiveTab:y,setShowAuthModal:t}),s.jsx(Cp,{}),s.jsx("main",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${c?"py-6 sm:py-8":"py-12"} relative z-10`,children:c?s.jsxs(em,{children:[!l.pathname.startsWith("/profile")&&s.jsx(Qp,{activeTab:v,setActiveTab:y,onAuthRequired:C}),s.jsx("div",{className:"transition-all duration-300 ease-in-out",children:s.jsxs(C0,{children:[s.jsx(Yt,{path:"/",element:s.jsx(tn,{requiresAuth:!1,setShowAuthModal:t,children:s.jsx(wc,{})})}),s.jsx(Yt,{path:"/predict",element:s.jsx(tn,{requiresAuth:!1,setShowAuthModal:t,children:s.jsx(wc,{})})}),s.jsx(Yt,{path:"/analytics",element:s.jsx(tn,{requiresAuth:!0,setShowAuthModal:t,children:s.jsx(Xp,{setShowAuthModal:t})})}),s.jsx(Yt,{path:"/insights",element:s.jsx(tn,{requiresAuth:!0,setShowAuthModal:t,children:s.jsx(Jp,{setShowAuthModal:t})})}),s.jsx(Yt,{path:"/profile",element:s.jsx(tn,{requiresAuth:!0,setShowAuthModal:t,children:s.jsx(Zp,{setShowAuthModal:t})})}),s.jsx(Yt,{path:"*",element:s.jsx(k0,{to:"/",replace:!0})})]})})]}):s.jsx(qp,{onGetStarted:()=>t(!0)})}),s.jsx(Kp,{showAuthModal:e,setShowAuthModal:t,authError:h,onSuccess:()=>{t(!1)}}),c&&s.jsx("footer",{className:"mt-16 bg-white/30 backdrop-blur-sm border-t border-white/20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("span",{className:"font-semibold text-indigo-600",children:"FinDistress AI"})," - Professional Financial Health Analysis Platform"]}),s.jsx("p",{className:"text-xs",children:"Powered by Advanced Machine Learning  Real-time Risk Assessment  Business-Friendly Insights"})]})})})]})},tg=()=>s.jsx(em,{children:s.jsx(Y0,{children:s.jsx(lp,{children:s.jsx(ip,{children:s.jsx(op,{children:s.jsx(eg,{})})})})})});console.log("ENHANCED API Configuration Debug:");console.log("Environment Mode:","production");console.log("VITE_API_BASE (raw):","https://findistress-ai-web-app-backend.onrender.com/api/v1");console.log("All Environment Variables:",Object.keys({VITE_API_BASE:"https://findistress-ai-web-app-backend.onrender.com/api/v1",VITE_APP_NAME:"FinDistress AI",VITE_APP_VERSION:"2.0.0",VITE_DEV_MODE:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}).filter(e=>e.startsWith("VITE_")));console.log("Hard-coded API Base:","https://findistress-ai-web-app-backend.onrender.com/api/v1");console.log("Testing API endpoint...");fetch("https://findistress-ai-web-app-backend.onrender.com/api/v1/health").then(e=>(console.log("API Health Check Status:",e.status),e.json())).then(e=>console.log("API Health Check Data:",e)).catch(e=>console.error("API Health Check Failed:",e));const rg=performance.now(),Zl=e=>{console.error("Global application error:",e)};window.addEventListener("error",e=>{Zl({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error})});window.addEventListener("unhandledrejection",e=>{Zl({type:"unhandledrejection",reason:e.reason})});const ng=Xa.createRoot(document.getElementById("root")),sg=()=>{try{ng.render(s.jsx(Rc.StrictMode,{children:s.jsx(tg,{})}));const t=performance.now()-rg;console.log(`FinDistress AI loaded in ${t.toFixed(2)}ms`),window.gtag&&window.gtag("event","page_load_time",{value:Math.round(t),event_category:"Performance"})}catch(e){Zl({type:"render_error",error:e.message,stack:e.stack}),document.getElementById("root").innerHTML=`
            <div style="
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                padding: 2rem;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 50%, #eef2ff 100%);
                color: #1e293b;
                text-align: center;
            ">
                <div style="
                    background: white;
                    padding: 2rem;
                    border-radius: 1rem;
                    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
                    max-width: 500px;
                ">
                    <div style="
                        width: 64px;
                        height: 64px;
                        background: #fee2e2;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin: 0 auto 1rem;
                    ">
                        <svg width="32" height="32" fill="#dc2626" viewBox="0 0 24 24">
                            <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"/>
                        </svg>
                    </div>
                    <h1 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem;">
                        Application Error
                    </h1>
                    <p style="color: #6b7280; margin-bottom: 1.5rem;">
                        We're sorry, but something went wrong loading the Financial Health Analyzer. 
                        Please refresh the page to try again.
                    </p>
                    <button onclick="window.location.reload()" style="
                        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
                        color: white;
                        border: none;
                        padding: 0.75rem 1.5rem;
                        border-radius: 0.75rem;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.2s;
                    ">
                        Refresh Page
                    </button>
                </div>
            </div>
        `}};sg();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});"PerformanceObserver"in window&&new PerformanceObserver(t=>{t.getEntries().forEach(n=>{n.entryType==="navigation"&&console.log(`Navigation timing: ${n.loadEventEnd-n.loadEventStart}ms`)})}).observe({entryTypes:["navigation","measure"]});
